!(function(){var Fu=(L,W)=>(W=Symbol[L])?W:Symbol.for("Symbol."+L),Ru=L=>{throw TypeError(L)};var Tu=function(L,W){this[0]=L,this[1]=W};var Au=L=>{var W=L[Fu("asyncIterator")],O=!1,j,T={};return W==null?(W=L[Fu("iterator")](),j=X=>T[X]=Z=>W[X](Z)):(W=W.call(L),j=X=>T[X]=Z=>{if(O){if(O=!1,X==="throw")throw Z;return Z}return O=!0,{done:!1,value:new Tu(new Promise(k=>{var ae=W[X](Z);ae instanceof Object||Ru("Object expected"),k(ae)}),1)}}),T[Fu("iterator")]=()=>T,j("next"),"throw"in W?j("throw"):T.throw=X=>{throw X},"return"in W&&j("return"),T};(self.webpackChunk_agentscope_ai_design=self.webpackChunk_agentscope_ai_design||[]).push([[3729],{58911:function(L,W,O){"use strict";O.d(W,{Z:function(){return me}});var j=O(75271),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 972.8c254.5 0 460.8-206.3 460.8-460.8S766.5 51.2 512 51.2 51.2 257.5 51.2 512 257.5 972.8 512 972.8zm357.04-602.15Q896 438.75 896 512t-26.96 141.35q-29.28 73.94-85.51 130.18a380.12 380.12 0 01-130.18 85.51Q585.25 896 512 896t-141.35-26.96q-73.94-29.28-130.18-85.51-56.23-56.24-85.51-130.18Q128 585.25 128 512c0-48.83 8.99-95.95 26.96-141.35q29.28-73.94 85.51-130.18 56.24-56.23 130.18-85.51Q438.75 128 512 128c48.83 0 95.95 8.99 141.35 26.96q73.94 29.28 130.18 85.51c37.49 37.5 66 80.88 85.51 130.18zm-145.57 45.62a38.4 38.4 0 0011.25-27.15 38.4 38.4 0 00-38.4-38.4 38.4 38.4 0 00-27.15 11.25l-218.61 218.6-95.73-95.72a38.4 38.4 0 00-27.15-11.25 38.4 38.4 0 00-27.15 65.55L423.4 662.03c15 15 39.3 15 54.3 0l245.76-245.76z"}}]},name:"check-circle",theme:"outlined"},X=T,Z=O(56266);function k(){return k=Object.assign?Object.assign.bind():function(ce){for(var re=1;re<arguments.length;re++){var q=arguments[re];for(var Q in q)Object.prototype.hasOwnProperty.call(q,Q)&&(ce[Q]=q[Q])}return ce},k.apply(this,arguments)}const ae=(ce,re)=>j.createElement(Z.Z,k({},ce,{ref:re,icon:X}));var me=j.forwardRef(ae)},99090:function(L,W,O){"use strict";O.d(W,{Z:function(){return me}});var j=O(75271),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 972.8c254.5 0 460.8-206.3 460.8-460.8S766.5 51.2 512 51.2 51.2 257.5 51.2 512 257.5 972.8 512 972.8zm357.04-602.15Q896 438.75 896 512t-26.96 141.35q-29.28 73.94-85.51 130.18a380.12 380.12 0 01-130.18 85.51Q585.25 896 512 896t-141.35-26.96q-73.94-29.28-130.18-85.51-56.23-56.24-85.51-130.18C136.99 607.95 128 560.83 128 512s8.99-95.95 26.96-141.35q29.28-73.94 85.51-130.18 56.24-56.23 130.18-85.51Q438.75 128 512 128c48.83 0 95.95 8.99 141.35 26.96q73.94 29.28 130.18 85.51c37.49 37.5 66 80.88 85.51 130.18zm-445.09 283.7a38.39 38.39 0 01-27.15 11.25 38.4 38.4 0 01-27.15-65.55L457.69 512l-88.04-88.05a38.4 38.4 0 01-11.25-27.15 38.4 38.4 0 0165.55-27.15L512 457.69l88.05-88.04a38.4 38.4 0 0127.15-11.25 38.4 38.4 0 0127.15 65.55L566.31 512l88.04 88.05a38.39 38.39 0 0111.25 27.15 38.4 38.4 0 01-38.4 38.4 38.39 38.39 0 01-27.15-11.25L512 566.31l-88.05 88.04z"}}]},name:"close-circle",theme:"outlined"},X=T,Z=O(56266);function k(){return k=Object.assign?Object.assign.bind():function(ce){for(var re=1;re<arguments.length;re++){var q=arguments[re];for(var Q in q)Object.prototype.hasOwnProperty.call(q,Q)&&(ce[Q]=q[Q])}return ce},k.apply(this,arguments)}const ae=(ce,re)=>j.createElement(Z.Z,k({},ce,{ref:re,icon:X}));var me=j.forwardRef(ae)},88602:function(L,W,O){"use strict";O.d(W,{Z:function(){return me}});var j=O(75271),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 972.8c254.5 0 460.8-206.3 460.8-460.8S766.5 51.2 512 51.2 51.2 257.5 51.2 512 257.5 972.8 512 972.8zm357.04-602.15Q896 438.75 896 512t-26.96 141.35q-29.28 73.94-85.51 130.18a380.12 380.12 0 01-130.18 85.51Q585.25 896 512 896t-141.35-26.96q-73.94-29.28-130.18-85.51-56.23-56.24-85.51-130.18Q128 585.25 128 512t26.96-141.35q29.28-73.94 85.51-130.18 56.24-56.23 130.18-85.51C416.05 136.99 463.17 128 512 128s95.95 8.99 141.35 26.96q73.94 29.28 130.18 85.51c37.49 37.5 66 80.88 85.51 130.18zm-407.36-27.72a50.42 50.42 0 11100.64 0l-13.55 211.38a36.85 36.85 0 01-73.54 0l-13.55-211.38zM512 742.4a53.76 53.76 0 100-107.52 53.76 53.76 0 000 107.52z"}}]},name:"exclamation-circle",theme:"outlined"},X=T,Z=O(56266);function k(){return k=Object.assign?Object.assign.bind():function(ce){for(var re=1;re<arguments.length;re++){var q=arguments[re];for(var Q in q)Object.prototype.hasOwnProperty.call(q,Q)&&(ce[Q]=q[Q])}return ce},k.apply(this,arguments)}const ae=(ce,re)=>j.createElement(Z.Z,k({},ce,{ref:re,icon:X}));var me=j.forwardRef(ae)},62910:function(L,W,O){"use strict";O.d(W,{Z:function(){return me}});var j=O(75271),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 972.8c254.5 0 460.8-206.3 460.8-460.8S766.5 51.2 512 51.2 51.2 257.5 51.2 512 257.5 972.8 512 972.8zm357.04-602.15Q896 438.75 896 512t-26.96 141.35q-29.28 73.94-85.51 130.18a380.12 380.12 0 01-130.18 85.51Q585.25 896 512 896t-141.35-26.96q-73.94-29.28-130.18-85.51-56.23-56.24-85.51-130.18Q128 585.25 128 512t26.96-141.35q29.28-73.94 85.51-130.18 56.24-56.23 130.18-85.51C416.05 136.99 463.17 128 512 128s95.95 8.99 141.35 26.96q73.94 29.28 130.18 85.51c37.49 37.5 66 80.88 85.51 130.18zM569.6 262.4a57.6 57.6 0 11-115.2 0 57.6 57.6 0 01115.2 0zm30.72 433.92h-38.4V416c0-5.71-1.11-11.2-3.33-16.45a41.9 41.9 0 00-9.04-13.42 41.9 41.9 0 00-13.42-9.04 41.82 41.82 0 00-16.45-3.33h-42.24a38.4 38.4 0 000 76.8h7.68v245.76h-38.4a38.4 38.4 0 000 76.8h153.6a38.4 38.4 0 000-76.8z"}}]},name:"info-circle",theme:"outlined"},X=T,Z=O(56266);function k(){return k=Object.assign?Object.assign.bind():function(ce){for(var re=1;re<arguments.length;re++){var q=arguments[re];for(var Q in q)Object.prototype.hasOwnProperty.call(q,Q)&&(ce[Q]=q[Q])}return ce},k.apply(this,arguments)}const ae=(ce,re)=>j.createElement(Z.Z,k({},ce,{ref:re,icon:X}));var me=j.forwardRef(ae)},1783:function(L,W,O){"use strict";var j=O(82092).default,T=O(48305).default,X=O(335).default,Z=O(31759).default,k=O(15558).default,ae=O(90493),E=O(54525),me=O(64076),ce=O(1469),re=function(H){return H==null},q=Symbol("encodeFragmentIdentifier");function Q(P){switch(P.arrayFormat){case"index":return function(z){return function(G,U){var ke=G.length;return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?G:U===null?[].concat(k(G),[[ve(z,P),"[",ke,"]"].join("")]):[].concat(k(G),[[ve(z,P),"[",ve(ke,P),"]=",ve(U,P)].join("")])}};case"bracket":return function(z){return function(G,U){return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?G:U===null?[].concat(k(G),[[ve(z,P),"[]"].join("")]):[].concat(k(G),[[ve(z,P),"[]=",ve(U,P)].join("")])}};case"colon-list-separator":return function(z){return function(G,U){return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?G:U===null?[].concat(k(G),[[ve(z,P),":list="].join("")]):[].concat(k(G),[[ve(z,P),":list=",ve(U,P)].join("")])}};case"comma":case"separator":case"bracket-separator":{var H=P.arrayFormat==="bracket-separator"?"[]=":"=";return function(z){return function(G,U){return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?G:(U=U===null?"":U,G.length===0?[[ve(z,P),H,ve(U,P)].join("")]:[[G,ve(U,P)].join(P.arrayFormatSeparator)])}}}default:return function(z){return function(G,U){return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?G:U===null?[].concat(k(G),[ve(z,P)]):[].concat(k(G),[[ve(z,P),"=",ve(U,P)].join("")])}}}}function we(P){var H;switch(P.arrayFormat){case"index":return function(z,G,U){if(H=/\[(\d*)\]$/.exec(z),z=z.replace(/\[\d*\]$/,""),!H){U[z]=G;return}U[z]===void 0&&(U[z]={}),U[z][H[1]]=G};case"bracket":return function(z,G,U){if(H=/(\[\])$/.exec(z),z=z.replace(/\[\]$/,""),!H){U[z]=G;return}if(U[z]===void 0){U[z]=[G];return}U[z]=[].concat(U[z],G)};case"colon-list-separator":return function(z,G,U){if(H=/(:list)$/.exec(z),z=z.replace(/:list$/,""),!H){U[z]=G;return}if(U[z]===void 0){U[z]=[G];return}U[z]=[].concat(U[z],G)};case"comma":case"separator":return function(z,G,U){var ke=typeof G=="string"&&G.includes(P.arrayFormatSeparator),$e=typeof G=="string"&&!ke&&ye(G,P).includes(P.arrayFormatSeparator);G=$e?ye(G,P):G;var Re=ke||$e?G.split(P.arrayFormatSeparator).map(function(rr){return ye(rr,P)}):G===null?G:ye(G,P);U[z]=Re};case"bracket-separator":return function(z,G,U){var ke=/(\[\])$/.test(z);if(z=z.replace(/\[\]$/,""),!ke){U[z]=G&&ye(G,P);return}var $e=G===null?[]:G.split(P.arrayFormatSeparator).map(function(Re){return ye(Re,P)});if(U[z]===void 0){U[z]=$e;return}U[z]=[].concat(U[z],$e)};default:return function(z,G,U){if(U[z]===void 0){U[z]=G;return}U[z]=[].concat(U[z],G)}}}function oe(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ve(P,H){return H.encode?H.strict?ae(P):encodeURIComponent(P):P}function ye(P,H){return H.decode?E(P):P}function ge(P){return Array.isArray(P)?P.sort():Z(P)==="object"?ge(Object.keys(P)).sort(function(H,z){return Number(H)-Number(z)}).map(function(H){return P[H]}):P}function f(P){var H=P.indexOf("#");return H!==-1&&(P=P.slice(0,H)),P}function Me(P){var H="",z=P.indexOf("#");return z!==-1&&(H=P.slice(z)),H}function Ze(P){P=f(P);var H=P.indexOf("?");return H===-1?"":P.slice(H+1)}function He(P,H){return H.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):H.parseBooleans&&P!==null&&(P.toLowerCase()==="true"||P.toLowerCase()==="false")&&(P=P.toLowerCase()==="true"),P}function vr(P,H){H=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},H),oe(H.arrayFormatSeparator);var z=we(H),G=Object.create(null);if(typeof P!="string"||(P=P.trim().replace(/^[?#&]/,""),!P))return G;var U=X(P.split("&")),ke;try{for(U.s();!(ke=U.n()).done;){var $e=ke.value;if($e!==""){var Re=me(H.decode?$e.replace(/\+/g," "):$e,"="),rr=T(Re,2),Qe=rr[0],Le=rr[1];Le=Le===void 0?null:["comma","separator","bracket-separator"].includes(H.arrayFormat)?Le:ye(Le,H),z(ye(Qe,H),Le,G)}}}catch(ct){U.e(ct)}finally{U.f()}for(var Wr=0,wr=Object.keys(G);Wr<wr.length;Wr++){var ft=wr[Wr],or=G[ft];if(Z(or)==="object"&&or!==null)for(var Kr=0,St=Object.keys(or);Kr<St.length;Kr++){var Pt=St[Kr];or[Pt]=He(or[Pt],H)}else G[ft]=He(or,H)}return H.sort===!1?G:(H.sort===!0?Object.keys(G).sort():Object.keys(G).sort(H.sort)).reduce(function(ct,Ht){var vt=G[Ht];return vt&&Z(vt)==="object"&&!Array.isArray(vt)?ct[Ht]=ge(vt):ct[Ht]=vt,ct},Object.create(null))}W.extract=Ze,W.parse=vr,W.stringify=function(P,H){if(!P)return"";H=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},H),oe(H.arrayFormatSeparator);for(var z=function(Le){return H.skipNull&&re(P[Le])||H.skipEmptyString&&P[Le]===""},G=Q(H),U={},ke=0,$e=Object.keys(P);ke<$e.length;ke++){var Re=$e[ke];z(Re)||(U[Re]=P[Re])}var rr=Object.keys(U);return H.sort!==!1&&rr.sort(H.sort),rr.map(function(Qe){var Le=P[Qe];return Le===void 0?"":Le===null?ve(Qe,H):Array.isArray(Le)?Le.length===0&&H.arrayFormat==="bracket-separator"?ve(Qe,H)+"[]":Le.reduce(G(Qe),[]).join("&"):ve(Qe,H)+"="+ve(Le,H)}).filter(function(Qe){return Qe.length>0}).join("&")},W.parseUrl=function(P,H){H=Object.assign({decode:!0},H);var z=me(P,"#"),G=T(z,2),U=G[0],ke=G[1];return Object.assign({url:U.split("?")[0]||"",query:vr(Ze(P),H)},H&&H.parseFragmentIdentifier&&ke?{fragmentIdentifier:ye(ke,H)}:{})},W.stringifyUrl=function(P,H){H=Object.assign(j({encode:!0,strict:!0},q,!0),H);var z=f(P.url).split("?")[0]||"",G=W.extract(P.url),U=W.parse(G,{sort:!1}),ke=Object.assign(U,P.query),$e=W.stringify(ke,H);$e&&($e="?".concat($e));var Re=Me(P.url);return P.fragmentIdentifier&&(Re="#".concat(H[q]?ve(P.fragmentIdentifier,H):P.fragmentIdentifier)),"".concat(z).concat($e).concat(Re)},W.pick=function(P,H,z){z=Object.assign(j({parseFragmentIdentifier:!0},q,!1),z);var G=W.parseUrl(P,z),U=G.url,ke=G.query,$e=G.fragmentIdentifier;return W.stringifyUrl({url:U,query:ce(ke,H),fragmentIdentifier:$e},z)},W.exclude=function(P,H,z){var G=Array.isArray(H)?function(U){return!H.includes(U)}:function(U,ke){return!H(U,ke)};return W.pick(P,G,z)}},64076:function(L){"use strict";L.exports=function(W,O){if(!(typeof W=="string"&&typeof O=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(O==="")return[W];var j=W.indexOf(O);return j===-1?[W]:[W.slice(0,j),W.slice(j+O.length)]}},90493:function(L){"use strict";L.exports=function(W){return encodeURIComponent(W).replace(/[!'()*]/g,function(O){return"%".concat(O.charCodeAt(0).toString(16).toUpperCase())})}},56630:function(L,W,O){"use strict";O.d(W,{Z:function(){return ye}});var j=O(15767),T=O(75271),X=function(ge){return ge!==null&&typeof ge=="object"},Z=function(ge){return typeof ge=="function"},k=function(ge){return typeof ge=="string"},ae=function(ge){return typeof ge=="boolean"},E=function(ge){return typeof ge=="number"},me=function(ge){return typeof ge=="undefined"},ce=!1,re=ce;function q(ge){re&&(Z(ge)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof ge)));var f=(0,T.useRef)(ge);f.current=(0,T.useMemo)(function(){return ge},[ge]);var Me=(0,T.useRef)();return Me.current||(Me.current=function(){for(var Ze=[],He=0;He<arguments.length;He++)Ze[He]=arguments[He];return f.current.apply(this,Ze)}),Me.current}var Q=q,we=function(){var ge=(0,j.CR)((0,T.useState)({}),2),f=ge[1];return(0,T.useCallback)(function(){return f({})},[])},oe=we;function ve(ge,f){f===void 0&&(f={});var Me=ge!=null?ge:{},Ze=f.defaultValue,He=f.defaultValuePropName,vr=He===void 0?"defaultValue":He,P=f.valuePropName,H=P===void 0?"value":P,z=f.trigger,G=z===void 0?"onChange":z,U=Me[H],ke=Object.prototype.hasOwnProperty.call(Me,H),$e=(0,T.useMemo)(function(){return ke?U:Object.prototype.hasOwnProperty.call(Me,vr)?Me[vr]:Ze},[]),Re=(0,T.useRef)($e);ke&&(Re.current=U);var rr=oe();function Qe(Le){for(var Wr=[],wr=1;wr<arguments.length;wr++)Wr[wr-1]=arguments[wr];var ft=Z(Le)?Le(Re.current):Le;ke||(Re.current=ft,rr()),Me[G]&&Me[G].apply(Me,(0,j.ev)([ft],(0,j.CR)(Wr),!1))}return[Re.current,Q(Qe)]}var ye=ve},54525:function(L){"use strict";var W="%[a-f0-9]{2}",O=new RegExp("("+W+")|([^%]+?)","gi"),j=new RegExp("("+W+")+","gi");function T(k,ae){try{return[decodeURIComponent(k.join(""))]}catch(ce){}if(k.length===1)return k;ae=ae||1;var E=k.slice(0,ae),me=k.slice(ae);return Array.prototype.concat.call([],T(E),T(me))}function X(k){try{return decodeURIComponent(k)}catch(me){for(var ae=k.match(O)||[],E=1;E<ae.length;E++)k=T(ae,E).join(""),ae=k.match(O)||[];return k}}function Z(k){for(var ae={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},E=j.exec(k);E;){try{ae[E[0]]=decodeURIComponent(E[0])}catch(Q){var me=X(E[0]);me!==E[0]&&(ae[E[0]]=me)}E=j.exec(k)}ae["%C2"]="\uFFFD";for(var ce=Object.keys(ae),re=0;re<ce.length;re++){var q=ce[re];k=k.replace(new RegExp(q,"g"),ae[q])}return k}L.exports=function(k){if(typeof k!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof k+"`");try{return k=k.replace(/\+/g," "),decodeURIComponent(k)}catch(ae){return Z(k)}}},51842:function(L){"use strict";L.exports=X;var W="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",O="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",j=new RegExp("^[^"+O+"]*["+W+"]"),T=new RegExp("^[^"+W+"]*["+O+"]");function X(Z){return Z=String(Z||""),j.test(Z)?"rtl":T.test(Z)?"ltr":"neutral"}},1469:function(L){"use strict";L.exports=function(W,O){for(var j={},T=Object.keys(W),X=Array.isArray(O),Z=0;Z<T.length;Z++){var k=T[Z],ae=W[k];(X?O.indexOf(k)!==-1:O(k,ae,W))&&(j[k]=ae)}return j}},55626:function(L,W){"use strict";var O;O={value:!0};for(var j=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),T={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},X={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:j?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Z={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},k=1;k<20;k++)Z["f"+k]=111+k;function ae(we,oe,ve){oe&&!("byKey"in oe)&&(ve=oe,oe=null),Array.isArray(we)||(we=[we]);var ye=we.map(function(Me){return ce(Me,oe)}),ge=function(Ze){return ye.some(function(He){return re(He,Ze)})},f=ve==null?ge:ge(ve);return f}function E(we,oe){return ae(we,oe)}function me(we,oe){return ae(we,{byKey:!0},oe)}function ce(we,oe){var ve=oe&&oe.byKey,ye={};we=we.replace("++","+add");var ge=we.split("+"),f=ge.length;for(var Me in T)ye[T[Me]]=!1;var Ze=!0,He=!1,vr=void 0;try{for(var P=ge[Symbol.iterator](),H;!(Ze=(H=P.next()).done);Ze=!0){var z=H.value,G=z.endsWith("?")&&z.length>1;G&&(z=z.slice(0,-1));var U=Q(z),ke=T[U];(f===1||!ke)&&(ve?ye.key=U:ye.which=q(z)),ke&&(ye[ke]=G?null:!0)}}catch($e){He=!0,vr=$e}finally{try{!Ze&&P.return&&P.return()}finally{if(He)throw vr}}return ye}function re(we,oe){for(var ve in we){var ye=we[ve],ge=void 0;if(ye!=null&&(ve==="key"&&oe.key!=null?ge=oe.key.toLowerCase():ve==="which"?ge=ye===91&&oe.which===93?91:oe.which:ge=oe[ve],!(ge==null&&ye===!1)&&ge!==ye))return!1}return!0}function q(we){we=Q(we);var oe=Z[we]||we.toUpperCase().charCodeAt(0);return oe}function Q(we){return we=we.toLowerCase(),we=X[we]||we,we}O=ae,O=ae,O=E,W.TB=me,O=ce,O=re,O=q,O=Q},74396:function(L,W,O){var j=O(29165),T=j.Symbol;L.exports=T},80732:function(L,W,O){var j=O(74396),T=O(31239),X=O(57058),Z="[object Null]",k="[object Undefined]",ae=j?j.toStringTag:void 0;function E(me){return me==null?me===void 0?k:Z:ae&&ae in Object(me)?T(me):X(me)}L.exports=E},33124:function(L,W,O){var j=O(82996),T=/^\s+/;function X(Z){return Z&&Z.slice(0,j(Z)+1).replace(T,"")}L.exports=X},96476:function(L,W,O){var j=typeof O.g=="object"&&O.g&&O.g.Object===Object&&O.g;L.exports=j},31239:function(L,W,O){var j=O(74396),T=Object.prototype,X=T.hasOwnProperty,Z=T.toString,k=j?j.toStringTag:void 0;function ae(E){var me=X.call(E,k),ce=E[k];try{E[k]=void 0;var re=!0}catch(Q){}var q=Z.call(E);return re&&(me?E[k]=ce:delete E[k]),q}L.exports=ae},57058:function(L){var W=Object.prototype,O=W.toString;function j(T){return O.call(T)}L.exports=j},29165:function(L,W,O){var j=O(96476),T=typeof self=="object"&&self&&self.Object===Object&&self,X=j||T||Function("return this")();L.exports=X},82996:function(L){var W=/\s/;function O(j){for(var T=j.length;T--&&W.test(j.charAt(T)););return T}L.exports=O},66292:function(L,W,O){var j=O(36838),T=O(76668),X=O(12448),Z="Expected a function",k=Math.max,ae=Math.min;function E(me,ce,re){var q,Q,we,oe,ve,ye,ge=0,f=!1,Me=!1,Ze=!0;if(typeof me!="function")throw new TypeError(Z);ce=X(ce)||0,j(re)&&(f=!!re.leading,Me="maxWait"in re,we=Me?k(X(re.maxWait)||0,ce):we,Ze="trailing"in re?!!re.trailing:Ze);function He(Re){var rr=q,Qe=Q;return q=Q=void 0,ge=Re,oe=me.apply(Qe,rr),oe}function vr(Re){return ge=Re,ve=setTimeout(z,ce),f?He(Re):oe}function P(Re){var rr=Re-ye,Qe=Re-ge,Le=ce-rr;return Me?ae(Le,we-Qe):Le}function H(Re){var rr=Re-ye,Qe=Re-ge;return ye===void 0||rr>=ce||rr<0||Me&&Qe>=we}function z(){var Re=T();if(H(Re))return G(Re);ve=setTimeout(z,P(Re))}function G(Re){return ve=void 0,Ze&&q?He(Re):(q=Q=void 0,oe)}function U(){ve!==void 0&&clearTimeout(ve),ge=0,q=ye=Q=ve=void 0}function ke(){return ve===void 0?oe:G(T())}function $e(){var Re=T(),rr=H(Re);if(q=arguments,Q=this,ye=Re,rr){if(ve===void 0)return vr(ye);if(Me)return clearTimeout(ve),ve=setTimeout(z,ce),He(ye)}return ve===void 0&&(ve=setTimeout(z,ce)),oe}return $e.cancel=U,$e.flush=ke,$e}L.exports=E},36838:function(L){function W(O){var j=typeof O;return O!=null&&(j=="object"||j=="function")}L.exports=W},55073:function(L){function W(O){return O!=null&&typeof O=="object"}L.exports=W},16764:function(L,W,O){var j=O(80732),T=O(55073),X="[object Symbol]";function Z(k){return typeof k=="symbol"||T(k)&&j(k)==X}L.exports=Z},76668:function(L,W,O){var j=O(29165),T=function(){return j.Date.now()};L.exports=T},38209:function(L,W,O){var j=O(66292),T=O(36838),X="Expected a function";function Z(k,ae,E){var me=!0,ce=!0;if(typeof k!="function")throw new TypeError(X);return T(E)&&(me="leading"in E?!!E.leading:me,ce="trailing"in E?!!E.trailing:ce),j(k,ae,{leading:me,maxWait:ae,trailing:ce})}L.exports=Z},12448:function(L,W,O){var j=O(33124),T=O(36838),X=O(16764),Z=NaN,k=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,E=/^0o[0-7]+$/i,me=parseInt;function ce(re){if(typeof re=="number")return re;if(X(re))return Z;if(T(re)){var q=typeof re.valueOf=="function"?re.valueOf():re;re=T(q)?q+"":q}if(typeof re!="string")return re===0?re:+re;re=j(re);var Q=ae.test(re);return Q||E.test(re)?me(re.slice(2),Q?2:8):k.test(re)?Z:+re}L.exports=ce},28533:function(L,W,O){"use strict";O.d(W,{MO:function(){return E},VC:function(){return me}});var j=O(33213),T=O(75040),X={isHistory(q){return(0,j.P)(q)&&Array.isArray(q.redos)&&Array.isArray(q.undos)&&(q.redos.length===0||T.OX.isOperationList(q.redos[0].operations))&&(q.undos.length===0||T.OX.isOperationList(q.undos[0].operations))}},Z=new WeakMap,k=new WeakMap,ae=new WeakMap,E={isHistoryEditor(q){return X.isHistory(q.history)&&T.ML.isEditor(q)},isMerging(q){return ae.get(q)},isSaving(q){return k.get(q)},redo(q){q.redo()},undo(q){q.undo()},withoutMerging(q,Q){var we=E.isMerging(q);ae.set(q,!1),Q(),ae.set(q,we)},withoutSaving(q,Q){var we=E.isSaving(q);k.set(q,!1),Q(),k.set(q,we)}},me=q=>{var Q=q,{apply:we}=Q;return Q.history={undos:[],redos:[]},Q.redo=()=>{var{history:oe}=Q,{redos:ve}=oe;if(ve.length>0){var ye=ve[ve.length-1];ye.selectionBefore&&T.YR.setSelection(Q,ye.selectionBefore),E.withoutSaving(Q,()=>{T.ML.withoutNormalizing(Q,()=>{for(var ge of ye.operations)Q.apply(ge)})}),oe.redos.pop(),oe.undos.push(ye)}},Q.undo=()=>{var{history:oe}=Q,{undos:ve}=oe;if(ve.length>0){var ye=ve[ve.length-1];E.withoutSaving(Q,()=>{T.ML.withoutNormalizing(Q,()=>{var ge=ye.operations.map(T.OX.inverse).reverse();for(var f of ge)Q.apply(f);ye.selectionBefore&&T.YR.setSelection(Q,ye.selectionBefore)})}),oe.redos.push(ye),oe.undos.pop()}},Q.apply=oe=>{var{operations:ve,history:ye}=Q,{undos:ge}=ye,f=ge[ge.length-1],Me=f&&f.operations[f.operations.length-1],Ze=E.isSaving(Q),He=E.isMerging(Q);if(Ze==null&&(Ze=re(oe)),Ze){if(He==null&&(f==null?He=!1:ve.length!==0?He=!0:He=ce(oe,Me)),f&&He)f.operations.push(oe);else{var vr={operations:[oe],selectionBefore:Q.selection};ge.push(vr)}for(;ge.length>100;)ge.shift();ye.redos=[]}we(oe)},Q},ce=(q,Q)=>!!(Q&&q.type==="insert_text"&&Q.type==="insert_text"&&q.offset===Q.offset+Q.text.length&&T.y$.equals(q.path,Q.path)||Q&&q.type==="remove_text"&&Q.type==="remove_text"&&q.offset+q.text.length===Q.offset&&T.y$.equals(q.path,Q.path)),re=(q,Q)=>q.type!=="set_selection"},20335:function(L,W,O){"use strict";O.d(W,{CX:function(){return Yr},F3:function(){return M},mH:function(){return mu},BU:function(){return Ft}});var j=O(51842),T=O.n(j),X=O(66292),Z=O.n(X),k=O(38209),ae=O.n(k),E=O(75271);function me(a){return typeof a=="object"&&a!=null&&a.nodeType===1}function ce(a,t){return(!t||a!=="hidden")&&a!=="visible"&&a!=="clip"}function re(a,t){if(a.clientHeight<a.scrollHeight||a.clientWidth<a.scrollWidth){var i=getComputedStyle(a,null);return ce(i.overflowY,t)||ce(i.overflowX,t)||function(o){var C=function(F){if(!F.ownerDocument||!F.ownerDocument.defaultView)return null;try{return F.ownerDocument.defaultView.frameElement}catch(w){return null}}(o);return!!C&&(C.clientHeight<o.scrollHeight||C.clientWidth<o.scrollWidth)}(a)}return!1}function q(a,t,i,o,C,F,w,I){return F<a&&w>t||F>a&&w<t?0:F<=a&&I<=i||w>=t&&I>=i?F-a-o:w>t&&I<i||F<a&&I>i?w-t+C:0}var Q=function(a,t){var i=window,o=t.scrollMode,C=t.block,F=t.inline,w=t.boundary,I=t.skipOverflowHiddenElements,R=typeof w=="function"?w:function(jr){return jr!==w};if(!me(a))throw new TypeError("Invalid target");for(var x,V,fe=document.scrollingElement||document.documentElement,ee=[],se=a;me(se)&&R(se);){if((se=(V=(x=se).parentElement)==null?x.getRootNode().host||null:V)===fe){ee.push(se);break}se!=null&&se===document.body&&re(se)&&!re(document.documentElement)||se!=null&&re(se,I)&&ee.push(se)}for(var te=i.visualViewport?i.visualViewport.width:innerWidth,Ee=i.visualViewport?i.visualViewport.height:innerHeight,_=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,je=a.getBoundingClientRect(),Te=je.height,Ie=je.width,nr=je.top,gr=je.right,Pr=je.bottom,sr=je.left,Ae=C==="start"||C==="nearest"?nr:C==="end"?Pr:nr+Te/2,Ve=F==="center"?sr+Ie/2:F==="end"?gr:sr,lr=[],De=0;De<ee.length;De++){var pe=ee[De],Be=pe.getBoundingClientRect(),de=Be.height,fr=Be.width,Xe=Be.top,Tr=Be.right,Br=Be.bottom,Er=Be.left;if(o==="if-needed"&&nr>=0&&sr>=0&&Pr<=Ee&&gr<=te&&nr>=Xe&&Pr<=Br&&sr>=Er&&gr<=Tr)return lr;var Gr=getComputedStyle(pe),kr=parseInt(Gr.borderLeftWidth,10),y=parseInt(Gr.borderTopWidth,10),he=parseInt(Gr.borderRightWidth,10),J=parseInt(Gr.borderBottomWidth,10),ne=0,ze=0,Ne="offsetWidth"in pe?pe.offsetWidth-pe.clientWidth-kr-he:0,Ye="offsetHeight"in pe?pe.offsetHeight-pe.clientHeight-y-J:0,cr="offsetWidth"in pe?pe.offsetWidth===0?0:fr/pe.offsetWidth:0,ur="offsetHeight"in pe?pe.offsetHeight===0?0:de/pe.offsetHeight:0;if(fe===pe)ne=C==="start"?Ae:C==="end"?Ae-Ee:C==="nearest"?q(v,v+Ee,Ee,y,J,v+Ae,v+Ae+Te,Te):Ae-Ee/2,ze=F==="start"?Ve:F==="center"?Ve-te/2:F==="end"?Ve-te:q(_,_+te,te,kr,he,_+Ve,_+Ve+Ie,Ie),ne=Math.max(0,ne+v),ze=Math.max(0,ze+_);else{ne=C==="start"?Ae-Xe-y:C==="end"?Ae-Br+J+Ye:C==="nearest"?q(Xe,Br,de,y,J+Ye,Ae,Ae+Te,Te):Ae-(Xe+de/2)+Ye/2,ze=F==="start"?Ve-Er-kr:F==="center"?Ve-(Er+fr/2)+Ne/2:F==="end"?Ve-Tr+he+Ne:q(Er,Tr,fr,kr,he+Ne,Ve,Ve+Ie,Ie);var hr=pe.scrollLeft,Lr=pe.scrollTop;Ae+=Lr-(ne=Math.max(0,Math.min(Lr+ne/ur,pe.scrollHeight-de/ur+Ye))),Ve+=hr-(ze=Math.max(0,Math.min(hr+ze/cr,pe.scrollWidth-fr/cr+Ne)))}lr.push({el:pe,top:ne,left:ze})}return lr};function we(a){return a===Object(a)&&Object.keys(a).length!==0}function oe(a,t){t===void 0&&(t="auto");var i="scrollBehavior"in document.body.style;a.forEach(function(o){var C=o.el,F=o.top,w=o.left;C.scroll&&i?C.scroll({top:F,left:w,behavior:t}):(C.scrollTop=F,C.scrollLeft=w)})}function ve(a){return a===!1?{block:"end",inline:"nearest"}:we(a)?a:{block:"start",inline:"nearest"}}function ye(a,t){var i=a.isConnected||a.ownerDocument.documentElement.contains(a);if(we(t)&&typeof t.behavior=="function")return t.behavior(i?Q(a,t):[]);if(i){var o=ve(t);return oe(Q(a,o),o.behavior)}}var ge=ye,f=O(75040),Me=[],Ze=function(){return Me.some(function(a){return a.activeTargets.length>0})},He=function(){return Me.some(function(a){return a.skippedTargets.length>0})},vr="ResizeObserver loop completed with undelivered notifications.",P=function(){var a;typeof ErrorEvent=="function"?a=new ErrorEvent("error",{message:vr}):(a=document.createEvent("Event"),a.initEvent("error",!1,!1),a.message=vr),window.dispatchEvent(a)},H;(function(a){a.BORDER_BOX="border-box",a.CONTENT_BOX="content-box",a.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(H||(H={}));var z=function(a){return Object.freeze(a)},G=function(){function a(t,i){this.inlineSize=t,this.blockSize=i,z(this)}return a}(),U=function(){function a(t,i,o,C){return this.x=t,this.y=i,this.width=o,this.height=C,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,z(this)}return a.prototype.toJSON=function(){var t=this,i=t.x,o=t.y,C=t.top,F=t.right,w=t.bottom,I=t.left,R=t.width,x=t.height;return{x:i,y:o,top:C,right:F,bottom:w,left:I,width:R,height:x}},a.fromRect=function(t){return new a(t.x,t.y,t.width,t.height)},a}(),ke=function(a){return a instanceof SVGElement&&"getBBox"in a},$e=function(a){if(ke(a)){var t=a.getBBox(),i=t.width,o=t.height;return!i&&!o}var C=a,F=C.offsetWidth,w=C.offsetHeight;return!(F||w||a.getClientRects().length)},Re=function(a){var t;if(a instanceof Element)return!0;var i=(t=a==null?void 0:a.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(i&&a instanceof i.Element)},rr=function(a){switch(a.tagName){case"INPUT":if(a.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Qe=typeof window!="undefined"?window:{},Le=new WeakMap,Wr=/auto|scroll/,wr=/^tb|vertical/,ft=/msie|trident/i.test(Qe.navigator&&Qe.navigator.userAgent),or=function(a){return parseFloat(a||"0")},Kr=function(a,t,i){return a===void 0&&(a=0),t===void 0&&(t=0),i===void 0&&(i=!1),new G((i?t:a)||0,(i?a:t)||0)},St=z({devicePixelContentBoxSize:Kr(),borderBoxSize:Kr(),contentBoxSize:Kr(),contentRect:new U(0,0,0,0)}),Pt=function(a,t){if(t===void 0&&(t=!1),Le.has(a)&&!t)return Le.get(a);if($e(a))return Le.set(a,St),St;var i=getComputedStyle(a),o=ke(a)&&a.ownerSVGElement&&a.getBBox(),C=!ft&&i.boxSizing==="border-box",F=wr.test(i.writingMode||""),w=!o&&Wr.test(i.overflowY||""),I=!o&&Wr.test(i.overflowX||""),R=o?0:or(i.paddingTop),x=o?0:or(i.paddingRight),V=o?0:or(i.paddingBottom),fe=o?0:or(i.paddingLeft),ee=o?0:or(i.borderTopWidth),se=o?0:or(i.borderRightWidth),te=o?0:or(i.borderBottomWidth),Ee=o?0:or(i.borderLeftWidth),_=fe+x,v=R+V,je=Ee+se,Te=ee+te,Ie=I?a.offsetHeight-Te-a.clientHeight:0,nr=w?a.offsetWidth-je-a.clientWidth:0,gr=C?_+je:0,Pr=C?v+Te:0,sr=o?o.width:or(i.width)-gr-nr,Ae=o?o.height:or(i.height)-Pr-Ie,Ve=sr+_+nr+je,lr=Ae+v+Ie+Te,De=z({devicePixelContentBoxSize:Kr(Math.round(sr*devicePixelRatio),Math.round(Ae*devicePixelRatio),F),borderBoxSize:Kr(Ve,lr,F),contentBoxSize:Kr(sr,Ae,F),contentRect:new U(fe,R,sr,Ae)});return Le.set(a,De),De},ct=function(a,t,i){var o=Pt(a,i),C=o.borderBoxSize,F=o.contentBoxSize,w=o.devicePixelContentBoxSize;switch(t){case H.DEVICE_PIXEL_CONTENT_BOX:return w;case H.BORDER_BOX:return C;default:return F}},Ht=function(){function a(t){var i=Pt(t);this.target=t,this.contentRect=i.contentRect,this.borderBoxSize=z([i.borderBoxSize]),this.contentBoxSize=z([i.contentBoxSize]),this.devicePixelContentBoxSize=z([i.devicePixelContentBoxSize])}return a}(),vt=function(a){if($e(a))return 1/0;for(var t=0,i=a.parentNode;i;)t+=1,i=i.parentNode;return t},yn=function(){var a=1/0,t=[];Me.forEach(function(w){if(w.activeTargets.length!==0){var I=[];w.activeTargets.forEach(function(x){var V=new Ht(x.target),fe=vt(x.target);I.push(V),x.lastReportedSize=ct(x.target,x.observedBox),fe<a&&(a=fe)}),t.push(function(){w.callback.call(w.observer,I,w.observer)}),w.activeTargets.splice(0,w.activeTargets.length)}});for(var i=0,o=t;i<o.length;i++){var C=o[i];C()}return a},bt=function(a){Me.forEach(function(i){i.activeTargets.splice(0,i.activeTargets.length),i.skippedTargets.splice(0,i.skippedTargets.length),i.observationTargets.forEach(function(C){C.isActive()&&(vt(C.target)>a?i.activeTargets.push(C):i.skippedTargets.push(C))})})},rn=function(){var a=0;for(bt(a);Ze();)a=yn(),bt(a);return He()&&P(),a>0},tn,wn=[],On=function(){return wn.splice(0).forEach(function(a){return a()})},nn=function(a){if(!tn){var t=0,i=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return On()}).observe(i,o),tn=function(){i.textContent="".concat(t?t--:t++)}}wn.push(a),tn()},Mt=function(a){nn(function(){requestAnimationFrame(a)})},Pe=0,$t=function(){return!!Pe},bu=250,Xn={attributes:!0,characterData:!0,childList:!0,subtree:!0},dt=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],un=function(a){return a===void 0&&(a=0),Date.now()+a},Rt=!1,Tt=function(){function a(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return a.prototype.run=function(t){var i=this;if(t===void 0&&(t=bu),!Rt){Rt=!0;var o=un(t);Mt(function(){var C=!1;try{C=rn()}finally{if(Rt=!1,t=o-un(),!$t())return;C?i.run(1e3):t>0?i.run(t):i.start()}})}},a.prototype.schedule=function(){this.stop(),this.run()},a.prototype.observe=function(){var t=this,i=function(){return t.observer&&t.observer.observe(document.body,Xn)};document.body?i():Qe.addEventListener("DOMContentLoaded",i)},a.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),dt.forEach(function(i){return Qe.addEventListener(i,t.listener,!0)}))},a.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),dt.forEach(function(i){return Qe.removeEventListener(i,t.listener,!0)}),this.stopped=!0)},a}(),ht=new Tt,xn=function(a){!Pe&&a>0&&ht.start(),Pe+=a,!Pe&&ht.stop()},Or=function(a){return!ke(a)&&!rr(a)&&getComputedStyle(a).display==="inline"},an=function(){function a(t,i){this.target=t,this.observedBox=i||H.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return a.prototype.isActive=function(){var t=ct(this.target,this.observedBox,!0);return Or(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},a}(),yu=function(){function a(t,i){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=i}return a}(),sn=new WeakMap,Zn=function(a,t){for(var i=0;i<a.length;i+=1)if(a[i].target===t)return i;return-1},on=function(){function a(){}return a.connect=function(t,i){var o=new yu(t,i);sn.set(t,o)},a.observe=function(t,i,o){var C=sn.get(t),F=C.observationTargets.length===0;Zn(C.observationTargets,i)<0&&(F&&Me.push(C),C.observationTargets.push(new an(i,o&&o.box)),xn(1),ht.schedule())},a.unobserve=function(t,i){var o=sn.get(t),C=Zn(o.observationTargets,i),F=o.observationTargets.length===1;C>=0&&(F&&Me.splice(Me.indexOf(o),1),o.observationTargets.splice(C,1),xn(-1))},a.disconnect=function(t){var i=this,o=sn.get(t);o.observationTargets.slice().forEach(function(C){return i.unobserve(t,C.target)}),o.activeTargets.splice(0,o.activeTargets.length)},a}(),Sn=function(){function a(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");on.connect(this,t)}return a.prototype.observe=function(t,i){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Re(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");on.observe(this,t,i)},a.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Re(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");on.unobserve(this,t)},a.prototype.disconnect=function(){on.disconnect(this)},a.toString=function(){return"function ResizeObserver () { [polyfill code] }"},a}(),Ut=O(55626),wu=O(30967);function xr(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function qt(a,t){if(a==null)return{};var i={},o=Object.keys(a),C,F;for(F=0;F<o.length;F++)C=o[F],!(t.indexOf(C)>=0)&&(i[C]=a[C]);return i}function Xr(a,t){if(a==null)return{};var i=qt(a,t),o,C;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(a);for(C=0;C<F.length;C++)o=F[C],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(a,o)&&(i[o]=a[o])}return i}var kt=0;class Pn{constructor(){this.id="".concat(kt++)}}var Kt=new WeakMap,Yt=new WeakMap,ln=new WeakMap,Lt=new WeakMap,nt=new WeakMap,jt=new WeakMap,Dt=new WeakMap,zr=new WeakMap,yt=new WeakMap,fn=new WeakMap,gt=new WeakMap,Ct=new WeakMap,It=new WeakMap,Nt=new WeakMap,cn=new WeakMap,Vr=new WeakMap,Zr=new WeakMap,Fr=new WeakMap,Fe=new WeakMap,ut=new WeakMap,Gt=new WeakMap,wt=Symbol("placeholder"),Mn=Symbol("mark-placeholder"),Qn=globalThis.Text,vn=a=>a&&a.ownerDocument&&a.ownerDocument.defaultView||null,Jn=a=>at(a)&&a.nodeType===8,Mr=a=>at(a)&&a.nodeType===1,at=a=>{var t=vn(a);return!!t&&a instanceof t.Node},dn=a=>{var t=a&&a.anchorNode&&vn(a.anchorNode);return!!t&&a instanceof t.Selection},pt=a=>at(a)&&a.nodeType===3,eu=a=>a.clipboardData&&a.clipboardData.getData("text/plain")!==""&&a.clipboardData.types.length===1,ru=a=>{var[t,i]=a;if(Mr(t)&&t.childNodes.length){var o=i===t.childNodes.length,C=o?i-1:i;for([t,C]=hn(t,C,o?"backward":"forward"),o=C<i;Mr(t)&&t.childNodes.length;){var F=o?t.childNodes.length-1:0;t=nu(t,F,o?"backward":"forward")}i=o&&t.textContent!=null?t.textContent.length:0}return[t,i]},tu=a=>{for(var t=a&&a.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},hn=(a,t,i)=>{for(var{childNodes:o}=a,C=o[t],F=t,w=!1,I=!1;(Jn(C)||Mr(C)&&C.childNodes.length===0||Mr(C)&&C.getAttribute("contenteditable")==="false")&&!(w&&I);){if(F>=o.length){w=!0,F=t-1,i="backward";continue}if(F<0){I=!0,F=t+1,i="forward";continue}C=o[F],t=F,F+=i==="forward"?1:-1}return[C,t]},nu=(a,t,i)=>{var[o]=hn(a,t,i);return o},Rn=a=>{var t="";if(pt(a)&&a.nodeValue)return a.nodeValue;if(Mr(a)){for(var i of Array.from(a.childNodes))t+=Rn(i);var o=getComputedStyle(a).getPropertyValue("display");(o==="block"||o==="list"||a.tagName==="BR")&&(t+=`
`)}return t},Tn=/data-slate-fragment="(.+?)"/m,be=a=>{var t=a.getData("text/html"),[,i]=t.match(Tn)||[];return i},Dn=(a,t,i)=>{var{target:o}=t;if(Mr(o)&&o.matches('[contentEditable="false"]'))return!1;var{document:C}=M.getWindow(a);if(C.contains(o))return M.hasDOMNode(a,o,{editable:!0});var F=i.find(w=>{var{addedNodes:I,removedNodes:R}=w;for(var x of I)if(x===o||x.contains(o))return!0;for(var V of R)if(V===o||V.contains(o))return!0});return!F||F===t?!1:Dn(a,F,i)},uu=parseInt(E.version.split(".")[0],10)>=17,kn=typeof navigator!="undefined"&&typeof window!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,mt=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent),Ar=typeof navigator!="undefined"&&/Android/.test(navigator.userAgent),D=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),gn=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),au=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Ln=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),iu=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),jn=Ar&&typeof navigator!="undefined"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),ie=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),In=typeof navigator!="undefined"&&/.*UCBrowser/.test(navigator.userAgent),Je=typeof navigator!="undefined"&&/.*Wechat/.test(navigator.userAgent),Qr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",m=(!iu||!jn)&&!au&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",M={isComposing(a){return!!Ct.get(a)},getWindow(a){var t=ln.get(a);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey(a,t){var i=zr.get(t);return i||(i=new Pn,zr.set(t,i)),i},findPath(a,t){for(var i=[],o=t;;){var C=Yt.get(o);if(C==null){if(f.ML.isEditor(o))return i;break}var F=Kt.get(o);if(F==null)break;i.unshift(F),o=C}throw new Error("Unable to find the path for Slate node: ".concat(f.o4.stringify(t)))},findDocumentOrShadowRoot(a){var t=M.toDOMNode(a,a),i=t.getRootNode();return(i instanceof Document||i instanceof ShadowRoot)&&i.getSelection!=null?i:t.ownerDocument},isFocused(a){return!!gt.get(a)},isReadOnly(a){return!!fn.get(a)},blur(a){var t=M.toDOMNode(a,a),i=M.findDocumentOrShadowRoot(a);gt.set(a,!1),i.activeElement===t&&t.blur()},focus(a){var t=M.toDOMNode(a,a),i=M.findDocumentOrShadowRoot(a);gt.set(a,!0),i.activeElement!==t&&t.focus({preventScroll:!0})},deselect(a){var{selection:t}=a,i=M.findDocumentOrShadowRoot(a),o=i.getSelection();o&&o.rangeCount>0&&o.removeAllRanges(),t&&f.YR.deselect(a)},hasDOMNode(a,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=i,C=M.toDOMNode(a,a),F;try{F=Mr(t)?t:t.parentElement}catch(w){if(!w.message.includes('Permission denied to access property "nodeType"'))throw w}return F?F.closest("[data-slate-editor]")===C&&(!o||F.isContentEditable?!0:typeof F.isContentEditable=="boolean"&&F.closest('[contenteditable="false"]')===C||!!F.getAttribute("data-slate-zero-width")):!1},insertData(a,t){a.insertData(t)},insertFragmentData(a,t){return a.insertFragmentData(t)},insertTextData(a,t){return a.insertTextData(t)},setFragmentData(a,t,i){a.setFragmentData(t,i)},toDOMNode(a,t){var i=yt.get(a),o=f.ML.isEditor(t)?Lt.get(a):i==null?void 0:i.get(M.findKey(a,t));if(!o)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(f.o4.stringify(t)));return o},toDOMPoint(a,t){var[i]=f.ML.node(a,t.path),o=M.toDOMNode(a,i),C;f.ML.void(a,{at:t})&&(t={path:t.path,offset:0});for(var F="[data-slate-string], [data-slate-zero-width]",w=Array.from(o.querySelectorAll(F)),I=0,R=0;R<w.length;R++){var x=w[R],V=x.childNodes[0];if(!(V==null||V.textContent==null)){var{length:fe}=V.textContent,ee=x.getAttribute("data-slate-length"),se=ee==null?fe:parseInt(ee,10),te=I+se,Ee=w[R+1];if(t.offset===te&&Ee!==null&&Ee!==void 0&&Ee.hasAttribute("data-slate-mark-placeholder")){var _,v=Ee.childNodes[0];C=[v instanceof Qn?v:Ee,(_=Ee.textContent)!==null&&_!==void 0&&_.startsWith("\uFEFF")?1:0];break}if(t.offset<=te){var je=Math.min(fe,Math.max(0,t.offset-I));C=[V,je];break}I=te}}if(!C)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(f.o4.stringify(t)));return C},toDOMRange(a,t){var{anchor:i,focus:o}=t,C=f.e6.isBackward(t),F=M.toDOMPoint(a,i),w=f.e6.isCollapsed(t)?F:M.toDOMPoint(a,o),I=M.getWindow(a),R=I.document.createRange(),[x,V]=C?w:F,[fe,ee]=C?F:w,se=Mr(x)?x:x.parentElement,te=!!se.getAttribute("data-slate-zero-width"),Ee=Mr(fe)?fe:fe.parentElement,_=!!Ee.getAttribute("data-slate-zero-width");return R.setStart(x,te?1:V),R.setEnd(fe,_?1:ee),R},toSlateNode(a,t){var i=Mr(t)?t:t.parentElement;i&&!i.hasAttribute("data-slate-node")&&(i=i.closest("[data-slate-node]"));var o=i?jt.get(i):null;if(!o)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(i));return o},findEventRange(a,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:i,clientY:o,target:C}=t;if(i==null||o==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var F=M.toSlateNode(a,t.target),w=M.findPath(a,F);if(f.W_.isElement(F)&&f.ML.isVoid(a,F)){var I=C.getBoundingClientRect(),R=a.isInline(F)?i-I.left<I.left+I.width-i:o-I.top<I.top+I.height-o,x=f.ML.point(a,w,{edge:R?"start":"end"}),V=R?f.ML.before(a,x):f.ML.after(a,x);if(V){var fe=f.ML.range(a,V);return fe}}var ee,{document:se}=M.getWindow(a);if(se.caretRangeFromPoint)ee=se.caretRangeFromPoint(i,o);else{var te=se.caretPositionFromPoint(i,o);te&&(ee=se.createRange(),ee.setStart(te.offsetNode,te.offset),ee.setEnd(te.offsetNode,te.offset))}if(!ee)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var Ee=M.toSlateRange(a,ee,{exactMatch:!1,suppressThrow:!1});return Ee},toSlatePoint(a,t,i){var{exactMatch:o,suppressThrow:C}=i,[F,w]=o?t:ru(t),I=F.parentNode,R=null,x=0;if(I){var V,fe,ee=M.toDOMNode(a,a),se=I.closest('[data-slate-void="true"]'),te=se&&ee.contains(se)?se:null,Ee=I.closest("[data-slate-leaf]"),_=null;if(Ee){if(R=Ee.closest('[data-slate-node="text"]'),R){var v=M.getWindow(a),je=v.document.createRange();je.setStart(R,0),je.setEnd(F,w);var Te=je.cloneContents(),Ie=[...Array.prototype.slice.call(Te.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(Te.querySelectorAll("[contenteditable=false]"))];Ie.forEach(Be=>{if(Ar&&!o&&Be.hasAttribute("data-slate-zero-width")&&Be.textContent.length>0&&Be.textContext!=="\uFEFF"){Be.textContent.startsWith("\uFEFF")&&(Be.textContent=Be.textContent.slice(1));return}Be.parentNode.removeChild(Be)}),x=Te.textContent.length,_=R}}else if(te){for(var nr=te.querySelectorAll("[data-slate-leaf]"),gr=0;gr<nr.length;gr++){var Pr=nr[gr];if(M.hasDOMNode(a,Pr)){Ee=Pr;break}}Ee?(R=Ee.closest('[data-slate-node="text"]'),_=Ee,x=_.textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach(Be=>{x-=Be.textContent.length})):x=1}_&&x===_.textContent.length&&Ar&&_.getAttribute("data-slate-zero-width")==="z"&&(V=_.textContent)!==null&&V!==void 0&&V.startsWith("\uFEFF")&&(I.hasAttribute("data-slate-zero-width")||D&&(fe=_.textContent)!==null&&fe!==void 0&&fe.endsWith(`

`))&&x--}if(Ar&&!R&&!o){var sr=I.hasAttribute("data-slate-node")?I:I.closest("[data-slate-node]");if(sr&&M.hasDOMNode(a,sr,{editable:!0})){var Ae=M.toSlateNode(a,sr),{path:Ve,offset:lr}=f.ML.start(a,M.findPath(a,Ae));return sr.querySelector("[data-slate-leaf]")||(lr=w),{path:Ve,offset:lr}}}if(!R){if(C)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var De=M.toSlateNode(a,R),pe=M.findPath(a,De);return{path:pe,offset:x}},toSlateRange(a,t,i){var{exactMatch:o,suppressThrow:C}=i,F=dn(t)?t.anchorNode:t.startContainer,w,I,R,x,V;if(F&&(dn(t)?(w=t.anchorNode,I=t.anchorOffset,R=t.focusNode,x=t.focusOffset,Ln&&tu(w)?V=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:V=t.isCollapsed):(w=t.startContainer,I=t.startOffset,R=t.endContainer,x=t.endOffset,V=t.collapsed)),w==null||R==null||I==null||x==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in R&&R.getAttribute("contenteditable")==="false"){var fe;R=w,x=((fe=w.textContent)===null||fe===void 0?void 0:fe.length)||0}var ee=M.toSlatePoint(a,[w,I],{exactMatch:o,suppressThrow:C});if(!ee)return null;var se=V?ee:M.toSlatePoint(a,[R,x],{exactMatch:o,suppressThrow:C});if(!se)return null;if(D&&!V&&w!==R){var te=f.ML.isEnd(a,ee,ee.path),Ee=f.ML.isStart(a,se,se.path);if(te){var _=f.ML.after(a,ee);ee=_||ee}if(Ee){var v=f.ML.before(a,se);se=v||se}}var je={anchor:ee,focus:se};return f.e6.isExpanded(je)&&f.e6.isForward(je)&&Mr(R)&&f.ML.void(a,{at:je.focus,mode:"highest"})&&(je=f.ML.unhangRange(a,je,{voids:!0})),je},hasRange(a,t){var{anchor:i,focus:o}=t;return f.ML.hasPath(a,i.path)&&f.ML.hasPath(a,o.path)},hasTarget(a,t){return at(t)&&M.hasDOMNode(a,t)},hasEditableTarget(a,t){return at(t)&&M.hasDOMNode(a,t,{editable:!0})},hasSelectableTarget(a,t){return M.hasEditableTarget(a,t)||M.isTargetInsideNonReadonlyVoid(a,t)},isTargetInsideNonReadonlyVoid(a,t){if(fn.get(a))return!1;var i=M.hasTarget(a,t)&&M.toSlateNode(a,t);return f.W_.isElement(i)&&f.ML.isVoid(a,i)},androidScheduleFlush(a){var t;(t=cn.get(a))===null||t===void 0||t()},androidPendingDiffs(a){return Fr.get(a)}},Nn=["anchor","focus"],Wn=["anchor","focus"],We=(a,t)=>Object.keys(a).length===Object.keys(t).length&&Object.keys(a).every(i=>t.hasOwnProperty(i)&&a[i]===t[i]),zn=(a,t)=>{var i=Xr(a,Nn),o=Xr(t,Wn);return a[wt]===t[wt]&&We(i,o)},su=(a,t)=>{if(a.length!==t.length)return!1;for(var i=0;i<a.length;i++){var o=a[i],C=t[i];if(!f.e6.equals(o,C)||!zn(o,C))return!1}return!0},Vn=(a,t)=>{if(a.length!==t.length)return!1;for(var i=0;i<a.length;i++){var o=a[i],C=t[i];if(o.anchor.offset!==C.anchor.offset||o.focus.offset!==C.focus.offset||!zn(o,C))return!1}return!0},Bt=Qr?E.useLayoutEffect:E.useEffect,K=a=>{var{isLast:t,leaf:i,parent:o,text:C}=a,F=it(),w=M.findPath(F,C),I=f.y$.parent(w),R=i[Mn]===!0;return F.isVoid(o)?E.createElement(Dr,{length:f.NB.string(o).length}):i.text===""&&o.children[o.children.length-1]===C&&!F.isInline(o)&&f.ML.string(F,I)===""?E.createElement(Dr,{isLineBreak:!0,isMarkPlaceholder:R}):i.text===""?E.createElement(Dr,{isMarkPlaceholder:R}):t&&i.text.slice(-1)===`
`?E.createElement(_n,{isTrailing:!0,text:i.text}):E.createElement(_n,{text:i.text})},_n=a=>{var{text:t,isTrailing:i=!1}=a,o=(0,E.useRef)(null),C=()=>"".concat(t!=null?t:"").concat(i?`
`:""),[F]=(0,E.useState)(C);return Bt(()=>{var w=C();o.current&&o.current.textContent!==w&&(o.current.textContent=w)}),E.createElement(Hn,{ref:o},F)},Hn=(0,E.memo)((0,E.forwardRef)((a,t)=>E.createElement("span",{"data-slate-string":!0,ref:t},a.children))),Dr=a=>{var{length:t=0,isLineBreak:i=!1,isMarkPlaceholder:o=!1}=a,C={"data-slate-zero-width":i?"n":"z","data-slate-length":t};return o&&(C["data-slate-mark-placeholder"]=!0),E.createElement("span",Object.assign({},C),!Ar||!i?"\uFEFF":null,i?E.createElement("br",null):null)},Wt=(0,E.createContext)(null),it=()=>{var a=(0,E.useContext)(Wt);if(!a)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return a},ou=a=>{var{leaf:t,isLast:i,text:o,parent:C,renderPlaceholder:F,renderLeaf:w=te=>E.createElement(Jr,Object.assign({},te))}=a,I=(0,E.useRef)(null),R=(0,E.useRef)(null),x=it(),V=(0,E.useRef)(null);(0,E.useEffect)(()=>()=>{V.current&&V.current.disconnect()},[]),(0,E.useEffect)(()=>{var te=R==null?void 0:R.current;if(te?nt.set(x,te):nt.delete(x),V.current)V.current.disconnect(),te&&V.current.observe(te);else if(te){var Ee=window.ResizeObserver||Sn;V.current=new Ee(()=>{var v=Gt.get(x);v==null||v()}),V.current.observe(te)}if(!te&&I.current){var _=Gt.get(x);_==null||_()}return I.current=R.current,()=>{nt.delete(x)}},[R,t,x]);var fe=E.createElement(K,{isLast:i,leaf:t,parent:C,text:o});if(t[wt]){var ee={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:R}};fe=E.createElement(E.Fragment,null,F(ee),fe)}var se={"data-slate-leaf":!0};return w({attributes:se,children:fe,leaf:t,text:o})},$n=E.memo(ou,(a,t)=>t.parent===a.parent&&t.isLast===a.isLast&&t.renderLeaf===a.renderLeaf&&t.renderPlaceholder===a.renderPlaceholder&&t.text===a.text&&f.xv.equals(t.leaf,a.leaf)&&t.leaf[wt]===a.leaf[wt]),Jr=a=>{var{attributes:t,children:i}=a;return E.createElement("span",Object.assign({},t),i)},Ce=a=>{for(var{decorations:t,isLast:i,parent:o,renderPlaceholder:C,renderLeaf:F,text:w}=a,I=it(),R=(0,E.useRef)(null),x=f.xv.decorations(w,t),V=M.findKey(I,w),fe=[],ee=0;ee<x.length;ee++){var se=x[ee];fe.push(E.createElement($n,{isLast:i&&ee===x.length-1,key:"".concat(V.id,"-").concat(ee),renderPlaceholder:C,leaf:se,text:w,parent:o,renderLeaf:F}))}var te=(0,E.useCallback)(Ee=>{var _=yt.get(I);Ee?(_==null||_.set(V,Ee),Dt.set(w,Ee),jt.set(Ee,w)):(_==null||_.delete(V),Dt.delete(w),R.current&&jt.delete(R.current)),R.current=Ee},[R,I,V,w]);return E.createElement("span",{"data-slate-node":"text",ref:te},fe)},Cn=E.memo(Ce,(a,t)=>t.parent===a.parent&&t.isLast===a.isLast&&t.renderLeaf===a.renderLeaf&&t.renderPlaceholder===a.renderPlaceholder&&t.text===a.text&&Vn(t.decorations,a.decorations)),zt=a=>{var{decorations:t,element:i,renderElement:o=je=>E.createElement(fu,Object.assign({},je)),renderPlaceholder:C,renderLeaf:F,selection:w}=a,I=it(),R=du(),x=I.isInline(i),V=M.findKey(I,i),fe=(0,E.useCallback)(je=>{var Te=yt.get(I);je?(Te==null||Te.set(V,je),Dt.set(i,je),jt.set(je,i)):(Te==null||Te.delete(V),Dt.delete(i))},[I,V,i]),ee=qn({decorations:t,node:i,renderElement:o,renderPlaceholder:C,renderLeaf:F,selection:w}),se={"data-slate-node":"element",ref:fe};if(x&&(se["data-slate-inline"]=!0),!x&&f.ML.hasInlines(I,i)){var te=f.NB.string(i),Ee=T()(te);Ee==="rtl"&&(se.dir=Ee)}if(f.ML.isVoid(I,i)){se["data-slate-void"]=!0,!R&&x&&(se.contentEditable=!1);var _=x?"span":"div",[[v]]=f.NB.texts(i);ee=E.createElement(_,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},E.createElement(Cn,{renderPlaceholder:C,decorations:[],isLast:!1,parent:i,text:v})),Kt.set(v,0),Yt.set(v,i)}return o({attributes:se,children:ee,element:i})},lu=E.memo(zt,(a,t)=>a.element===t.element&&a.renderElement===t.renderElement&&a.renderLeaf===t.renderLeaf&&a.renderPlaceholder===t.renderPlaceholder&&su(a.decorations,t.decorations)&&(a.selection===t.selection||!!a.selection&&!!t.selection&&f.e6.equals(a.selection,t.selection))),fu=a=>{var{attributes:t,children:i,element:o}=a,C=it(),F=C.isInline(o)?"span":"div";return E.createElement(F,Object.assign({},t,{style:{position:"relative"}}),i)},Un=(0,E.createContext)(()=>[]),cu=()=>(0,E.useContext)(Un),pn=(0,E.createContext)(!1),vu=()=>useContext(pn),qn=a=>{for(var{decorations:t,node:i,renderElement:o,renderPlaceholder:C,renderLeaf:F,selection:w}=a,I=cu(),R=it(),x=M.findPath(R,i),V=[],fe=f.W_.isElement(i)&&!R.isInline(i)&&f.ML.hasInlines(R,i),ee=0;ee<i.children.length;ee++){var se=x.concat(ee),te=i.children[ee],Ee=M.findKey(R,te),_=f.ML.range(R,se),v=w&&f.e6.intersection(_,w),je=I([te,se]);for(var Te of t){var Ie=f.e6.intersection(Te,_);Ie&&je.push(Ie)}f.W_.isElement(te)?V.push(E.createElement(pn.Provider,{key:"provider-".concat(Ee.id),value:!!v},E.createElement(lu,{decorations:je,element:te,key:Ee.id,renderElement:o,renderPlaceholder:C,renderLeaf:F,selection:v}))):V.push(E.createElement(Cn,{decorations:je,key:Ee.id,isLast:fe&&ee===i.children.length-1,parent:i,renderPlaceholder:C,renderLeaf:F,text:te})),Kt.set(te,ee),Yt.set(te,i)}return V},mn=(0,E.createContext)(!1),du=()=>(0,E.useContext)(mn),st=(0,E.createContext)(null),Kn=()=>{var a=(0,E.useContext)(st);if(!a)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=a;return t},hu=()=>{var a=useContext(st);if(!a)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return a},Du=3,gu={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Yn={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Xt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Y=a=>{var t=gu[a],i=Yn[a],o=Xt[a],C=t&&(0,Ut.TB)(t),F=i&&(0,Ut.TB)(i),w=o&&(0,Ut.TB)(o);return I=>!!(C&&C(I)||mt&&F&&F(I)||!mt&&w&&w(I))},e={isBold:Y("bold"),isCompose:Y("compose"),isMoveBackward:Y("moveBackward"),isMoveForward:Y("moveForward"),isDeleteBackward:Y("deleteBackward"),isDeleteForward:Y("deleteForward"),isDeleteLineBackward:Y("deleteLineBackward"),isDeleteLineForward:Y("deleteLineForward"),isDeleteWordBackward:Y("deleteWordBackward"),isDeleteWordForward:Y("deleteWordForward"),isExtendBackward:Y("extendBackward"),isExtendForward:Y("extendForward"),isExtendLineBackward:Y("extendLineBackward"),isExtendLineForward:Y("extendLineForward"),isItalic:Y("italic"),isMoveLineBackward:Y("moveLineBackward"),isMoveLineForward:Y("moveLineForward"),isMoveWordBackward:Y("moveWordBackward"),isMoveWordForward:Y("moveWordForward"),isRedo:Y("redo"),isSoftBreak:Y("insertSoftBreak"),isSplitBlock:Y("splitBlock"),isTransposeCharacter:Y("transposeCharacter"),isUndo:Y("undo")},r=(a,t)=>{var i=[],o=()=>{i=[]},C=w=>{if(t.current){var I=w.filter(R=>Dn(a,R,w));i.push(...I)}};function F(){i.length>0&&(i.reverse().forEach(w=>{w.type!=="characterData"&&(w.removedNodes.forEach(I=>{w.target.insertBefore(I,w.nextSibling)}),w.addedNodes.forEach(I=>{w.target.removeChild(I)}))}),o())}return{registerMutations:C,restoreDOM:F,clear:o}},n={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class u extends E.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:i}=this.props;if(!i.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(i.current,n)}componentDidMount(){var{receivedUserInput:t}=this.props,i=this.context;this.manager=r(i,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,i,o,C=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(C!=null&&C.length){var F;(F=this.manager)===null||F===void 0||F.registerMutations(C)}return(i=this.mutationObserver)===null||i===void 0||i.disconnect(),(o=this.manager)===null||o===void 0||o.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}u.contextType=Wt;var s=Ar?u:a=>{var{children:t}=a;return E.createElement(E.Fragment,null,t)};function l(a,t){var{path:i,diff:o}=t;if(!f.ML.hasPath(a,i))return!1;var C=f.NB.get(a,i);if(!f.xv.isText(C))return!1;if(o.start!==C.text.length||o.text.length===0)return C.text.slice(o.start,o.start+o.text.length)===o.text;var F=f.y$.next(i);if(!f.ML.hasPath(a,F))return!1;var w=f.NB.get(a,F);return f.xv.isText(w)&&w.text.startsWith(o.text)}function c(a){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return i.reduce((C,F)=>C.slice(0,F.start)+F.text+C.slice(F.end),a)}function d(a,t){for(var i=Math.min(a.length,t.length),o=0;o<i;o++)if(a.charAt(o)!==t.charAt(o))return o;return i}function g(a,t,i){for(var o=Math.min(a.length,t.length,i),C=0;C<o;C++)if(a.charAt(a.length-C-1)!==t.charAt(t.length-C-1))return C;return o}function h(a,t){var{start:i,end:o,text:C}=t,F=a.slice(i,o),w=d(F,C),I=Math.min(F.length-w,C.length-w),R=g(F,C,I),x={start:i+w,end:o-R,text:C.slice(w,C.length-R)};return x.start===x.end&&x.text.length===0?null:x}function p(a,t,i){var o=Math.min(t.start,i.start),C=Math.max(0,Math.min(t.start+t.text.length,i.end)-i.start),F=c(a,t,i),w=Math.max(i.start+i.text.length,t.start+t.text.length+(t.start+t.text.length>i.start?i.text.length:0)-C),I=F.slice(o,w),R=Math.max(t.end,i.end-t.text.length+(t.end-t.start));return h(a,{start:o,end:R,text:I})}function B(a){var{path:t,diff:i}=a;return{anchor:{path:t,offset:i.start},focus:{path:t,offset:i.end}}}function A(a,t){var{path:i,offset:o}=t;if(!f.ML.hasPath(a,i))return null;var C=f.NB.get(a,i);if(!f.xv.isText(C))return null;var F=f.ML.above(a,{match:I=>f.W_.isElement(I)&&f.ML.isBlock(a,I),at:i});if(!F)return null;for(;o>C.text.length;){var w=f.ML.next(a,{at:i,match:f.xv.isText});if(!w||!f.y$.isDescendant(w[1],F[1]))return null;o-=C.text.length,C=w[0],i=w[1]}return{path:i,offset:o}}function b(a,t){var i=A(a,t.anchor);if(!i)return null;if(f.e6.isCollapsed(t))return{anchor:i,focus:i};var o=A(a,t.focus);return o?{anchor:i,focus:o}:null}function S(a,t,i){var o=Fr.get(a),C=o==null?void 0:o.find(V=>{var{path:fe}=V;return f.y$.equals(fe,t.path)});if(!C||t.offset<=C.diff.start)return f.E9.transform(t,i,{affinity:"backward"});var{diff:F}=C;if(t.offset<=F.start+F.text.length){var w={path:t.path,offset:F.start},I=f.E9.transform(w,i,{affinity:"backward"});return I?{path:I.path,offset:I.offset+t.offset-F.start}:null}var R={path:t.path,offset:t.offset-F.text.length+F.end-F.start},x=f.E9.transform(R,i,{affinity:"backward"});return x?i.type==="split_node"&&f.y$.equals(i.path,t.path)&&R.offset<i.position&&F.start<i.position?x:{path:x.path,offset:x.offset+F.text.length-F.end+F.start}:null}function N(a,t,i){var o=S(a,t.anchor,i);if(!o)return null;if(f.e6.isCollapsed(t))return{anchor:o,focus:o};var C=S(a,t.focus,i);return C?{anchor:o,focus:C}:null}function $(a,t){var{path:i,diff:o,id:C}=a;switch(t.type){case"insert_text":return!f.y$.equals(t.path,i)||t.offset>=o.end?a:t.offset<=o.start?{diff:{start:t.text.length+o.start,end:t.text.length+o.end,text:o.text},id:C,path:i}:{diff:{start:o.start,end:o.end+t.text.length,text:o.text},id:C,path:i};case"remove_text":return!f.y$.equals(t.path,i)||t.offset>=o.end?a:t.offset+t.text.length<=o.start?{diff:{start:o.start-t.text.length,end:o.end-t.text.length,text:o.text},id:C,path:i}:{diff:{start:o.start,end:o.end-t.text.length,text:o.text},id:C,path:i};case"split_node":return!f.y$.equals(t.path,i)||t.position>=o.end?{diff:o,id:C,path:f.y$.transform(i,t,{affinity:"backward"})}:t.position>o.start?{diff:{start:o.start,end:Math.min(t.position,o.end),text:o.text},id:C,path:i}:{diff:{start:o.start-t.position,end:o.end-t.position,text:o.text},id:C,path:f.y$.transform(i,t,{affinity:"forward"})};case"merge_node":return f.y$.equals(t.path,i)?{diff:{start:o.start+t.position,end:o.end+t.position,text:o.text},id:C,path:f.y$.transform(i,t)}:{diff:o,id:C,path:f.y$.transform(i,t)}}var F=f.y$.transform(i,t);return F?{diff:o,path:F,id:C}:null}function ue(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);t&&(o=o.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),i.push.apply(i,o)}return i}function le(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ue(Object(i),!0).forEach(function(o){xr(a,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(i,o))})}return a}var xe=25,Oe=200,Ue=function(){},Se=a=>(a==null?void 0:a.constructor.name)==="DataTransfer";function Ke(a){var{editor:t,scheduleOnDOMSelectionChange:i,onDOMSelectionChange:o}=a,C=!1,F=null,w=null,I=null,R=0,x=!1,V=()=>{var De=ut.get(t);if(ut.delete(t),De){var{selection:pe}=t,Be=b(t,De);Be&&(!pe||!f.e6.equals(Be,pe))&&f.YR.select(t,Be)}},fe=()=>{var De=Fe.get(t);if(Fe.delete(t),!!De){if(De.at){var pe=f.E9.isPoint(De.at)?A(t,De.at):b(t,De.at);if(!pe)return;var Be=f.ML.range(t,pe);(!t.selection||!f.e6.equals(t.selection,Be))&&f.YR.select(t,pe)}De.run()}},ee=()=>{if(w&&(clearTimeout(w),w=null),I&&(clearTimeout(I),I=null),!Ie()&&!Te()){V();return}C||(C=!0,setTimeout(()=>C=!1)),Te()&&(C="action");var De=t.selection&&f.ML.rangeRef(t,t.selection,{affinity:"forward"});Zr.set(t,t.marks),Ue("flush",Fe.get(t),Fr.get(t));for(var pe=Ie(),Be;Be=(de=Fr.get(t))===null||de===void 0?void 0:de[0];){var de,fr,Xe=Vr.get(t);Xe!==void 0&&(Vr.delete(t),t.marks=Xe),Xe&&x===!1&&(x=null);var Tr=B(Be);(!t.selection||!f.e6.equals(t.selection,Tr))&&f.YR.select(t,Tr),Be.diff.text?f.ML.insertText(t,Be.diff.text):f.ML.deleteFragment(t),Fr.set(t,(fr=Fr.get(t))===null||fr===void 0?void 0:fr.filter(Gr=>{var{id:kr}=Gr;return kr!==Be.id})),l(t,Be)||(pe=!1,Fe.delete(t),Zr.delete(t),C="action",ut.delete(t),i.cancel(),o.cancel(),De==null||De.unref())}var Br=De==null?void 0:De.unref();if(Br&&!ut.get(t)&&(!t.selection||!f.e6.equals(Br,t.selection))&&f.YR.select(t,Br),Te()){fe();return}pe&&i(),i.flush(),o.flush(),V();var Er=Zr.get(t);Zr.delete(t),Er!==void 0&&(t.marks=Er,t.onChange())},se=De=>{F&&clearTimeout(F),F=setTimeout(()=>{Ct.set(t,!1),ee()},xe)},te=De=>{Ct.set(t,!0),F&&(clearTimeout(F),F=null)},Ee=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Be=nt.get(t);if(Be){if(Ie()||pe){Be.style.display="none";return}Be.style.removeProperty("display")}},_=(De,pe)=>{var Be,de=(Be=Fr.get(t))!==null&&Be!==void 0?Be:[];Fr.set(t,de);var fr=f.NB.leaf(t,De),Xe=de.findIndex(Er=>f.y$.equals(Er.path,De));if(Xe<0){var Tr=h(fr.text,pe);Tr&&de.push({path:De,diff:pe,id:R++}),Ee();return}var Br=p(fr.text,de[Xe].diff,pe);if(!Br){de.splice(Xe,1),Ee();return}de[Xe]=le(le({},de[Xe]),{},{diff:Br})},v=function(pe){var{at:Be}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x=!1,ut.delete(t),i.cancel(),o.cancel(),Te()&&ee(),Fe.set(t,{at:Be,run:pe}),I=setTimeout(ee)},je=De=>{var pe;w&&(clearTimeout(w),w=null);var{inputType:Be}=De,de=null,fr=De.dataTransfer||De.data||void 0;x!==!1&&Be!=="insertText"&&Be!=="insertCompositionText"&&(x=!1);var[Xe]=De.getTargetRanges();Xe&&(de=M.toSlateRange(t,Xe,{exactMatch:!1,suppressThrow:!0}));var Tr=M.getWindow(t),Br=Tr.getSelection();if(!de&&Br&&(Xe=Br,de=M.toSlateRange(t,Br,{exactMatch:!1,suppressThrow:!0})),de=(pe=de)!==null&&pe!==void 0?pe:t.selection,!!de){var Er=!0;if(Be.startsWith("delete")){if(f.e6.isExpanded(de)){var[Gr,kr]=f.e6.edges(de),y=f.NB.leaf(t,Gr.path);if(y.text.length===Gr.offset&&kr.offset===0){var he=f.ML.next(t,{at:Gr.path,match:f.xv.isText});he&&f.y$.equals(he[1],kr.path)&&(de={anchor:kr,focus:kr})}}var J=Be.endsWith("Backward")?"backward":"forward",[ne,ze]=f.e6.edges(de),[Ne,Ye]=f.ML.leaf(t,ne.path),cr={text:"",start:ne.offset,end:ze.offset},ur=Fr.get(t),hr=ur==null?void 0:ur.find(Gn=>f.y$.equals(Gn.path,Ye)),Lr=hr?[hr.diff,cr]:[cr],jr=c(Ne.text,...Lr);if(jr.length===0&&(Er=!1),f.e6.isExpanded(de)){if(Er&&f.y$.equals(de.anchor.path,de.focus.path)){var Ir={path:de.anchor.path,offset:ne.offset},Ur=f.ML.range(t,Ir,Ir);return Pr(Ur),_(de.anchor.path,{text:"",end:ze.offset,start:ne.offset})}return v(()=>f.ML.deleteFragment(t,{direction:J}),{at:de})}}switch(Be){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return v(()=>f.ML.deleteFragment(t),{at:de});case"deleteContent":case"deleteContentForward":{var{anchor:qr}=de;if(Er&&f.e6.isCollapsed(de)){var _t=f.NB.leaf(t,qr.path);if(qr.offset<_t.text.length)return _(qr.path,{text:"",start:qr.offset,end:qr.offset+1})}return v(()=>f.ML.deleteForward(t),{at:de})}case"deleteContentBackward":{var lt,{anchor:tt}=de,yr=dn(Xe)?Xe.isCollapsed:!!((lt=Xe)!==null&&lt!==void 0&&lt.collapsed);return Er&&yr&&f.e6.isCollapsed(de)&&tt.offset>0?_(tt.path,{text:"",start:tt.offset-1,end:tt.offset}):v(()=>f.ML.deleteBackward(t),{at:de})}case"deleteEntireSoftLine":return v(()=>{f.ML.deleteBackward(t,{unit:"line"}),f.ML.deleteForward(t,{unit:"line"})},{at:de});case"deleteHardLineBackward":return v(()=>f.ML.deleteBackward(t,{unit:"block"}),{at:de});case"deleteSoftLineBackward":return v(()=>f.ML.deleteBackward(t,{unit:"line"}),{at:de});case"deleteHardLineForward":return v(()=>f.ML.deleteForward(t,{unit:"block"}),{at:de});case"deleteSoftLineForward":return v(()=>f.ML.deleteForward(t,{unit:"line"}),{at:de});case"deleteWordBackward":return v(()=>f.ML.deleteBackward(t,{unit:"word"}),{at:de});case"deleteWordForward":return v(()=>f.ML.deleteForward(t,{unit:"word"}),{at:de});case"insertLineBreak":return v(()=>f.ML.insertSoftBreak(t),{at:de});case"insertParagraph":return v(()=>f.ML.insertBreak(t),{at:de});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Se(fr))return v(()=>M.insertData(t,fr),{at:de});var Nr=fr!=null?fr:"";if(Vr.get(t)&&(Nr=Nr.replace("\uFEFF","")),Be==="insertText"&&/.*\n.*\n$/.test(Nr)&&(Nr=Nr.slice(0,-1)),Nr.includes(`
`))return v(()=>{var Gn=Nr.split(`
`);Gn.forEach((xu,Mu)=>{xu&&f.ML.insertText(t,xu),Mu!==Gn.length-1&&f.ML.insertSoftBreak(t)})},{at:de});if(f.y$.equals(de.anchor.path,de.focus.path)){var[An,bn]=f.e6.edges(de),At={start:An.offset,end:bn.offset,text:Nr};if(Nr&&x&&Be==="insertCompositionText"){var Su=x.start+x.text.search(/\S|$/),Pu=At.start+At.text.search(/\S|$/);Pu===Su+1&&At.end===x.start+x.text.length?(At.start-=1,x=null,Ve()):x=!1}else Be==="insertText"?x===null?x=At:x&&f.e6.isCollapsed(de)&&x.end+x.text.length===An.offset?x=le(le({},x),{},{text:x.text+Nr}):x=!1:x=!1;if(Er){_(An.path,At);return}}return v(()=>f.ML.insertText(t,Nr),{at:de})}}}},Te=()=>!!Fe.get(t),Ie=()=>{var De;return!!((De=Fr.get(t))!==null&&De!==void 0&&De.length)},nr=()=>Te()||Ie(),gr=()=>C,Pr=De=>{ut.set(t,De),w&&(clearTimeout(w),w=null);var{selection:pe}=t;if(De){var Be=!pe||!f.y$.equals(pe.anchor.path,De.anchor.path),de=!pe||!f.y$.equals(pe.anchor.path.slice(0,-1),De.anchor.path.slice(0,-1));(Be&&x||de)&&(x=!1),(Be||Ie())&&(w=setTimeout(ee,Oe))}},sr=()=>{(Te()||!Ie())&&ee()},Ae=De=>{Ie()||(Ee(!0),setTimeout(Ee))},Ve=()=>{Te()||(I=setTimeout(ee))},lr=De=>{if(!(Ie()||Te())&&De.some(Be=>Dn(t,Be,De))){var pe;(pe=Gt.get(t))===null||pe===void 0||pe()}};return{flush:ee,scheduleFlush:Ve,hasPendingDiffs:Ie,hasPendingAction:Te,hasPendingChanges:nr,isFlushing:gr,handleUserSelect:Pr,handleCompositionEnd:se,handleCompositionStart:te,handleDOMBeforeInput:je,handleKeyDown:Ae,handleDomMutations:lr,handleInput:sr}}function tr(){var a=(0,E.useRef)(!1);return(0,E.useEffect)(()=>(a.current=!0,()=>{a.current=!1}),[]),a.current}function _e(a,t,i){var[o]=(0,E.useState)(()=>new MutationObserver(t));Bt(()=>{o.takeRecords()}),(0,E.useEffect)(()=>{if(!a.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return o.observe(a.current,i),()=>o.disconnect()},[o,a,i])}var er=["node"];function ar(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);t&&(o=o.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),i.push.apply(i,o)}return i}function Rr(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ar(Object(i),!0).forEach(function(o){xr(a,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):ar(Object(i)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(i,o))})}return a}var Cr={subtree:!0,childList:!0,characterData:!0},et=Ar?a=>{var{node:t}=a,i=Xr(a,er);if(!Ar)return null;var o=it(),C=tr(),[F]=(0,E.useState)(()=>Ke(Rr({editor:o},i)));return _e(t,F.handleDomMutations,Cr),cn.set(o,F.scheduleFlush),C&&F.flush(),F}:()=>null;function br(){var a=it(),t=(0,E.useRef)(!1),i=(0,E.useRef)(0),o=(0,E.useCallback)(()=>{if(!t.current){t.current=!0;var C=M.getWindow(a);C.cancelAnimationFrame(i.current),i.current=C.requestAnimationFrame(()=>{t.current=!1})}},[a]);return(0,E.useEffect)(()=>()=>cancelAnimationFrame(i.current),[]),{receivedUserInput:t,onUserInput:o}}var _r=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],pr=["text"];function mr(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);t&&(o=o.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),i.push.apply(i,o)}return i}function ir(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?mr(Object(i),!0).forEach(function(o){xr(a,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):mr(Object(i)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(i,o))})}return a}var ot=a=>E.createElement(E.Fragment,null,qn(a)),Yr=a=>{var t,i,o=(0,E.useCallback)(y=>E.createElement(Hr,Object.assign({},y)),[]),{autoFocus:C,decorate:F=qe,onDOMBeforeInput:w,placeholder:I,readOnly:R=!1,renderElement:x,renderLeaf:V,renderPlaceholder:fe=o,scrollSelectionIntoView:ee=$r,style:se={},as:te="div",disableDefaultStyles:Ee=!1}=a,_=Xr(a,_r),v=Kn(),[je,Te]=(0,E.useState)(!1),Ie=(0,E.useRef)(null),nr=(0,E.useRef)([]),{onUserInput:gr,receivedUserInput:Pr}=br(),[,sr]=(0,E.useReducer)(y=>y+1,0);Gt.set(v,sr),fn.set(v,R);var Ae=(0,E.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,E.useEffect)(()=>{Ie.current&&C&&Ie.current.focus()},[C]);var Ve=(0,E.useRef)(),lr=(0,E.useMemo)(()=>ae()(()=>{var y=Ve.current;if((Ar||!M.isComposing(v))&&(!Ae.isUpdatingSelection||y!=null&&y.isFlushing())&&!Ae.isDraggingInternally){var he=M.findDocumentOrShadowRoot(v),{activeElement:J}=he,ne=M.toDOMNode(v,v),ze=he.getSelection();if(J===ne?(Ae.latestElement=J,gt.set(v,!0)):gt.delete(v),!ze)return f.YR.deselect(v);var{anchorNode:Ne,focusNode:Ye}=ze,cr=M.hasEditableTarget(v,Ne)||M.isTargetInsideNonReadonlyVoid(v,Ne),ur=M.hasEditableTarget(v,Ye)||M.isTargetInsideNonReadonlyVoid(v,Ye);if(cr&&ur){var hr=M.toSlateRange(v,ze,{exactMatch:!1,suppressThrow:!0});hr&&(!M.isComposing(v)&&!(y!=null&&y.hasPendingChanges())&&!(y!=null&&y.isFlushing())?f.YR.select(v,hr):y==null||y.handleUserSelect(hr))}R&&(!cr||!ur)&&f.YR.deselect(v)}},100),[v,R,Ae]),De=(0,E.useMemo)(()=>Z()(lr,0),[lr]);Ve.current=et({node:Ie,onDOMSelectionChange:lr,scheduleOnDOMSelectionChange:De}),Bt(()=>{var y,he,J;Ie.current&&(J=vn(Ie.current))?(ln.set(v,J),Lt.set(v,Ie.current),Dt.set(v,Ie.current),jt.set(Ie.current,v)):Dt.delete(v);var{selection:ne}=v,ze=M.findDocumentOrShadowRoot(v),Ne=ze.getSelection();if(!(!Ne||!M.isFocused(v)||(y=Ve.current)!==null&&y!==void 0&&y.hasPendingAction())){var Ye=jr=>{var Ir=Ne.type!=="None";if(!(!ne&&!Ir)){var Ur=Lt.get(v),qr=!1;if(Ur.contains(Ne.anchorNode)&&Ur.contains(Ne.focusNode)&&(qr=!0),Ir&&qr&&ne&&!jr){var _t=M.toSlateRange(v,Ne,{exactMatch:!0,suppressThrow:!0});if(_t&&f.e6.equals(_t,ne)){var lt;if(!Ae.hasMarkPlaceholder)return;var{anchorNode:tt}=Ne;if(tt!=null&&(lt=tt.parentElement)!==null&&lt!==void 0&&lt.hasAttribute("data-slate-mark-placeholder"))return}}if(ne&&!M.hasRange(v,ne)){v.selection=M.toSlateRange(v,Ne,{exactMatch:!1,suppressThrow:!0});return}Ae.isUpdatingSelection=!0;var yr=ne&&M.toDOMRange(v,ne);return yr?(f.e6.isBackward(ne)?Ne.setBaseAndExtent(yr.endContainer,yr.endOffset,yr.startContainer,yr.startOffset):Ne.setBaseAndExtent(yr.startContainer,yr.startOffset,yr.endContainer,yr.endOffset),ee(v,yr)):Ne.removeAllRanges(),yr}},cr=Ye(),ur=((he=Ve.current)===null||he===void 0?void 0:he.isFlushing())==="action";if(!Ar||!ur){setTimeout(()=>{if(cr&&D){var jr=M.toDOMNode(v,v);jr.focus()}Ae.isUpdatingSelection=!1});return}var hr=null,Lr=requestAnimationFrame(()=>{if(ur){var jr=Ir=>{try{var Ur=M.toDOMNode(v,v);Ur.focus(),Ye(Ir)}catch(qr){}};jr(),hr=setTimeout(()=>{jr(!0),Ae.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Lr),hr&&clearTimeout(hr)}}});var pe=(0,E.useCallback)(y=>{if(gr(),!R&&M.hasEditableTarget(v,y.target)&&!Ot(y,w)){var he;if(Ve.current)return Ve.current.handleDOMBeforeInput(y);De.flush(),lr.flush();var{selection:J}=v,{inputType:ne}=y,ze=y.dataTransfer||y.data||void 0,Ne=ne==="insertCompositionText"||ne==="deleteCompositionText";if(Ne&&M.isComposing(v))return;var Ye=!1;if(ne==="insertText"&&J&&f.e6.isCollapsed(J)&&y.data&&y.data.length===1&&/[a-z ]/i.test(y.data)&&J.anchor.offset!==0){var cr,ur;Ye=!0,v.marks&&(Ye=!1);var{anchor:hr}=J,[Lr,jr]=M.toDOMPoint(v,hr),Ir=(cr=Lr.parentElement)===null||cr===void 0?void 0:cr.closest("a"),Ur=M.getWindow(v);if(Ye&&Ir&&M.hasDOMNode(v,Ir)){var qr,_t=Ur==null?void 0:Ur.document.createTreeWalker(Ir,NodeFilter.SHOW_TEXT).lastChild();_t===Lr&&((qr=_t.textContent)===null||qr===void 0?void 0:qr.length)===jr&&(Ye=!1)}if(Ye&&Lr.parentElement&&(Ur==null||(ur=Ur.getComputedStyle(Lr.parentElement))===null||ur===void 0?void 0:ur.whiteSpace)==="pre"){var lt=f.ML.above(v,{at:hr.path,match:At=>f.W_.isElement(At)&&f.ML.isBlock(v,At)});lt&&f.NB.string(lt[0]).includes("	")&&(Ye=!1)}}if(!ne.startsWith("delete")||ne.startsWith("deleteBy")){var[tt]=y.getTargetRanges();if(tt){var yr=M.toSlateRange(v,tt,{exactMatch:!1,suppressThrow:!1});if(!J||!f.e6.equals(J,yr)){Ye=!1;var Nr=!Ne&&v.selection&&f.ML.rangeRef(v,v.selection);f.YR.select(v,yr),Nr&&It.set(v,Nr)}}}if(Ne)return;if(Ye||y.preventDefault(),J&&f.e6.isExpanded(J)&&ne.startsWith("delete")){var An=ne.endsWith("Backward")?"backward":"forward";f.ML.deleteFragment(v,{direction:An});return}switch(ne){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{f.ML.deleteFragment(v);break}case"deleteContent":case"deleteContentForward":{f.ML.deleteForward(v);break}case"deleteContentBackward":{f.ML.deleteBackward(v);break}case"deleteEntireSoftLine":{f.ML.deleteBackward(v,{unit:"line"}),f.ML.deleteForward(v,{unit:"line"});break}case"deleteHardLineBackward":{f.ML.deleteBackward(v,{unit:"block"});break}case"deleteSoftLineBackward":{f.ML.deleteBackward(v,{unit:"line"});break}case"deleteHardLineForward":{f.ML.deleteForward(v,{unit:"block"});break}case"deleteSoftLineForward":{f.ML.deleteForward(v,{unit:"line"});break}case"deleteWordBackward":{f.ML.deleteBackward(v,{unit:"word"});break}case"deleteWordForward":{f.ML.deleteForward(v,{unit:"word"});break}case"insertLineBreak":f.ML.insertSoftBreak(v);break;case"insertParagraph":{f.ML.insertBreak(v);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{ne==="insertFromComposition"&&M.isComposing(v)&&(Te(!1),Ct.set(v,!1)),(ze==null?void 0:ze.constructor.name)==="DataTransfer"?M.insertData(v,ze):typeof ze=="string"&&(Ye?nr.current.push(()=>f.ML.insertText(v,ze)):f.ML.insertText(v,ze));break}}var bn=(he=It.get(v))===null||he===void 0?void 0:he.unref();It.delete(v),bn&&(!v.selection||!f.e6.equals(v.selection,bn))&&f.YR.select(v,bn)}},[v,lr,gr,w,R,De]),Be=(0,E.useCallback)(y=>{y==null?(lr.cancel(),De.cancel(),Lt.delete(v),Dt.delete(v),Ie.current&&m&&Ie.current.removeEventListener("beforeinput",pe)):m&&y.addEventListener("beforeinput",pe),Ie.current=y},[lr,De,v,pe]);Bt(()=>{var y=M.getWindow(v);return y.document.addEventListener("selectionchange",De),()=>{y.document.removeEventListener("selectionchange",De)}},[De]);var de=F([v,[]]);if(I&&v.children.length===1&&Array.from(f.NB.texts(v)).length===1&&f.NB.string(v)===""&&!je){var fr=f.ML.start(v,[]);de.push({[wt]:!0,placeholder:I,anchor:fr,focus:fr})}var{marks:Xe}=v;if(Ae.hasMarkPlaceholder=!1,v.selection&&f.e6.isCollapsed(v.selection)&&Xe){var{anchor:Tr}=v.selection,Br=f.NB.leaf(v,Tr.path),Er=Xr(Br,pr);if(!f.xv.equals(Br,Xe,{loose:!0})){Ae.hasMarkPlaceholder=!0;var Gr=Object.fromEntries(Object.keys(Er).map(y=>[y,null]));de.push(ir(ir(ir({[Mn]:!0},Gr),Xe),{},{anchor:Tr,focus:Tr}))}}(0,E.useEffect)(()=>{setTimeout(()=>{var{selection:y}=v;if(y){var{anchor:he}=y,J=f.NB.leaf(v,he.path);if(Xe&&!f.xv.equals(J,Xe,{loose:!0})){Vr.set(v,Xe);return}}Vr.delete(v)})});var kr=(t=nt.get(v))===null||t===void 0||(i=t.getBoundingClientRect())===null||i===void 0?void 0:i.height;return E.createElement(mn.Provider,{value:R},E.createElement(Un.Provider,{value:F},E.createElement(s,{node:Ie,receivedUserInput:Pr},E.createElement(te,Object.assign({role:R?void 0:"textbox","aria-multiline":R?void 0:!0},_,{spellCheck:m||!Qr?_.spellCheck:!1,autoCorrect:m||!Qr?_.autoCorrect:"false",autoCapitalize:m||!Qr?_.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!R,zindex:-1,suppressContentEditableWarning:!0,ref:Be,style:ir(ir({},Ee?{}:ir({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},kr?{minHeight:kr}:{})),se),onBeforeInput:(0,E.useCallback)(y=>{if(!m&&!R&&!Ge(y,_.onBeforeInput)&&M.hasSelectableTarget(v,y.target)&&(y.preventDefault(),!M.isComposing(v))){var he=y.data;f.ML.insertText(v,he)}},[_.onBeforeInput,v,R]),onInput:(0,E.useCallback)(y=>{if(!Ge(y,_.onInput)){if(Ve.current){Ve.current.handleInput();return}for(var he of nr.current)he();nr.current=[]}},[_.onInput]),onBlur:(0,E.useCallback)(y=>{if(!(R||Ae.isUpdatingSelection||!M.hasSelectableTarget(v,y.target)||Ge(y,_.onBlur))){var he=M.findDocumentOrShadowRoot(v);if(Ae.latestElement!==he.activeElement){var{relatedTarget:J}=y,ne=M.toDOMNode(v,v);if(J!==ne&&!(Mr(J)&&J.hasAttribute("data-slate-spacer"))){if(J!=null&&at(J)&&M.hasDOMNode(v,J)){var ze=M.toSlateNode(v,J);if(f.W_.isElement(ze)&&!v.isVoid(ze))return}if(gn){var Ne=he.getSelection();Ne==null||Ne.removeAllRanges()}gt.delete(v)}}}},[R,Ae.isUpdatingSelection,Ae.latestElement,v,_.onBlur]),onClick:(0,E.useCallback)(y=>{if(M.hasTarget(v,y.target)&&!Ge(y,_.onClick)&&at(y.target)){var he=M.toSlateNode(v,y.target),J=M.findPath(v,he);if(!f.ML.hasPath(v,J)||f.NB.get(v,J)!==he)return;if(y.detail===Du&&J.length>=1){var ne=J;if(!(f.W_.isElement(he)&&f.ML.isBlock(v,he))){var ze,Ne=f.ML.above(v,{match:Ir=>f.W_.isElement(Ir)&&f.ML.isBlock(v,Ir),at:J});ne=(ze=Ne==null?void 0:Ne[1])!==null&&ze!==void 0?ze:J.slice(0,1)}var Ye=f.ML.range(v,ne);f.YR.select(v,Ye);return}if(R)return;var cr=f.ML.start(v,J),ur=f.ML.end(v,J),hr=f.ML.void(v,{at:cr}),Lr=f.ML.void(v,{at:ur});if(hr&&Lr&&f.y$.equals(hr[1],Lr[1])){var jr=f.ML.range(v,cr);f.YR.select(v,jr)}}},[v,_.onClick,R]),onCompositionEnd:(0,E.useCallback)(y=>{if(M.hasSelectableTarget(v,y.target)){var he;if(M.isComposing(v)&&(Te(!1),Ct.set(v,!1)),(he=Ve.current)===null||he===void 0||he.handleCompositionEnd(y),Ge(y,_.onCompositionEnd)||Ar)return;if(!gn&&!ie&&!kn&&!Je&&!In&&y.data){var J=Vr.get(v);Vr.delete(v),J!==void 0&&(Zr.set(v,v.marks),v.marks=J),f.ML.insertText(v,y.data);var ne=Zr.get(v);Zr.delete(v),ne!==void 0&&(v.marks=ne)}}},[_.onCompositionEnd,v]),onCompositionUpdate:(0,E.useCallback)(y=>{M.hasSelectableTarget(v,y.target)&&!Ge(y,_.onCompositionUpdate)&&(M.isComposing(v)||(Te(!0),Ct.set(v,!0)))},[_.onCompositionUpdate,v]),onCompositionStart:(0,E.useCallback)(y=>{if(M.hasSelectableTarget(v,y.target)){var he;if((he=Ve.current)===null||he===void 0||he.handleCompositionStart(y),Ge(y,_.onCompositionStart)||Ar)return;Te(!0);var{selection:J}=v;if(J){if(f.e6.isExpanded(J)){f.ML.deleteFragment(v);return}var ne=f.ML.above(v,{match:Ye=>f.W_.isElement(Ye)&&f.ML.isInline(v,Ye),mode:"highest"});if(ne){var[,ze]=ne;if(f.ML.isEnd(v,J.anchor,ze)){var Ne=f.ML.after(v,ze);f.YR.setSelection(v,{anchor:Ne,focus:Ne})}}}}},[_.onCompositionStart,v]),onCopy:(0,E.useCallback)(y=>{M.hasSelectableTarget(v,y.target)&&!Ge(y,_.onCopy)&&!Sr(y)&&(y.preventDefault(),M.setFragmentData(v,y.clipboardData,"copy"))},[_.onCopy,v]),onCut:(0,E.useCallback)(y=>{if(!R&&M.hasSelectableTarget(v,y.target)&&!Ge(y,_.onCut)&&!Sr(y)){y.preventDefault(),M.setFragmentData(v,y.clipboardData,"cut");var{selection:he}=v;if(he)if(f.e6.isExpanded(he))f.ML.deleteFragment(v);else{var J=f.NB.parent(v,he.anchor.path);f.ML.isVoid(v,J)&&f.YR.delete(v)}}},[R,v,_.onCut]),onDragOver:(0,E.useCallback)(y=>{if(M.hasTarget(v,y.target)&&!Ge(y,_.onDragOver)){var he=M.toSlateNode(v,y.target);f.W_.isElement(he)&&f.ML.isVoid(v,he)&&y.preventDefault()}},[_.onDragOver,v]),onDragStart:(0,E.useCallback)(y=>{if(!R&&M.hasTarget(v,y.target)&&!Ge(y,_.onDragStart)){var he=M.toSlateNode(v,y.target),J=M.findPath(v,he),ne=f.W_.isElement(he)&&f.ML.isVoid(v,he)||f.ML.void(v,{at:J,voids:!0});if(ne){var ze=f.ML.range(v,J);f.YR.select(v,ze)}Ae.isDraggingInternally=!0,M.setFragmentData(v,y.dataTransfer,"drag")}},[R,v,_.onDragStart,Ae]),onDrop:(0,E.useCallback)(y=>{if(!R&&M.hasTarget(v,y.target)&&!Ge(y,_.onDrop)){y.preventDefault();var he=v.selection,J=M.findEventRange(v,y),ne=y.dataTransfer;f.YR.select(v,J),Ae.isDraggingInternally&&he&&!f.e6.equals(he,J)&&!f.ML.void(v,{at:J,voids:!0})&&f.YR.delete(v,{at:he}),M.insertData(v,ne),M.isFocused(v)||M.focus(v)}Ae.isDraggingInternally=!1},[R,v,_.onDrop,Ae]),onDragEnd:(0,E.useCallback)(y=>{!R&&Ae.isDraggingInternally&&_.onDragEnd&&M.hasTarget(v,y.target)&&_.onDragEnd(y),Ae.isDraggingInternally=!1},[R,Ae,_,v]),onFocus:(0,E.useCallback)(y=>{if(!R&&!Ae.isUpdatingSelection&&M.hasEditableTarget(v,y.target)&&!Ge(y,_.onFocus)){var he=M.toDOMNode(v,v),J=M.findDocumentOrShadowRoot(v);if(Ae.latestElement=J.activeElement,D&&y.target!==he){he.focus();return}gt.set(v,!0)}},[R,Ae,v,_.onFocus]),onKeyDown:(0,E.useCallback)(y=>{if(!R&&M.hasEditableTarget(v,y.target)){var he;(he=Ve.current)===null||he===void 0||he.handleKeyDown(y);var{nativeEvent:J}=y;if(M.isComposing(v)&&J.isComposing===!1&&(Ct.set(v,!1),Te(!1)),Ge(y,_.onKeyDown)||M.isComposing(v))return;var{selection:ne}=v,ze=v.children[ne!==null?ne.focus.path[0]:0],Ne=T()(f.NB.string(ze))==="rtl";if(e.isRedo(J)){y.preventDefault();var Ye=v;typeof Ye.redo=="function"&&Ye.redo();return}if(e.isUndo(J)){y.preventDefault();var cr=v;typeof cr.undo=="function"&&cr.undo();return}if(e.isMoveLineBackward(J)){y.preventDefault(),f.YR.move(v,{unit:"line",reverse:!0});return}if(e.isMoveLineForward(J)){y.preventDefault(),f.YR.move(v,{unit:"line"});return}if(e.isExtendLineBackward(J)){y.preventDefault(),f.YR.move(v,{unit:"line",edge:"focus",reverse:!0});return}if(e.isExtendLineForward(J)){y.preventDefault(),f.YR.move(v,{unit:"line",edge:"focus"});return}if(e.isMoveBackward(J)){y.preventDefault(),ne&&f.e6.isCollapsed(ne)?f.YR.move(v,{reverse:!Ne}):f.YR.collapse(v,{edge:"start"});return}if(e.isMoveForward(J)){y.preventDefault(),ne&&f.e6.isCollapsed(ne)?f.YR.move(v,{reverse:Ne}):f.YR.collapse(v,{edge:"end"});return}if(e.isMoveWordBackward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)&&f.YR.collapse(v,{edge:"focus"}),f.YR.move(v,{unit:"word",reverse:!Ne});return}if(e.isMoveWordForward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)&&f.YR.collapse(v,{edge:"focus"}),f.YR.move(v,{unit:"word",reverse:Ne});return}if(m){if((Ln||gn)&&ne&&(e.isDeleteBackward(J)||e.isDeleteForward(J))&&f.e6.isCollapsed(ne)){var ur=f.NB.parent(v,ne.anchor.path);if(f.W_.isElement(ur)&&f.ML.isVoid(v,ur)&&(f.ML.isInline(v,ur)||f.ML.isBlock(v,ur))){y.preventDefault(),f.ML.deleteBackward(v,{unit:"block"});return}}}else{if(e.isBold(J)||e.isItalic(J)||e.isTransposeCharacter(J)){y.preventDefault();return}if(e.isSoftBreak(J)){y.preventDefault(),f.ML.insertSoftBreak(v);return}if(e.isSplitBlock(J)){y.preventDefault(),f.ML.insertBreak(v);return}if(e.isDeleteBackward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)?f.ML.deleteFragment(v,{direction:"backward"}):f.ML.deleteBackward(v);return}if(e.isDeleteForward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)?f.ML.deleteFragment(v,{direction:"forward"}):f.ML.deleteForward(v);return}if(e.isDeleteLineBackward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)?f.ML.deleteFragment(v,{direction:"backward"}):f.ML.deleteBackward(v,{unit:"line"});return}if(e.isDeleteLineForward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)?f.ML.deleteFragment(v,{direction:"forward"}):f.ML.deleteForward(v,{unit:"line"});return}if(e.isDeleteWordBackward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)?f.ML.deleteFragment(v,{direction:"backward"}):f.ML.deleteBackward(v,{unit:"word"});return}if(e.isDeleteWordForward(J)){y.preventDefault(),ne&&f.e6.isExpanded(ne)?f.ML.deleteFragment(v,{direction:"forward"}):f.ML.deleteForward(v,{unit:"word"});return}}}},[R,v,_.onKeyDown]),onPaste:(0,E.useCallback)(y=>{!R&&M.hasEditableTarget(v,y.target)&&!Ge(y,_.onPaste)&&(!m||eu(y.nativeEvent)||gn)&&(y.preventDefault(),M.insertData(v,y.clipboardData))},[R,v,_.onPaste])}),E.createElement(ot,{decorations:de,node:v,renderElement:x,renderPlaceholder:fe,renderLeaf:V,selection:v.selection})))))},Hr=a=>{var{attributes:t,children:i}=a;return E.createElement("span",Object.assign({},t),i,Ar&&E.createElement("br",null))},qe=()=>[],$r=(a,t)=>{if(t.getBoundingClientRect&&(!a.selection||a.selection&&f.e6.isCollapsed(a.selection))){var i=t.startContainer.parentElement;i.getBoundingClientRect=t.getBoundingClientRect.bind(t),ge(i,{scrollMode:"if-needed"}),delete i.getBoundingClientRect}},Ge=(a,t)=>{if(!t)return!1;var i=t(a);return i!=null?i:a.isDefaultPrevented()||a.isPropagationStopped()},Sr=a=>at(a.target)&&(a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement),Ot=(a,t)=>{if(!t)return!1;var i=t(a);return i!=null?i:a.defaultPrevented},Et=(0,E.createContext)(!1),Vt=()=>useContext(Et);function Zt(a){return a instanceof Error}var dr=(0,E.createContext)({}),Qt=(a,t)=>a===t;function Bn(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt,[,i]=useReducer(V=>V+1,0),o=useContext(dr);if(!o)throw new Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var{getSlate:C,addEventListener:F}=o,w=useRef(),I=useRef(()=>null),R=useRef(null),x;try{a!==I.current||w.current?x=a(C()):x=R.current}catch(V){throw w.current&&Zt(V)&&(V.message+=`
The error may be correlated with this previous error:
`.concat(w.current.stack,`

`)),V}return Bt(()=>{I.current=a,R.current=x,w.current=void 0}),Bt(()=>{function V(){try{var ee=I.current(C());if(t(ee,R.current))return;R.current=ee}catch(se){w.current=se}i()}var fe=F(V);return V(),()=>fe()},[F,C]),x}function Cu(a){var t=(0,E.useRef)([]).current,i=(0,E.useRef)({editor:a}).current,o=(0,E.useCallback)(F=>{i.editor=F,t.forEach(w=>w(F))},[t,i]),C=(0,E.useMemo)(()=>({getSlate:()=>i.editor,addEventListener:F=>(t.push(F),()=>{t.splice(t.indexOf(F),1)})}),[t,i]);return{selectorContext:C,onChange:o}}var pu=["editor","children","onChange","value"],mu=a=>{var{editor:t,children:i,onChange:o,value:C}=a,F=Xr(a,pu),w=(0,E.useRef)(!1),[I,R]=E.useState(()=>{if(!f.NB.isNodeList(C))throw new Error("[Slate] value is invalid! Expected a list of elements but got: ".concat(f.o4.stringify(C)));if(!f.ML.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(f.o4.stringify(t)));return t.children=C,Object.assign(t,F),{v:0,editor:t}}),{selectorContext:x,onChange:V}=Cu(t),fe=(0,E.useCallback)(()=>{o&&o(t.children),R(te=>({v:te.v+1,editor:t})),V(t)},[t,V,o]);(0,E.useEffect)(()=>(Nt.set(t,fe),()=>{Nt.set(t,()=>{}),w.current=!0}),[t,fe]);var[ee,se]=(0,E.useState)(M.isFocused(t));return(0,E.useEffect)(()=>{se(M.isFocused(t))},[t]),Bt(()=>{var te=()=>se(M.isFocused(t));return uu?(document.addEventListener("focusin",te),document.addEventListener("focusout",te),()=>{document.removeEventListener("focusin",te),document.removeEventListener("focusout",te)}):(document.addEventListener("focus",te,!0),document.addEventListener("blur",te,!0),()=>{document.removeEventListener("focus",te,!0),document.removeEventListener("blur",te,!0)})},[]),E.createElement(dr.Provider,{value:x},E.createElement(st.Provider,{value:I},E.createElement(Wt.Provider,{value:I.editor},E.createElement(Et.Provider,{value:ee},i))))},Ou=()=>{var a=useContext(Wt);if(!a)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return a},Bu=()=>Bn(a=>a.selection,Eu),Eu=(a,t)=>!a&&!t?!0:!a||!t?!1:Range.equals(a,t),Jt=(a,t)=>{var i=(t.top+t.bottom)/2;return a.top<=i&&a.bottom>=i},en=(a,t,i)=>{var o=M.toDOMRange(a,t).getBoundingClientRect(),C=M.toDOMRange(a,i).getBoundingClientRect();return Jt(o,C)&&Jt(C,o)},xt=(a,t)=>{var i=f.ML.range(a,f.e6.end(t)),o=Array.from(f.ML.positions(a,{at:t})),C=0,F=o.length,w=Math.floor(F/2);if(en(a,f.ML.range(a,o[C]),i))return f.ML.range(a,o[C],i);if(o.length<2)return f.ML.range(a,o[o.length-1],i);for(;w!==o.length&&w!==C;)en(a,f.ML.range(a,o[w]),i)?F=w:C=w,w=Math.floor((C+F)/2);return f.ML.range(a,o[F],i)};function En(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);t&&(o=o.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),i.push.apply(i,o)}return i}function Fn(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?En(Object(i),!0).forEach(function(o){xr(a,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):En(Object(i)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(i,o))})}return a}var Ft=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",o=t,{apply:C,onChange:F,deleteBackward:w,addMark:I,removeMark:R}=o;return yt.set(o,new WeakMap),o.addMark=(x,V)=>{var fe,ee;(fe=cn.get(o))===null||fe===void 0||fe(),!Vr.get(o)&&(ee=Fr.get(o))!==null&&ee!==void 0&&ee.length&&Vr.set(o,null),Zr.delete(o),I(x,V)},o.removeMark=x=>{var V;!Vr.get(o)&&(V=Fr.get(o))!==null&&V!==void 0&&V.length&&Vr.set(o,null),Zr.delete(o),R(x)},o.deleteBackward=x=>{if(x!=="line")return w(x);if(o.selection&&f.e6.isCollapsed(o.selection)){var V=f.ML.above(o,{match:te=>f.W_.isElement(te)&&f.ML.isBlock(o,te),at:o.selection});if(V){var[,fe]=V,ee=f.ML.range(o,fe,o.selection.anchor),se=xt(o,ee);f.e6.isCollapsed(se)||f.YR.delete(o,{at:se})}}},o.apply=x=>{var V=[],fe=Fr.get(o);if(fe!=null&&fe.length){var ee=fe.map(gr=>$(gr,x)).filter(Boolean);Fr.set(o,ee)}var se=ut.get(o);se&&ut.set(o,N(o,se,x));var te=Fe.get(o);if(te!=null&&te.at){var Ee=f.E9.isPoint(te==null?void 0:te.at)?S(o,te.at,x):N(o,te.at,x);Fe.set(o,Ee?Fn(Fn({},te),{},{at:Ee}):null)}switch(x.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{V.push(...rt(o,x.path));break}case"set_selection":{var _;(_=It.get(o))===null||_===void 0||_.unref(),It.delete(o);break}case"insert_node":case"remove_node":{V.push(...rt(o,f.y$.parent(x.path)));break}case"merge_node":{var v=f.y$.previous(x.path);V.push(...rt(o,v));break}case"move_node":{var je=f.y$.common(f.y$.parent(x.path),f.y$.parent(x.newPath));V.push(...rt(o,je));break}}C(x);for(var[Te,Ie]of V){var[nr]=f.ML.node(o,Te);zr.set(nr,Ie)}},o.setFragmentData=x=>{var{selection:V}=o;if(V){var[fe,ee]=f.e6.edges(V),se=f.ML.void(o,{at:fe.path}),te=f.ML.void(o,{at:ee.path});if(!(f.e6.isCollapsed(V)&&!se)){var Ee=M.toDOMRange(o,V),_=Ee.cloneContents(),v=_.childNodes[0];if(_.childNodes.forEach(Ve=>{Ve.textContent&&Ve.textContent.trim()!==""&&(v=Ve)}),te){var[je]=te,Te=Ee.cloneRange(),Ie=M.toDOMNode(o,je);Te.setEndAfter(Ie),_=Te.cloneContents()}if(se&&(v=_.querySelector("[data-slate-spacer]")),Array.from(_.querySelectorAll("[data-slate-zero-width]")).forEach(Ve=>{var lr=Ve.getAttribute("data-slate-zero-width")==="n";Ve.textContent=lr?`
`:""}),pt(v)){var nr=v.ownerDocument.createElement("span");nr.style.whiteSpace="pre",nr.appendChild(v),_.appendChild(nr),v=nr}var gr=o.getFragment(),Pr=JSON.stringify(gr),sr=window.btoa(encodeURIComponent(Pr));v.setAttribute("data-slate-fragment",sr),x.setData("application/".concat(i),sr);var Ae=_.ownerDocument.createElement("div");return Ae.appendChild(_),Ae.setAttribute("hidden","true"),_.ownerDocument.body.appendChild(Ae),x.setData("text/html",Ae.innerHTML),x.setData("text/plain",Rn(Ae)),_.ownerDocument.body.removeChild(Ae),x}}},o.insertData=x=>{o.insertFragmentData(x)||o.insertTextData(x)},o.insertFragmentData=x=>{var V=x.getData("application/".concat(i))||be(x);if(V){var fe=decodeURIComponent(window.atob(V)),ee=JSON.parse(fe);return o.insertFragment(ee),!0}return!1},o.insertTextData=x=>{var V=x.getData("text/plain");if(V){var fe=V.split(/\r\n|\r|\n/),ee=!1;for(var se of fe)ee&&f.YR.splitNodes(o,{always:!0}),o.insertText(se),ee=!0;return!0}return!1},o.onChange=x=>{wu.unstable_batchedUpdates(()=>{var V=Nt.get(o);V&&V(),F(x)})},o},rt=(a,t)=>{var i=[];for(var[o,C]of f.ML.levels(a,{at:t})){var F=M.findKey(a,o);i.push([C,F])}return i}},75040:function(L,W,O){"use strict";O.d(W,{ML:function(){return D},W_:function(){return be},NB:function(){return ie},OX:function(){return Qr},y$:function(){return m},E9:function(){return We},e6:function(){return K},o4:function(){return Dr},xv:function(){return Ce},YR:function(){return Y},Jh:function(){return jt}});var j=O(33213);function T(e){for(var r=arguments.length,n=Array(r>1?r-1:0),u=1;u<r;u++)n[u-1]=arguments[u];if(0)var s,l;throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function X(e){return!!e&&!!e[Pe]}function Z(e){var r;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var u=Object.getPrototypeOf(n);if(u===null)return!0;var s=Object.hasOwnProperty.call(u,"constructor")&&u.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Xn}(e)||Array.isArray(e)||!!e[Mt]||!!(!((r=e.constructor)===null||r===void 0)&&r[Mt])||Q(e)||we(e))}function k(e){return X(e)||T(23,e),e[Pe].t}function ae(e,r,n){n===void 0&&(n=!1),E(e)===0?(n?Object.keys:dt)(e).forEach(function(u){n&&typeof u=="symbol"||r(u,e[u],e)}):e.forEach(function(u,s){return r(s,u,e)})}function E(e){var r=e[Pe];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:Q(e)?2:we(e)?3:0}function me(e,r){return E(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function ce(e,r){return E(e)===2?e.get(r):e[r]}function re(e,r,n){var u=E(e);u===2?e.set(r,n):u===3?e.add(n):e[r]=n}function q(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}function Q(e){return tn&&e instanceof Map}function we(e){return wn&&e instanceof Set}function oe(e){return e.o||e.t}function ve(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=un(e);delete r[Pe];for(var n=dt(r),u=0;u<n.length;u++){var s=n[u],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),r)}function ye(e,r){return r===void 0&&(r=!1),f(e)||X(e)||!Z(e)||(E(e)>1&&(e.set=e.add=e.clear=e.delete=ge),Object.freeze(e),r&&ae(e,function(n,u){return ye(u,!0)},!0)),e}function ge(){T(2)}function f(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Me(e){var r=Rt[e];return r||T(18,e),r}function Ze(e,r){Rt[e]||(Rt[e]=r)}function He(){return bt}function vr(e,r){r&&(Me("Patches"),e.u=[],e.s=[],e.v=r)}function P(e){H(e),e.p.forEach(G),e.p=null}function H(e){e===bt&&(bt=e.l)}function z(e){return bt={p:[],l:bt,h:e,m:!0,_:0}}function G(e){var r=e[Pe];r.i===0||r.i===1?r.j():r.g=!0}function U(e,r){r._=r.p.length;var n=r.p[0],u=e!==void 0&&e!==n;return r.h.O||Me("ES5").S(r,e,u),u?(n[Pe].P&&(P(r),T(4)),Z(e)&&(e=ke(r,e),r.l||Re(r,e)),r.u&&Me("Patches").M(n[Pe].t,e,r.u,r.s)):e=ke(r,n,[]),P(r),r.u&&r.v(r.u,r.s),e!==nn?e:void 0}function ke(e,r,n){if(f(r))return r;var u=r[Pe];if(!u)return ae(r,function(d,g){return $e(e,u,r,d,g,n)},!0),r;if(u.A!==e)return r;if(!u.P)return Re(e,u.t,!0),u.t;if(!u.I){u.I=!0,u.A._--;var s=u.i===4||u.i===5?u.o=ve(u.k):u.o,l=s,c=!1;u.i===3&&(l=new Set(s),s.clear(),c=!0),ae(l,function(d,g){return $e(e,u,s,d,g,n,c)}),Re(e,s,!1),n&&e.u&&Me("Patches").N(u,n,e.u,e.s)}return u.o}function $e(e,r,n,u,s,l,c){if(X(s)){var d=ke(e,s,l&&r&&r.i!==3&&!me(r.R,u)?l.concat(u):void 0);if(re(n,u,d),!X(d))return;e.m=!1}else c&&n.add(s);if(Z(s)&&!f(s)){if(!e.h.D&&e._<1)return;ke(e,s),r&&r.A.l||Re(e,s)}}function Re(e,r,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&ye(r,n)}function rr(e,r){var n=e[Pe];return(n?oe(n):e)[r]}function Qe(e,r){if(r in e)for(var n=Object.getPrototypeOf(e);n;){var u=Object.getOwnPropertyDescriptor(n,r);if(u)return u;n=Object.getPrototypeOf(n)}}function Le(e){e.P||(e.P=!0,e.l&&Le(e.l))}function Wr(e){e.o||(e.o=ve(e.t))}function wr(e,r,n){var u=Q(r)?Me("MapSet").F(r,n):we(r)?Me("MapSet").T(r,n):e.O?function(s,l){var c=Array.isArray(s),d={i:c?1:0,A:l?l.A:He(),P:!1,I:!1,R:{},l,t:s,k:null,o:null,j:null,C:!1},g=d,h=Tt;c&&(g=[d],h=ht);var p=Proxy.revocable(g,h),B=p.revoke,A=p.proxy;return d.k=A,d.j=B,A}(r,n):Me("ES5").J(r,n);return(n?n.A:He()).p.push(u),u}function ft(e){return X(e)||T(22,e),function r(n){if(!Z(n))return n;var u,s=n[Pe],l=E(n);if(s){if(!s.P&&(s.i<4||!Me("ES5").K(s)))return s.t;s.I=!0,u=or(n,l),s.I=!1}else u=or(n,l);return ae(u,function(c,d){s&&ce(s.t,c)===d||re(u,c,r(d))}),l===3?new Set(u):u}(e)}function or(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return ve(e)}function Kr(){function e(c,d){var g=l[c];return g?g.enumerable=d:l[c]=g={configurable:!0,enumerable:d,get:function(){var h=this[Pe];return Tt.get(h,c)},set:function(h){var p=this[Pe];Tt.set(p,c,h)}},g}function r(c){for(var d=c.length-1;d>=0;d--){var g=c[d][Pe];if(!g.P)switch(g.i){case 5:u(g)&&Le(g);break;case 4:n(g)&&Le(g)}}}function n(c){for(var d=c.t,g=c.k,h=dt(g),p=h.length-1;p>=0;p--){var B=h[p];if(B!==Pe){var A=d[B];if(A===void 0&&!me(d,B))return!0;var b=g[B],S=b&&b[Pe];if(S?S.t!==A:!q(b,A))return!0}}var N=!!d[Pe];return h.length!==dt(d).length+(N?0:1)}function u(c){var d=c.k;if(d.length!==c.t.length)return!0;var g=Object.getOwnPropertyDescriptor(d,d.length-1);if(g&&!g.get)return!0;for(var h=0;h<d.length;h++)if(!d.hasOwnProperty(h))return!0;return!1}function s(c){c.g&&T(3,JSON.stringify(oe(c)))}var l={};Ze("ES5",{J:function(c,d){var g=Array.isArray(c),h=function(B,A){if(B){for(var b=Array(A.length),S=0;S<A.length;S++)Object.defineProperty(b,""+S,e(S,!0));return b}var N=un(A);delete N[Pe];for(var $=dt(N),ue=0;ue<$.length;ue++){var le=$[ue];N[le]=e(le,B||!!N[le].enumerable)}return Object.create(Object.getPrototypeOf(A),N)}(g,c),p={i:g?5:4,A:d?d.A:He(),P:!1,I:!1,R:{},l:d,t:c,k:h,o:null,g:!1,C:!1};return Object.defineProperty(h,Pe,{value:p,writable:!0}),h},S:function(c,d,g){g?X(d)&&d[Pe].A===c&&r(c.p):(c.u&&function h(p){if(p&&typeof p=="object"){var B=p[Pe];if(B){var A=B.t,b=B.k,S=B.R,N=B.i;if(N===4)ae(b,function(Oe){Oe!==Pe&&(A[Oe]!==void 0||me(A,Oe)?S[Oe]||h(b[Oe]):(S[Oe]=!0,Le(B)))}),ae(A,function(Oe){b[Oe]!==void 0||me(b,Oe)||(S[Oe]=!1,Le(B))});else if(N===5){if(u(B)&&(Le(B),S.length=!0),b.length<A.length)for(var $=b.length;$<A.length;$++)S[$]=!1;else for(var ue=A.length;ue<b.length;ue++)S[ue]=!0;for(var le=Math.min(b.length,A.length),xe=0;xe<le;xe++)b.hasOwnProperty(xe)||(S[xe]=!0),S[xe]===void 0&&h(b[xe])}}}}(c.p[0]),r(c.p))},K:function(c){return c.i===4?n(c):u(c)}})}function St(){function e(u){if(!Z(u))return u;if(Array.isArray(u))return u.map(e);if(Q(u))return new Map(Array.from(u.entries()).map(function(c){return[c[0],e(c[1])]}));if(we(u))return new Set(Array.from(u).map(e));var s=Object.create(Object.getPrototypeOf(u));for(var l in u)s[l]=e(u[l]);return me(u,Mt)&&(s[Mt]=u[Mt]),s}function r(u){return X(u)?e(u):u}var n="add";Ze("Patches",{$:function(u,s){return s.forEach(function(l){for(var c=l.path,d=l.op,g=u,h=0;h<c.length-1;h++){var p=E(g),B=c[h];typeof B!="string"&&typeof B!="number"&&(B=""+B),p!==0&&p!==1||B!=="__proto__"&&B!=="constructor"||T(24),typeof g=="function"&&B==="prototype"&&T(24),typeof(g=ce(g,B))!="object"&&T(15,c.join("/"))}var A=E(g),b=e(l.value),S=c[c.length-1];switch(d){case"replace":switch(A){case 2:return g.set(S,b);case 3:T(16);default:return g[S]=b}case n:switch(A){case 1:return S==="-"?g.push(b):g.splice(S,0,b);case 2:return g.set(S,b);case 3:return g.add(b);default:return g[S]=b}case"remove":switch(A){case 1:return g.splice(S,1);case 2:return g.delete(S);case 3:return g.delete(l.value);default:return delete g[S]}default:T(17,d)}}),u},N:function(u,s,l,c){switch(u.i){case 0:case 4:case 2:return function(d,g,h,p){var B=d.t,A=d.o;ae(d.R,function(b,S){var N=ce(B,b),$=ce(A,b),ue=S?me(B,b)?"replace":n:"remove";if(N!==$||ue!=="replace"){var le=g.concat(b);h.push(ue==="remove"?{op:ue,path:le}:{op:ue,path:le,value:$}),p.push(ue===n?{op:"remove",path:le}:ue==="remove"?{op:n,path:le,value:r(N)}:{op:"replace",path:le,value:r(N)})}})}(u,s,l,c);case 5:case 1:return function(d,g,h,p){var B=d.t,A=d.R,b=d.o;if(b.length<B.length){var S=[b,B];B=S[0],b=S[1];var N=[p,h];h=N[0],p=N[1]}for(var $=0;$<B.length;$++)if(A[$]&&b[$]!==B[$]){var ue=g.concat([$]);h.push({op:"replace",path:ue,value:r(b[$])}),p.push({op:"replace",path:ue,value:r(B[$])})}for(var le=B.length;le<b.length;le++){var xe=g.concat([le]);h.push({op:n,path:xe,value:r(b[le])})}B.length<b.length&&p.push({op:"replace",path:g.concat(["length"]),value:B.length})}(u,s,l,c);case 3:return function(d,g,h,p){var B=d.t,A=d.o,b=0;B.forEach(function(S){if(!A.has(S)){var N=g.concat([b]);h.push({op:"remove",path:N,value:S}),p.unshift({op:n,path:N,value:S})}b++}),b=0,A.forEach(function(S){if(!B.has(S)){var N=g.concat([b]);h.push({op:n,path:N,value:S}),p.unshift({op:"remove",path:N,value:S})}b++})}(u,s,l,c)}},M:function(u,s,l,c){l.push({op:"replace",path:[],value:s===nn?void 0:s}),c.push({op:"replace",path:[],value:u})}})}function Pt(){function e(d,g){function h(){this.constructor=d}s(d,g),d.prototype=(h.prototype=g.prototype,new h)}function r(d){d.o||(d.R=new Map,d.o=new Map(d.t))}function n(d){d.o||(d.o=new Set,d.t.forEach(function(g){if(Z(g)){var h=wr(d.A.h,g,d);d.p.set(g,h),d.o.add(h)}else d.o.add(g)}))}function u(d){d.g&&T(3,JSON.stringify(oe(d)))}var s=function(d,g){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var B in p)p.hasOwnProperty(B)&&(h[B]=p[B])})(d,g)},l=function(){function d(h,p){return this[Pe]={i:2,l:p,A:p?p.A:He(),P:!1,I:!1,o:void 0,R:void 0,t:h,k:this,C:!1,g:!1},this}e(d,Map);var g=d.prototype;return Object.defineProperty(g,"size",{get:function(){return oe(this[Pe]).size}}),g.has=function(h){return oe(this[Pe]).has(h)},g.set=function(h,p){var B=this[Pe];return u(B),oe(B).has(h)&&oe(B).get(h)===p||(r(B),Le(B),B.R.set(h,!0),B.o.set(h,p),B.R.set(h,!0)),this},g.delete=function(h){if(!this.has(h))return!1;var p=this[Pe];return u(p),r(p),Le(p),p.t.has(h)?p.R.set(h,!1):p.R.delete(h),p.o.delete(h),!0},g.clear=function(){var h=this[Pe];u(h),oe(h).size&&(r(h),Le(h),h.R=new Map,ae(h.t,function(p){h.R.set(p,!1)}),h.o.clear())},g.forEach=function(h,p){var B=this;oe(this[Pe]).forEach(function(A,b){h.call(p,B.get(b),b,B)})},g.get=function(h){var p=this[Pe];u(p);var B=oe(p).get(h);if(p.I||!Z(B)||B!==p.t.get(h))return B;var A=wr(p.A.h,B,p);return r(p),p.o.set(h,A),A},g.keys=function(){return oe(this[Pe]).keys()},g.values=function(){var h,p=this,B=this.keys();return(h={})[$t]=function(){return p.values()},h.next=function(){var A=B.next();return A.done?A:{done:!1,value:p.get(A.value)}},h},g.entries=function(){var h,p=this,B=this.keys();return(h={})[$t]=function(){return p.entries()},h.next=function(){var A=B.next();if(A.done)return A;var b=p.get(A.value);return{done:!1,value:[A.value,b]}},h},g[$t]=function(){return this.entries()},d}(),c=function(){function d(h,p){return this[Pe]={i:3,l:p,A:p?p.A:He(),P:!1,I:!1,o:void 0,t:h,k:this,p:new Map,g:!1,C:!1},this}e(d,Set);var g=d.prototype;return Object.defineProperty(g,"size",{get:function(){return oe(this[Pe]).size}}),g.has=function(h){var p=this[Pe];return u(p),p.o?!!p.o.has(h)||!(!p.p.has(h)||!p.o.has(p.p.get(h))):p.t.has(h)},g.add=function(h){var p=this[Pe];return u(p),this.has(h)||(n(p),Le(p),p.o.add(h)),this},g.delete=function(h){if(!this.has(h))return!1;var p=this[Pe];return u(p),n(p),Le(p),p.o.delete(h)||!!p.p.has(h)&&p.o.delete(p.p.get(h))},g.clear=function(){var h=this[Pe];u(h),oe(h).size&&(n(h),Le(h),h.o.clear())},g.values=function(){var h=this[Pe];return u(h),n(h),h.o.values()},g.entries=function(){var h=this[Pe];return u(h),n(h),h.o.entries()},g.keys=function(){return this.values()},g[$t]=function(){return this.values()},g.forEach=function(h,p){for(var B=this.values(),A=B.next();!A.done;)h.call(p,A.value,A.value,this),A=B.next()},d}();Ze("MapSet",{F:function(d,g){return new l(d,g)},T:function(d,g){return new c(d,g)}})}function ct(){Kr(),Pt(),St()}function Ht(e){return e}function vt(e){return e}var yn,bt,rn=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",tn=typeof Map!="undefined",wn=typeof Set!="undefined",On=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",nn=rn?Symbol.for("immer-nothing"):((yn={})["immer-nothing"]=!0,yn),Mt=rn?Symbol.for("immer-draftable"):"__$immer_draftable",Pe=rn?Symbol.for("immer-state"):"__$immer_state",$t=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",bu={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Xn=""+Object.prototype.constructor,dt=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,un=Object.getOwnPropertyDescriptors||function(e){var r={};return dt(e).forEach(function(n){r[n]=Object.getOwnPropertyDescriptor(e,n)}),r},Rt={},Tt={get:function(e,r){if(r===Pe)return e;var n=oe(e);if(!me(n,r))return function(s,l,c){var d,g=Qe(l,c);return g?"value"in g?g.value:(d=g.get)===null||d===void 0?void 0:d.call(s.k):void 0}(e,n,r);var u=n[r];return e.I||!Z(u)?u:u===rr(e.t,r)?(Wr(e),e.o[r]=wr(e.A.h,u,e)):u},has:function(e,r){return r in oe(e)},ownKeys:function(e){return Reflect.ownKeys(oe(e))},set:function(e,r,n){var u=Qe(oe(e),r);if(u!=null&&u.set)return u.set.call(e.k,n),!0;if(!e.P){var s=rr(oe(e),r),l=s==null?void 0:s[Pe];if(l&&l.t===n)return e.o[r]=n,e.R[r]=!1,!0;if(q(n,s)&&(n!==void 0||me(e.t,r)))return!0;Wr(e),Le(e)}return e.o[r]===n&&(n!==void 0||r in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[r])||(e.o[r]=n,e.R[r]=!0),!0},deleteProperty:function(e,r){return rr(e.t,r)!==void 0||r in e.t?(e.R[r]=!1,Wr(e),Le(e)):delete e.R[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var n=oe(e),u=Reflect.getOwnPropertyDescriptor(n,r);return u&&{writable:!0,configurable:e.i!==1||r!=="length",enumerable:u.enumerable,value:n[r]}},defineProperty:function(){T(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){T(12)}},ht={};ae(Tt,function(e,r){ht[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),ht.deleteProperty=function(e,r){return ht.set.call(this,e,r,void 0)},ht.set=function(e,r,n){return Tt.set.call(this,e[0],r,n,e[0])};var xn=function(){function e(n){var u=this;this.O=On,this.D=!0,this.produce=function(s,l,c){if(typeof s=="function"&&typeof l!="function"){var d=l;l=s;var g=u;return function(N){var $=this;N===void 0&&(N=d);for(var ue=arguments.length,le=Array(ue>1?ue-1:0),xe=1;xe<ue;xe++)le[xe-1]=arguments[xe];return g.produce(N,function(Oe){var Ue;return(Ue=l).call.apply(Ue,[$,Oe].concat(le))})}}var h;if(typeof l!="function"&&T(6),c!==void 0&&typeof c!="function"&&T(7),Z(s)){var p=z(u),B=wr(u,s,void 0),A=!0;try{h=l(B),A=!1}finally{A?P(p):H(p)}return typeof Promise!="undefined"&&h instanceof Promise?h.then(function(N){return vr(p,c),U(N,p)},function(N){throw P(p),N}):(vr(p,c),U(h,p))}if(!s||typeof s!="object"){if((h=l(s))===void 0&&(h=s),h===nn&&(h=void 0),u.D&&ye(h,!0),c){var b=[],S=[];Me("Patches").M(s,h,b,S),c(b,S)}return h}T(21,s)},this.produceWithPatches=function(s,l){if(typeof s=="function")return function(h){for(var p=arguments.length,B=Array(p>1?p-1:0),A=1;A<p;A++)B[A-1]=arguments[A];return u.produceWithPatches(h,function(b){return s.apply(void 0,[b].concat(B))})};var c,d,g=u.produce(s,l,function(h,p){c=h,d=p});return typeof Promise!="undefined"&&g instanceof Promise?g.then(function(h){return[h,c,d]}):[g,c,d]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var r=e.prototype;return r.createDraft=function(n){Z(n)||T(8),X(n)&&(n=ft(n));var u=z(this),s=wr(this,n,void 0);return s[Pe].C=!0,H(u),s},r.finishDraft=function(n,u){var s=n&&n[Pe],l=s.A;return vr(l,u),U(void 0,l)},r.setAutoFreeze=function(n){this.D=n},r.setUseProxies=function(n){n&&!On&&T(20),this.O=n},r.applyPatches=function(n,u){var s;for(s=u.length-1;s>=0;s--){var l=u[s];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}s>-1&&(u=u.slice(s+1));var c=Me("Patches").$;return X(n)?c(n,u):this.produce(n,function(d){return c(d,u)})},e}(),Or=new xn,an=Or.produce,yu=Or.produceWithPatches.bind(Or),sn=Or.setAutoFreeze.bind(Or),Zn=Or.setUseProxies.bind(Or),on=Or.applyPatches.bind(Or),Sn=Or.createDraft.bind(Or),Ut=Or.finishDraft.bind(Or),wu=null;function xr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var qt=new WeakMap,Xr=new WeakMap,kt=new WeakMap,Pn=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,ln=new WeakMap;function Lt(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function nt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Lt(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var jt=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:r=>{for(var n of D.pathRefs(e))M.transform(n,r);for(var u of D.pointRefs(e))zn.transform(u,r);for(var s of D.rangeRefs(e))_n.transform(s,r);var l=qt.get(e)||[],c=Xr.get(e)||new Set,d,g,h=S=>{if(S){var N=S.join(",");g.has(N)||(g.add(N),d.push(S))}};if(m.operationCanTransformPath(r)){d=[],g=new Set;for(var p of l){var B=m.transform(p,r);h(B)}}else d=l,g=c;var A=e.getDirtyPaths(r);for(var b of A)h(b);qt.set(e,d),Xr.set(e,g),Y.transform(e,r),e.operations.push(r),D.normalize(e,{operation:r}),r.type==="set_selection"&&(e.marks=null),kt.get(e)||(kt.set(e,!0),Promise.resolve().then(()=>{kt.set(e,!1),e.onChange({operation:r}),e.operations=[]}))},addMark:(r,n)=>{var{selection:u,markableVoid:s}=e;if(u){var l=(A,b)=>{if(!Ce.isText(A))return!1;var[S,N]=D.parent(e,b);return!e.isVoid(S)||e.markableVoid(S)},c=K.isExpanded(u),d=!1;if(!c){var[g,h]=D.node(e,u);if(g&&l(g,h)){var[p]=D.parent(e,h);d=p&&e.markableVoid(p)}}if(c||d)Y.setNodes(e,{[r]:n},{match:l,split:!0,voids:!0});else{var B=nt(nt({},D.marks(e)||{}),{},{[r]:n});e.marks=B,kt.get(e)||e.onChange()}}},deleteBackward:r=>{var{selection:n}=e;n&&K.isCollapsed(n)&&Y.delete(e,{unit:r,reverse:!0})},deleteForward:r=>{var{selection:n}=e;n&&K.isCollapsed(n)&&Y.delete(e,{unit:r})},deleteFragment:r=>{var{selection:n}=e;n&&K.isExpanded(n)&&Y.delete(e,{reverse:r==="backward"})},getFragment:()=>{var{selection:r}=e;return r?ie.fragment(e,r):[]},insertBreak:()=>{Y.splitNodes(e,{always:!0})},insertSoftBreak:()=>{Y.splitNodes(e,{always:!0})},insertFragment:r=>{Y.insertFragment(e,r)},insertNode:r=>{Y.insertNodes(e,r)},insertText:r=>{var{selection:n,marks:u}=e;if(n){if(u){var s=nt({text:r},u);Y.insertNodes(e,s)}else Y.insertText(e,r);e.marks=null}},normalizeNode:r=>{var[n,u]=r;if(!Ce.isText(n)){if(be.isElement(n)&&n.children.length===0){var s={text:""};Y.insertNodes(e,s,{at:u.concat(0),voids:!0});return}for(var l=D.isEditor(n)?!1:be.isElement(n)&&(e.isInline(n)||n.children.length===0||Ce.isText(n.children[0])||e.isInline(n.children[0])),c=0,d=0;d<n.children.length;d++,c++){var g=ie.get(e,u);if(!Ce.isText(g)){var h=n.children[d],p=g.children[c-1],B=d===n.children.length-1,A=Ce.isText(h)||be.isElement(h)&&e.isInline(h);if(A!==l)Y.removeNodes(e,{at:u.concat(c),voids:!0}),c--;else if(be.isElement(h)){if(e.isInline(h)){if(p==null||!Ce.isText(p)){var b={text:""};Y.insertNodes(e,b,{at:u.concat(c),voids:!0}),c++}else if(B){var S={text:""};Y.insertNodes(e,S,{at:u.concat(c+1),voids:!0}),c++}}}else p!=null&&Ce.isText(p)&&(Ce.equals(h,p,{loose:!0})?(Y.mergeNodes(e,{at:u.concat(c),voids:!0}),c--):p.text===""?(Y.removeNodes(e,{at:u.concat(c-1),voids:!0}),c--):h.text===""&&(Y.removeNodes(e,{at:u.concat(c),voids:!0}),c--))}}}},removeMark:r=>{var{selection:n}=e;if(n){var u=(p,B)=>{if(!Ce.isText(p))return!1;var[A,b]=D.parent(e,B);return!e.isVoid(A)||e.markableVoid(A)},s=K.isExpanded(n),l=!1;if(!s){var[c,d]=D.node(e,n);if(c&&u(c,d)){var[g]=D.parent(e,d);l=g&&e.markableVoid(g)}}if(s||l)Y.unsetNodes(e,r,{match:u,split:!0,voids:!0});else{var h=nt({},D.marks(e)||{});delete h[r],e.marks=h,kt.get(e)||e.onChange()}}},getDirtyPaths:r=>{switch(r.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=r;return m.levels(n)}case"insert_node":{var{node:u,path:s}=r,l=m.levels(s),c=Ce.isText(u)?[]:Array.from(ie.nodes(u),er=>{var[,ar]=er;return s.concat(ar)});return[...l,...c]}case"merge_node":{var{path:d}=r,g=m.ancestors(d),h=m.previous(d);return[...g,h]}case"move_node":{var{path:p,newPath:B}=r;if(m.equals(p,B))return[];var A=[],b=[];for(var S of m.ancestors(p)){var N=m.transform(S,r);A.push(N)}for(var $ of m.ancestors(B)){var ue=m.transform($,r);b.push(ue)}var le=b[b.length-1],xe=B[B.length-1],Oe=le.concat(xe);return[...A,...b,Oe]}case"remove_node":{var{path:Ue}=r,Se=m.ancestors(Ue);return[...Se]}case"split_node":{var{path:Ke}=r,tr=m.levels(Ke),_e=m.next(Ke);return[...tr,_e]}default:return[]}},shouldNormalize:r=>{var{iteration:n,initialDirtyPathsLength:u}=r,s=u*42;if(n>s)throw new Error("Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0}};return e};function Dt(e,r){if(e==null)return{};var n={},u=Object.keys(e),s,l;for(l=0;l<u.length;l++)s=u[l],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zr(e,r){if(e==null)return{};var n=Dt(e,r),u,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)u=l[s],!(r.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(e,u)&&(n[u]=e[u])}return n}var yt=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=!n,s=n?Vr(r):r,l=Fe.None,c=Fe.None,d=0,g=null,h=null;for(var p of s){var B=p.codePointAt(0);if(!B)break;var A=dn(p,B);if([l,c]=u?[c,A]:[A,l],pt(l,Fe.ZWJ)&&pt(c,Fe.ExtPict)&&(u?g=hn(r.substring(0,d)):g=hn(r.substring(0,r.length-d)),!g)||pt(l,Fe.RI)&&pt(c,Fe.RI)&&(h!==null?h=!h:u?h=!0:h=Rn(r.substring(0,r.length-d)),!h)||l!==Fe.None&&c!==Fe.None&&ru(l,c))break;d+=p.length}return d||1},fn=/\s/,gt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ct=/['\u2018\u2019]/,It=function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0,s=!1;r.length>0;){var l=yt(r,n),[c,d]=Nt(r,l,n);if(cn(c,d,n))s=!0,u+=l;else if(!s)u+=l;else break;r=d}return u},Nt=(e,r,n)=>{if(n){var u=e.length-r;return[e.slice(u,e.length),e.slice(0,u)]}return[e.slice(0,r),e.slice(r)]},cn=function e(r,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(fn.test(r))return!1;if(Ct.test(r)){var s=yt(n,u),[l,c]=Nt(n,s,u);if(e(l,c,u))return!0}return!gt.test(r)},Vr=function*(r){for(var n=r.length-1,u=0;u<r.length;u++){var s=r.charAt(n-u);if(Fr(s.charCodeAt(0))){var l=r.charAt(n-u-1);if(Zr(l.charCodeAt(0))){yield l+s,u++;continue}}yield s}},Zr=e=>e>=55296&&e<=56319,Fr=e=>e>=56320&&e<=57343,Fe;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Fe||(Fe={}));var ut=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Gt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,wt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Mn=/^[\u1100-\u115F\uA960-\uA97C]$/,Qn=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,vn=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Jn=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Mr=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,at=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,dn=(e,r)=>{var n=Fe.Any;return e.search(ut)!==-1&&(n|=Fe.Extend),r===8205&&(n|=Fe.ZWJ),r>=127462&&r<=127487&&(n|=Fe.RI),e.search(Gt)!==-1&&(n|=Fe.Prepend),e.search(wt)!==-1&&(n|=Fe.SpacingMark),e.search(Mn)!==-1&&(n|=Fe.L),e.search(Qn)!==-1&&(n|=Fe.V),e.search(vn)!==-1&&(n|=Fe.T),e.search(Jn)!==-1&&(n|=Fe.LV),e.search(Mr)!==-1&&(n|=Fe.LVT),e.search(at)!==-1&&(n|=Fe.ExtPict),n};function pt(e,r){return(e&r)!==0}var eu=[[Fe.L,Fe.L|Fe.V|Fe.LV|Fe.LVT],[Fe.LV|Fe.V,Fe.V|Fe.T],[Fe.LVT|Fe.T,Fe.T],[Fe.Any,Fe.Extend|Fe.ZWJ],[Fe.Any,Fe.SpacingMark],[Fe.Prepend,Fe.Any],[Fe.ZWJ,Fe.ExtPict],[Fe.RI,Fe.RI]];function ru(e,r){return eu.findIndex(n=>pt(e,n[0])&&pt(r,n[1]))===-1}var tu=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,hn=e=>e.search(tu)!==-1,nu=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Rn=e=>{var r=e.match(nu);if(r===null)return!1;var n=r[0].length/2;return n%2===1},Tn=e=>(0,j.P)(e)&&ie.isNodeList(e.children)&&!D.isEditor(e),be={isAncestor(e){return(0,j.P)(e)&&ie.isNodeList(e.children)},isElement:Tn,isElementList(e){return Array.isArray(e)&&e.every(r=>be.isElement(r))},isElementProps(e){return e.children!==void 0},isElementType:function(r,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Tn(r)&&r[u]===n},matches(e,r){for(var n in r)if(n!=="children"&&e[n]!==r[n])return!1;return!0}},Dn=["text"],uu=["text"];function kn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function mt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var Ar=new WeakMap,D={above(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:s=e.selection,match:l}=r;if(s){var c=D.path(e,s),d=u==="lowest";for(var[g,h]of D.levels(e,{at:c,voids:n,match:l,reverse:d}))if(!Ce.isText(g)){if(K.isRange(s)){if(m.isAncestor(h,s.anchor.path)&&m.isAncestor(h,s.focus.path))return[g,h]}else if(!m.equals(c,h))return[g,h]}}},addMark(e,r,n){e.addMark(r,n)},after(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.point(e,r,{edge:"end"}),s=D.end(e,[]),l={anchor:u,focus:s},{distance:c=1}=n,d=0,g;for(var h of D.positions(e,mt(mt({},n),{},{at:l}))){if(d>c)break;d!==0&&(g=h),d++}return g},before(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.start(e,[]),s=D.point(e,r,{edge:"start"}),l={anchor:u,focus:s},{distance:c=1}=n,d=0,g;for(var h of D.positions(e,mt(mt({},n),{},{at:l,reverse:!0}))){if(d>c)break;d!==0&&(g=h),d++}return g},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=r;e.deleteBackward(n)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=r;e.deleteForward(n)},deleteFragment(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:n="forward"}=r;e.deleteFragment(n)},edges(e,r){return[D.start(e,r),D.end(e,r)]},end(e,r){return D.point(e,r,{edge:"end"})},first(e,r){var n=D.path(e,r,{edge:"start"});return D.node(e,n)},fragment(e,r){var n=D.range(e,r),u=ie.fragment(e,n);return u},hasBlocks(e,r){return r.children.some(n=>be.isElement(n)&&D.isBlock(e,n))},hasInlines(e,r){return r.children.some(n=>Ce.isText(n)||D.isInline(e,n))},hasTexts(e,r){return r.children.every(n=>Ce.isText(n))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,r){e.insertFragment(r)},insertNode(e,r){e.insertNode(r)},insertText(e,r){e.insertText(r)},isBlock(e,r){return!e.isInline(r)},isEditor(e){var r=Ar.get(e);if(r!==void 0)return r;if(!(0,j.P)(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||(0,j.P)(e.marks))&&(e.selection===null||K.isRange(e.selection))&&ie.isNodeList(e.children)&&Qr.isOperationList(e.operations);return Ar.set(e,n),n},isEnd(e,r,n){var u=D.end(e,n);return We.equals(r,u)},isEdge(e,r,n){return D.isStart(e,r,n)||D.isEnd(e,r,n)},isEmpty(e,r){var{children:n}=r,[u]=n;return n.length===0||n.length===1&&Ce.isText(u)&&u.text===""&&!e.isVoid(r)},isInline(e,r){return e.isInline(r)},isNormalizing(e){var r=Pn.get(e);return r===void 0?!0:r},isStart(e,r,n){if(r.offset!==0)return!1;var u=D.start(e,n);return We.equals(r,u)},isVoid(e,r){return e.isVoid(r)},last(e,r){var n=D.path(e,r,{edge:"end"});return D.node(e,n)},leaf(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(e,r,n),s=ie.leaf(e,u);return[s,u]},*levels(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:u=!1,voids:s=!1}=r,{match:l}=r;if(l==null&&(l=()=>!0),!!n){var c=[],d=D.path(e,n);for(var[g,h]of ie.levels(e,d))if(l(g,h)&&(c.push([g,h]),!s&&be.isElement(g)&&D.isVoid(e,g)))break;u&&c.reverse(),yield*Au(c)}},marks(e){var{marks:r,selection:n}=e;if(!n)return null;if(r)return r;if(K.isExpanded(n)){var[u]=D.nodes(e,{match:Ce.isText});if(u){var[s]=u,l=zr(s,Dn);return l}else return{}}var{anchor:c}=n,{path:d}=c,[g]=D.leaf(e,d);if(c.offset===0){var h=D.previous(e,{at:d,match:Ce.isText}),p=D.above(e,{match:$=>be.isElement($)&&D.isVoid(e,$)&&e.markableVoid($)});if(!p){var B=D.above(e,{match:$=>be.isElement($)&&D.isBlock(e,$)});if(h&&B){var[A,b]=h,[,S]=B;m.isAncestor(S,b)&&(g=A)}}}var N=zr(g,uu);return N},next(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=r,{match:s,at:l=e.selection}=r;if(l){var c=D.after(e,l,{voids:u});if(c){var[,d]=D.last(e,[]),g=[c.path,d];if(m.isPath(l)&&l.length===0)throw new Error("Cannot get the next node from the root node!");if(s==null)if(m.isPath(l)){var[h]=D.parent(e,l);s=B=>h.children.includes(B)}else s=()=>!0;var[p]=D.nodes(e,{at:g,match:s,mode:n,voids:u});return p}}},node(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(e,r,n),s=ie.get(e,u);return[s,u]},*nodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:u="all",universal:s=!1,reverse:l=!1,voids:c=!1}=r,{match:d}=r;if(d||(d=()=>!0),!!n){var g,h;if(au.isSpan(n))g=n[0],h=n[1];else{var p=D.path(e,n,{edge:"start"}),B=D.path(e,n,{edge:"end"});g=l?B:p,h=l?p:B}var A=ie.nodes(e,{reverse:l,from:g,to:h,pass:xe=>{var[Oe]=xe;return c?!1:be.isElement(Oe)&&D.isVoid(e,Oe)}}),b=[],S;for(var[N,$]of A){var ue=S&&m.compare($,S[1])===0;if(!(u==="highest"&&ue)){if(!d(N,$)){if(s&&!ue&&Ce.isText(N))return;continue}if(u==="lowest"&&ue){S=[N,$];continue}var le=u==="lowest"?S:[N,$];le&&(s?b.push(le):yield le),S=[N,$]}}u==="lowest"&&S&&(s?b.push(S):yield S),s&&(yield*Au(b))}},normalize(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:u}=r,s=h=>qt.get(h)||[],l=h=>Xr.get(h)||new Set,c=h=>{var p=s(h).pop(),B=p.join(",");return l(h).delete(B),p};if(D.isNormalizing(e)){if(n){var d=Array.from(ie.nodes(e),h=>{var[,p]=h;return p}),g=new Set(d.map(h=>h.join(",")));qt.set(e,d),Xr.set(e,g)}s(e).length!==0&&D.withoutNormalizing(e,()=>{for(var h of s(e))if(ie.has(e,h)){var p=D.node(e,h),[B,A]=p;be.isElement(B)&&B.children.length===0&&e.normalizeNode(p,{operation:u})}for(var b=s(e),S=b.length,N=0;b.length!==0;){if(!e.shouldNormalize({dirtyPaths:b,iteration:N,initialDirtyPathsLength:S,operation:u}))return;var $=c(e);if(ie.has(e,$)){var ue=D.node(e,$);e.normalizeNode(ue,{operation:u})}N++,b=s(e)}})}},parent(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=D.path(e,r,n),s=m.parent(u),l=D.node(e,s);return l},path(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:s}=n;if(m.isPath(r)){if(s==="start"){var[,l]=ie.first(e,r);r=l}else if(s==="end"){var[,c]=ie.last(e,r);r=c}}return K.isRange(r)&&(s==="start"?r=K.start(r):s==="end"?r=K.end(r):r=m.common(r.anchor.path,r.focus.path)),We.isPoint(r)&&(r=r.path),u!=null&&(r=r.slice(0,u)),r},hasPath(e,r){return ie.has(e,r)},pathRef(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,s={current:r,affinity:u,unref(){var{current:c}=s,d=D.pathRefs(e);return d.delete(s),s.current=null,c}},l=D.pathRefs(e);return l.add(s),s},pathRefs(e){var r=Kt.get(e);return r||(r=new Set,Kt.set(e,r)),r},point(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(m.isPath(r)){var s;if(u==="end"){var[,l]=ie.last(e,r);s=l}else{var[,c]=ie.first(e,r);s=c}var d=ie.get(e,s);if(!Ce.isText(d))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(r,"] because it has no ").concat(u," text node."));return{path:s,offset:u==="end"?d.text.length:0}}if(K.isRange(r)){var[g,h]=K.edges(r);return u==="start"?g:h}return r},pointRef(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,s={current:r,affinity:u,unref(){var{current:c}=s,d=D.pointRefs(e);return d.delete(s),s.current=null,c}},l=D.pointRefs(e);return l.add(s),s},pointRefs(e){var r=Yt.get(e);return r||(r=new Set,Yt.set(e,r)),r},*positions(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:u="offset",reverse:s=!1,voids:l=!1}=r;if(!n)return;var c=D.range(e,n),[d,g]=K.edges(c),h=s?g:d,p=!1,B="",A=0,b=0,S=0;for(var[N,$]of D.nodes(e,{at:n,reverse:s,voids:l})){if(be.isElement(N)){if(!l&&e.isVoid(N)){yield D.start(e,$);continue}if(e.isInline(N))continue;if(D.hasInlines(e,N)){var ue=m.isAncestor($,g.path)?g:D.end(e,$),le=m.isAncestor($,d.path)?d:D.start(e,$);B=D.string(e,{anchor:le,focus:ue},{voids:l}),p=!0}}if(Ce.isText(N)){var xe=m.equals($,h.path);for(xe?(b=s?h.offset:N.text.length-h.offset,S=h.offset):(b=N.text.length,S=s?b:0),(xe||p||u==="offset")&&(yield{path:$,offset:S},p=!1);;){if(A===0){if(B==="")break;A=Oe(B,u,s),B=Nt(B,A,s)[1]}if(S=s?S-A:S+A,b=b-A,b<0){A=-b;break}A=0,yield{path:$,offset:S}}}}function Oe(Ue,Se,Ke){return Se==="character"?yt(Ue,Ke):Se==="word"?It(Ue,Ke):Se==="line"||Se==="block"?Ue.length:1}},previous(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=r,{match:s,at:l=e.selection}=r;if(l){var c=D.before(e,l,{voids:u});if(c){var[,d]=D.first(e,[]),g=[c.path,d];if(m.isPath(l)&&l.length===0)throw new Error("Cannot get the previous node from the root node!");if(s==null)if(m.isPath(l)){var[h]=D.parent(e,l);s=B=>h.children.includes(B)}else s=()=>!0;var[p]=D.nodes(e,{reverse:!0,at:g,match:s,mode:n,voids:u});return p}}},range(e,r,n){if(K.isRange(r)&&!n)return r;var u=D.start(e,r),s=D.end(e,n||r);return{anchor:u,focus:s}},rangeRef(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,s={current:r,affinity:u,unref(){var{current:c}=s,d=D.rangeRefs(e);return d.delete(s),s.current=null,c}},l=D.rangeRefs(e);return l.add(s),s},rangeRefs(e){var r=ln.get(e);return r||(r=new Set,ln.set(e,r)),r},removeMark(e,r){e.removeMark(r)},setNormalizing(e,r){Pn.set(e,r)},start(e,r){return D.point(e,r,{edge:"start"})},string(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,s=D.range(e,r),[l,c]=K.edges(s),d="";for(var[g,h]of D.nodes(e,{at:s,match:Ce.isText,voids:u})){var p=g.text;m.equals(h,c.path)&&(p=p.slice(0,c.offset)),m.equals(h,l.path)&&(p=p.slice(l.offset)),d+=p}return d},unhangRange(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[s,l]=K.edges(r);if(s.offset!==0||l.offset!==0||K.isCollapsed(r)||m.hasPrevious(l.path))return r;var c=D.above(e,{at:l,match:b=>be.isElement(b)&&D.isBlock(e,b),voids:u}),d=c?c[1]:[],g=D.start(e,s),h={anchor:g,focus:l},p=!0;for(var[B,A]of D.nodes(e,{at:h,match:Ce.isText,reverse:!0,voids:u})){if(p){p=!1;continue}if(B.text!==""||m.isBefore(A,d)){l={path:A,offset:B.text.length};break}}return{anchor:s,focus:l}},void(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D.above(e,mt(mt({},r),{},{match:n=>be.isElement(n)&&D.isVoid(e,n)}))},withoutNormalizing(e,r){var n=D.isNormalizing(e);D.setNormalizing(e,!1);try{r()}finally{D.setNormalizing(e,n)}D.normalize(e)}},gn={isLocation(e){return m.isPath(e)||We.isPoint(e)||K.isRange(e)}},au={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(m.isPath)}},Ln=["children"],iu=["text"],jn=new WeakMap,ie={ancestor(e,r){var n=ie.get(e,r);if(Ce.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(Dr.stringify(n)));return n},*ancestors(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of m.ancestors(r,n)){var s=ie.ancestor(e,u),l=[s,u];yield l}},child(e,r){if(Ce.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Dr.stringify(e)));var n=e.children[r];if(n==null)throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(Dr.stringify(e)));return n},*children(e,r){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:u=!1}=n,s=ie.ancestor(e,r),{children:l}=s,c=u?l.length-1:0;u?c>=0:c<l.length;){var d=ie.child(s,c),g=r.concat(c);yield[d,g],c=u?c-1:c+1}},common(e,r,n){var u=m.common(r,n),s=ie.get(e,u);return[s,u]},descendant(e,r){var n=ie.get(e,r);if(D.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(Dr.stringify(n)));return n},*descendants(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of ie.nodes(e,r))u.length!==0&&(yield[n,u])},*elements(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of ie.nodes(e,r))be.isElement(n)&&(yield[n,u])},extractProps(e){if(be.isAncestor(e)){var r=zr(e,Ln);return r}else{var r=zr(e,iu);return r}},first(e,r){for(var n=r.slice(),u=ie.get(e,n);u&&!(Ce.isText(u)||u.children.length===0);)u=u.children[0],n.push(0);return[u,n]},fragment(e,r){if(Ce.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Dr.stringify(e)));var n=an({children:e.children},u=>{var[s,l]=K.edges(r),c=ie.nodes(u,{reverse:!0,pass:A=>{var[,b]=A;return!K.includes(r,b)}});for(var[,d]of c){if(!K.includes(r,d)){var g=ie.parent(u,d),h=d[d.length-1];g.children.splice(h,1)}if(m.equals(d,l.path)){var p=ie.leaf(u,d);p.text=p.text.slice(0,l.offset)}if(m.equals(d,s.path)){var B=ie.leaf(u,d);B.text=B.text.slice(s.offset)}}D.isEditor(u)&&(u.selection=null)});return n.children},get(e,r){for(var n=e,u=0;u<r.length;u++){var s=r[u];if(Ce.isText(n)||!n.children[s])throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(Dr.stringify(e)));n=n.children[s]}return n},has(e,r){for(var n=e,u=0;u<r.length;u++){var s=r[u];if(Ce.isText(n)||!n.children[s])return!1;n=n.children[s]}return!0},isNode(e){return Ce.isText(e)||be.isElement(e)||D.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var r=jn.get(e);if(r!==void 0)return r;var n=e.every(u=>ie.isNode(u));return jn.set(e,n),n},last(e,r){for(var n=r.slice(),u=ie.get(e,n);u&&!(Ce.isText(u)||u.children.length===0);){var s=u.children.length-1;u=u.children[s],n.push(s)}return[u,n]},leaf(e,r){var n=ie.get(e,r);if(!Ce.isText(n))throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(Dr.stringify(n)));return n},*levels(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var u of m.levels(r,n)){var s=ie.get(e,u);yield[s,u]}},matches(e,r){return be.isElement(e)&&be.isElementProps(r)&&be.matches(e,r)||Ce.isText(e)&&Ce.isTextProps(r)&&Ce.matches(e,r)},*nodes(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:u=!1}=r,{from:s=[],to:l}=r,c=new Set,d=[],g=e;!(l&&(u?m.isBefore(d,l):m.isAfter(d,l)));){if(c.has(g)||(yield[g,d]),!c.has(g)&&!Ce.isText(g)&&g.children.length!==0&&(n==null||n([g,d])===!1)){c.add(g);var h=u?g.children.length-1:0;m.isAncestor(d,s)&&(h=s[d.length]),d=d.concat(h),g=ie.get(e,d);continue}if(d.length===0)break;if(!u){var p=m.next(d);if(ie.has(e,p)){d=p,g=ie.get(e,d);continue}}if(u&&d[d.length-1]!==0){var B=m.previous(d);d=B,g=ie.get(e,d);continue}d=m.parent(d),g=ie.get(e,d),c.add(g)}},parent(e,r){var n=m.parent(r),u=ie.get(e,n);if(Ce.isText(u))throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."));return u},string(e){return Ce.isText(e)?e.text:e.children.map(ie.string).join("")},*texts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,u]of ie.nodes(e,r))Ce.isText(n)&&(yield[n,u])}};function In(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Je(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?In(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var Qr={isNodeOperation(e){return Qr.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!(0,j.P)(e))return!1;switch(e.type){case"insert_node":return m.isPath(e.path)&&ie.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&m.isPath(e.path);case"merge_node":return typeof e.position=="number"&&m.isPath(e.path)&&(0,j.P)(e.properties);case"move_node":return m.isPath(e.path)&&m.isPath(e.newPath);case"remove_node":return m.isPath(e.path)&&ie.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&m.isPath(e.path);case"set_node":return m.isPath(e.path)&&(0,j.P)(e.properties)&&(0,j.P)(e.newProperties);case"set_selection":return e.properties===null&&K.isRange(e.newProperties)||e.newProperties===null&&K.isRange(e.properties)||(0,j.P)(e.properties)&&(0,j.P)(e.newProperties);case"split_node":return m.isPath(e.path)&&typeof e.position=="number"&&(0,j.P)(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(r=>Qr.isOperation(r))},isSelectionOperation(e){return Qr.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Qr.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return Je(Je({},e),{},{type:"remove_node"});case"insert_text":return Je(Je({},e),{},{type:"remove_text"});case"merge_node":return Je(Je({},e),{},{type:"split_node",path:m.previous(e.path)});case"move_node":{var{newPath:r,path:n}=e;if(m.equals(r,n))return e;if(m.isSibling(n,r))return Je(Je({},e),{},{path:r,newPath:n});var u=m.transform(n,e),s=m.transform(m.next(n),e);return Je(Je({},e),{},{path:u,newPath:s})}case"remove_node":return Je(Je({},e),{},{type:"insert_node"});case"remove_text":return Je(Je({},e),{},{type:"insert_text"});case"set_node":{var{properties:l,newProperties:c}=e;return Je(Je({},e),{},{properties:c,newProperties:l})}case"set_selection":{var{properties:d,newProperties:g}=e;return d==null?Je(Je({},e),{},{properties:g,newProperties:null}):g==null?Je(Je({},e),{},{properties:null,newProperties:d}):Je(Je({},e),{},{properties:g,newProperties:d})}case"split_node":return Je(Je({},e),{},{type:"merge_node",path:m.next(e.path)})}}},m={ancestors(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=r,u=m.levels(e,r);return n?u=u.slice(1):u=u.slice(0,-1),u},common(e,r){for(var n=[],u=0;u<e.length&&u<r.length;u++){var s=e[u],l=r[u];if(s!==l)break;n.push(s)}return n},compare(e,r){for(var n=Math.min(e.length,r.length),u=0;u<n;u++){if(e[u]<r[u])return-1;if(e[u]>r[u])return 1}return 0},endsAfter(e,r){var n=e.length-1,u=e.slice(0,n),s=r.slice(0,n),l=e[n],c=r[n];return m.equals(u,s)&&l>c},endsAt(e,r){var n=e.length,u=e.slice(0,n),s=r.slice(0,n);return m.equals(u,s)},endsBefore(e,r){var n=e.length-1,u=e.slice(0,n),s=r.slice(0,n),l=e[n],c=r[n];return m.equals(u,s)&&l<c},equals(e,r){return e.length===r.length&&e.every((n,u)=>n===r[u])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return m.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&m.compare(e,r)===0},isBefore(e,r){return m.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&m.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&m.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&m.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&m.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,r){if(e.length!==r.length)return!1;var n=e.slice(0,-1),u=r.slice(0,-1),s=e[e.length-1],l=r[r.length-1];return s!==l&&m.equals(n,u)},levels(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=r,u=[],s=0;s<=e.length;s++)u.push(e.slice(0,s));return n&&u.reverse(),u},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var r=e[e.length-1];if(r<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(r-1)},relative(e,r){if(!m.isAncestor(r,e)&&!m.equals(e,r))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."));return e.slice(r.length)},transform(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var u=[...e],{affinity:s="forward"}=n;if(e.length===0)return u;switch(r.type){case"insert_node":{var{path:l}=r;(m.equals(l,u)||m.endsBefore(l,u)||m.isAncestor(l,u))&&(u[l.length-1]+=1);break}case"remove_node":{var{path:c}=r;if(m.equals(c,u)||m.isAncestor(c,u))return null;m.endsBefore(c,u)&&(u[c.length-1]-=1);break}case"merge_node":{var{path:d,position:g}=r;m.equals(d,u)||m.endsBefore(d,u)?u[d.length-1]-=1:m.isAncestor(d,u)&&(u[d.length-1]-=1,u[d.length]+=g);break}case"split_node":{var{path:h,position:p}=r;if(m.equals(h,u)){if(s==="forward")u[u.length-1]+=1;else if(s!=="backward")return null}else m.endsBefore(h,u)?u[h.length-1]+=1:m.isAncestor(h,u)&&e[h.length]>=p&&(u[h.length-1]+=1,u[h.length]-=p);break}case"move_node":{var{path:B,newPath:A}=r;if(m.equals(B,A))return u;if(m.isAncestor(B,u)||m.equals(B,u)){var b=A.slice();return m.endsBefore(B,A)&&B.length<A.length&&(b[B.length-1]-=1),b.concat(u.slice(B.length))}else m.isSibling(B,A)&&(m.isAncestor(A,u)||m.equals(A,u))?m.endsBefore(B,u)?u[B.length-1]-=1:u[B.length-1]+=1:m.endsBefore(A,u)||m.equals(A,u)||m.isAncestor(A,u)?(m.endsBefore(B,u)&&(u[B.length-1]-=1),u[A.length-1]+=1):m.endsBefore(B,u)&&(m.equals(A,u)&&(u[A.length-1]+=1),u[B.length-1]-=1);break}}return u}},M={transform(e,r){var{current:n,affinity:u}=e;if(n!=null){var s=m.transform(n,r,{affinity:u});e.current=s,s==null&&e.unref()}}};function Nn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Wn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Nn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var We={compare(e,r){var n=m.compare(e.path,r.path);return n===0?e.offset<r.offset?-1:e.offset>r.offset?1:0:n},isAfter(e,r){return We.compare(e,r)===1},isBefore(e,r){return We.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&m.equals(e.path,r.path)},isPoint(e){return(0,j.P)(e)&&typeof e.offset=="number"&&m.isPath(e.path)},transform(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return an(e,u=>{if(u===null)return null;var{affinity:s="forward"}=n,{path:l,offset:c}=u;switch(r.type){case"insert_node":case"move_node":{u.path=m.transform(l,r,n);break}case"insert_text":{m.equals(r.path,l)&&(r.offset<c||r.offset===c&&s==="forward")&&(u.offset+=r.text.length);break}case"merge_node":{m.equals(r.path,l)&&(u.offset+=r.position),u.path=m.transform(l,r,n);break}case"remove_text":{m.equals(r.path,l)&&r.offset<=c&&(u.offset-=Math.min(c-r.offset,r.text.length));break}case"remove_node":{if(m.equals(r.path,l)||m.isAncestor(r.path,l))return null;u.path=m.transform(l,r,n);break}case"split_node":{if(m.equals(r.path,l)){if(r.position===c&&s==null)return null;(r.position<c||r.position===c&&s==="forward")&&(u.offset-=r.position,u.path=m.transform(l,r,Wn(Wn({},n),{},{affinity:"forward"})))}else u.path=m.transform(l,r,n);break}}})}},zn={transform(e,r){var{current:n,affinity:u}=e;if(n!=null){var s=We.transform(n,r,{affinity:u});e.current=s,s==null&&e.unref()}}},su=["anchor","focus"];function Vn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Bt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Vn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var K={edges(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=r,{anchor:u,focus:s}=e;return K.isBackward(e)===n?[u,s]:[s,u]},end(e){var[,r]=K.edges(e);return r},equals(e,r){return We.equals(e.anchor,r.anchor)&&We.equals(e.focus,r.focus)},includes(e,r){if(K.isRange(r)){if(K.includes(e,r.anchor)||K.includes(e,r.focus))return!0;var[n,u]=K.edges(e),[s,l]=K.edges(r);return We.isBefore(n,s)&&We.isAfter(u,l)}var[c,d]=K.edges(e),g=!1,h=!1;return We.isPoint(r)?(g=We.compare(r,c)>=0,h=We.compare(r,d)<=0):(g=m.compare(r,c.path)>=0,h=m.compare(r,d.path)<=0),g&&h},intersection(e,r){var n=zr(e,su),[u,s]=K.edges(e),[l,c]=K.edges(r),d=We.isBefore(u,l)?l:u,g=We.isBefore(s,c)?s:c;return We.isBefore(g,d)?null:Bt({anchor:d,focus:g},n)},isBackward(e){var{anchor:r,focus:n}=e;return We.isAfter(r,n)},isCollapsed(e){var{anchor:r,focus:n}=e;return We.equals(r,n)},isExpanded(e){return!K.isCollapsed(e)},isForward(e){return!K.isBackward(e)},isRange(e){return(0,j.P)(e)&&We.isPoint(e.anchor)&&We.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[r]=K.edges(e);return r},transform(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return an(e,u=>{if(u===null)return null;var{affinity:s="inward"}=n,l,c;if(s==="inward"){var d=K.isCollapsed(u);K.isForward(u)?(l="forward",c=d?l:"backward"):(l="backward",c=d?l:"forward")}else s==="outward"?K.isForward(u)?(l="backward",c="forward"):(l="forward",c="backward"):(l=s,c=s);var g=We.transform(u.anchor,r,{affinity:l}),h=We.transform(u.focus,r,{affinity:c});if(!g||!h)return null;u.anchor=g,u.focus=h})}},_n={transform(e,r){var{current:n,affinity:u}=e;if(n!=null){var s=K.transform(n,r,{affinity:u});e.current=s,s==null&&e.unref()}}},Hn=void 0,Dr={setScrubber(e){Hn=e},stringify(e){return JSON.stringify(e,Hn)}},Wt=(e,r)=>{for(var n in e){var u=e[n],s=r[n];if((0,j.P)(u)&&(0,j.P)(s)){if(!Wt(u,s))return!1}else if(Array.isArray(u)&&Array.isArray(s)){if(u.length!==s.length)return!1;for(var l=0;l<u.length;l++)if(u[l]!==s[l])return!1}else if(u!==s)return!1}for(var c in r)if(e[c]===void 0&&r[c]!==void 0)return!1;return!0},it=["text"],ou=["anchor","focus"];function $n(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Jr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?$n(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var Ce={equals(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:u=!1}=n;function s(l){var c=zr(l,it);return c}return Wt(u?s(e):e,u?s(r):r)},isText(e){return(0,j.P)(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(r=>Ce.isText(r))},isTextProps(e){return e.text!==void 0},matches(e,r){for(var n in r)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==r[n]))return!1;return!0},decorations(e,r){var n=[Jr({},e)];for(var u of r){var s=zr(u,ou),[l,c]=K.edges(u),d=[],g=0,h=l.offset,p=c.offset;for(var B of n){var{length:A}=B.text,b=g;if(g+=A,h<=b&&g<=p){Object.assign(B,s),d.push(B);continue}if(h!==p&&(h===g||p===b)||h>g||p<b||p===b&&b!==0){d.push(B);continue}var S=B,N=void 0,$=void 0;if(p<g){var ue=p-b;$=Jr(Jr({},S),{},{text:S.text.slice(ue)}),S=Jr(Jr({},S),{},{text:S.text.slice(0,ue)})}if(h>b){var le=h-b;N=Jr(Jr({},S),{},{text:S.text.slice(0,le)}),S=Jr(Jr({},S),{},{text:S.text.slice(le)})}Object.assign(S,s),N&&d.push(N),d.push(S),$&&d.push($)}n=d}return n}};function Cn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function zt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Cn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var lu=(e,r,n)=>{switch(n.type){case"insert_node":{var{path:u,node:s}=n,l=ie.parent(e,u),c=u[u.length-1];if(c>l.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(u,"] because the destination is past the end of the node."));if(l.children.splice(c,0,s),r)for(var[d,g]of K.points(r))r[g]=We.transform(d,n);break}case"insert_text":{var{path:h,offset:p,text:B}=n;if(B.length===0)break;var A=ie.leaf(e,h),b=A.text.slice(0,p),S=A.text.slice(p);if(A.text=b+B+S,r)for(var[N,$]of K.points(r))r[$]=We.transform(N,n);break}case"merge_node":{var{path:ue}=n,le=ie.get(e,ue),xe=m.previous(ue),Oe=ie.get(e,xe),Ue=ie.parent(e,ue),Se=ue[ue.length-1];if(Ce.isText(le)&&Ce.isText(Oe))Oe.text+=le.text;else if(!Ce.isText(le)&&!Ce.isText(Oe))Oe.children.push(...le.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(ue,"] to nodes of different interfaces: ").concat(Dr.stringify(le)," ").concat(Dr.stringify(Oe)));if(Ue.children.splice(Se,1),r)for(var[Ke,tr]of K.points(r))r[tr]=We.transform(Ke,n);break}case"move_node":{var{path:_e,newPath:er}=n;if(m.isAncestor(_e,er))throw new Error("Cannot move a path [".concat(_e,"] to new path [").concat(er,"] because the destination is inside itself."));var ar=ie.get(e,_e),Rr=ie.parent(e,_e),Cr=_e[_e.length-1];Rr.children.splice(Cr,1);var et=m.transform(_e,n),br=ie.get(e,m.parent(et)),_r=et[et.length-1];if(br.children.splice(_r,0,ar),r)for(var[pr,mr]of K.points(r))r[mr]=We.transform(pr,n);break}case"remove_node":{var{path:ir}=n,ot=ir[ir.length-1],Yr=ie.parent(e,ir);if(Yr.children.splice(ot,1),r)for(var[Hr,qe]of K.points(r)){var $r=We.transform(Hr,n);if(r!=null&&$r!=null)r[qe]=$r;else{var Ge=void 0,Sr=void 0;for(var[Ot,Et]of ie.texts(e))if(m.compare(Et,ir)===-1)Ge=[Ot,Et];else{Sr=[Ot,Et];break}var Vt=!1;Ge&&Sr&&(m.equals(Sr[1],ir)?Vt=!m.hasPrevious(Sr[1]):Vt=m.common(Ge[1],ir).length<m.common(Sr[1],ir).length),Ge&&!Vt?(Hr.path=Ge[1],Hr.offset=Ge[0].text.length):Sr?(Hr.path=Sr[1],Hr.offset=0):r=null}}break}case"remove_text":{var{path:Zt,offset:dr,text:Qt}=n;if(Qt.length===0)break;var Bn=ie.leaf(e,Zt),Cu=Bn.text.slice(0,dr),pu=Bn.text.slice(dr+Qt.length);if(Bn.text=Cu+pu,r)for(var[mu,Ou]of K.points(r))r[Ou]=We.transform(mu,n);break}case"set_node":{var{path:Bu,properties:Eu,newProperties:Jt}=n;if(Bu.length===0)throw new Error("Cannot set properties on the root node!");var en=ie.get(e,Bu);for(var xt in Jt){if(xt==="children"||xt==="text")throw new Error('Cannot set the "'.concat(xt,'" property of nodes!'));var En=Jt[xt];En==null?delete en[xt]:en[xt]=En}for(var Fn in Eu)Jt.hasOwnProperty(Fn)||delete en[Fn];break}case"set_selection":{var{newProperties:Ft}=n;if(Ft==null)r=Ft;else{if(r==null){if(!K.isRange(Ft))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Dr.stringify(Ft)," when there is no current selection."));r=zt({},Ft)}for(var rt in Ft){var a=Ft[rt];if(a==null){if(rt==="anchor"||rt==="focus")throw new Error('Cannot remove the "'.concat(rt,'" selection property'));delete r[rt]}else r[rt]=a}}break}case"split_node":{var{path:t,position:i,properties:o}=n;if(t.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(t,"] because the root node cannot be split."));var C=ie.get(e,t),F=ie.parent(e,t),w=t[t.length-1],I;if(Ce.isText(C)){var R=C.text.slice(0,i),x=C.text.slice(i);C.text=R,I=zt(zt({},o),{},{text:x})}else{var V=C.children.slice(0,i),fe=C.children.slice(i);C.children=V,I=zt(zt({},o),{},{children:fe})}if(F.children.splice(w+1,0,I),r)for(var[ee,se]of K.points(r))r[se]=We.transform(ee,n);break}}return r},fu={transform(e,r){e.children=Sn(e.children);var n=e.selection&&Sn(e.selection);try{n=lu(e,n,r)}finally{e.children=Ut(e.children),n?e.selection=X(n)?Ut(n):n:e.selection=null}}},Un=["text"],cu=["children"];function pn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function vu(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var qn={insertNodes(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:s=!1,mode:l="lowest"}=n,{at:c,match:d,select:g}=n;if(ie.isNode(r)&&(r=[r]),r.length!==0){var[h]=r;if(c||(e.selection?c=e.selection:e.children.length>0?c=D.end(e,[]):c=[0],g=!0),g==null&&(g=!1),K.isRange(c))if(u||(c=D.unhangRange(e,c,{voids:s})),K.isCollapsed(c))c=c.anchor;else{var[,p]=K.edges(c),B=D.pointRef(e,p);Y.delete(e,{at:c}),c=B.unref()}if(We.isPoint(c)){d==null&&(Ce.isText(h)?d=Se=>Ce.isText(Se):e.isInline(h)?d=Se=>Ce.isText(Se)||D.isInline(e,Se):d=Se=>be.isElement(Se)&&D.isBlock(e,Se));var[A]=D.nodes(e,{at:c.path,match:d,mode:l,voids:s});if(A){var[,b]=A,S=D.pathRef(e,b),N=D.isEnd(e,c,b);Y.splitNodes(e,{at:c,match:d,mode:l,voids:s});var $=S.unref();c=N?m.next($):$}else return}var ue=m.parent(c),le=c[c.length-1];if(!(!s&&D.void(e,{at:ue}))){for(var xe of r){var Oe=ue.concat(le);le++,e.apply({type:"insert_node",path:Oe,node:xe}),c=m.next(c)}if(c=m.previous(c),g){var Ue=D.end(e,c);Ue&&Y.select(e,Ue)}}}})},liftNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:u="lowest",voids:s=!1}=r,{match:l}=r;if(l==null&&(l=m.isPath(n)?st(e,n):xe=>be.isElement(xe)&&D.isBlock(e,xe)),!!n){var c=D.nodes(e,{at:n,match:l,mode:u,voids:s}),d=Array.from(c,xe=>{var[,Oe]=xe;return D.pathRef(e,Oe)});for(var g of d){var h=g.unref();if(h.length<2)throw new Error("Cannot lift node at a path [".concat(h,"] because it has a depth of less than `2`."));var p=D.node(e,m.parent(h)),[B,A]=p,b=h[h.length-1],{length:S}=B.children;if(S===1){var N=m.next(A);Y.moveNodes(e,{at:h,to:N,voids:s}),Y.removeNodes(e,{at:A,voids:s})}else if(b===0)Y.moveNodes(e,{at:h,to:A,voids:s});else if(b===S-1){var $=m.next(A);Y.moveNodes(e,{at:h,to:$,voids:s})}else{var ue=m.next(h),le=m.next(A);Y.splitNodes(e,{at:ue,voids:s}),Y.moveNodes(e,{at:h,to:le,voids:s})}}}})},mergeNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{match:n,at:u=e.selection}=r,{hanging:s=!1,voids:l=!1,mode:c="lowest"}=r;if(u){if(n==null)if(m.isPath(u)){var[d]=D.parent(e,u);n=_e=>d.children.includes(_e)}else n=_e=>be.isElement(_e)&&D.isBlock(e,_e);if(!s&&K.isRange(u)&&(u=D.unhangRange(e,u,{voids:l})),K.isRange(u))if(K.isCollapsed(u))u=u.anchor;else{var[,g]=K.edges(u),h=D.pointRef(e,g);Y.delete(e,{at:u}),u=h.unref(),r.at==null&&Y.select(e,u)}var[p]=D.nodes(e,{at:u,match:n,voids:l,mode:c}),B=D.previous(e,{at:u,match:n,voids:l,mode:c});if(!(!p||!B)){var[A,b]=p,[S,N]=B;if(!(b.length===0||N.length===0)){var $=m.next(N),ue=m.common(b,N),le=m.isSibling(b,N),xe=Array.from(D.levels(e,{at:b}),_e=>{var[er]=_e;return er}).slice(ue.length).slice(0,-1),Oe=D.above(e,{at:b,mode:"highest",match:_e=>xe.includes(_e)&&mn(e,_e)}),Ue=Oe&&D.pathRef(e,Oe[1]),Se,Ke;if(Ce.isText(A)&&Ce.isText(S)){var tr=zr(A,Un);Ke=S.text.length,Se=tr}else if(be.isElement(A)&&be.isElement(S)){var tr=zr(A,cu);Ke=S.children.length,Se=tr}else throw new Error("Cannot merge the node at path [".concat(b,"] with the previous sibling because it is not the same kind: ").concat(Dr.stringify(A)," ").concat(Dr.stringify(S)));le||Y.moveNodes(e,{at:b,to:$,voids:l}),Ue&&Y.removeNodes(e,{at:Ue.current,voids:l}),be.isElement(S)&&D.isEmpty(e,S)||Ce.isText(S)&&S.text===""&&N[N.length-1]!==0?Y.removeNodes(e,{at:N,voids:l}):e.apply({type:"merge_node",path:$,position:Ke,properties:Se}),Ue&&Ue.unref()}}}})},moveNodes(e,r){D.withoutNormalizing(e,()=>{var{to:n,at:u=e.selection,mode:s="lowest",voids:l=!1}=r,{match:c}=r;if(u){c==null&&(c=m.isPath(u)?st(e,u):b=>be.isElement(b)&&D.isBlock(e,b));var d=D.pathRef(e,n),g=D.nodes(e,{at:u,match:c,mode:s,voids:l}),h=Array.from(g,b=>{var[,S]=b;return D.pathRef(e,S)});for(var p of h){var B=p.unref(),A=d.current;B.length!==0&&e.apply({type:"move_node",path:B,newPath:A}),d.current&&m.isSibling(A,B)&&m.isAfter(A,B)&&(d.current=m.next(d.current))}d.unref()}})},removeNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:u=!1,mode:s="lowest"}=r,{at:l=e.selection,match:c}=r;if(l){c==null&&(c=m.isPath(l)?st(e,l):A=>be.isElement(A)&&D.isBlock(e,A)),!n&&K.isRange(l)&&(l=D.unhangRange(e,l,{voids:u}));var d=D.nodes(e,{at:l,match:c,mode:s,voids:u}),g=Array.from(d,A=>{var[,b]=A;return D.pathRef(e,b)});for(var h of g){var p=h.unref();if(p){var[B]=D.node(e,p);e.apply({type:"remove_node",path:p,node:B})}}}})},setNodes(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{match:u,at:s=e.selection,compare:l,merge:c}=n,{hanging:d=!1,mode:g="lowest",split:h=!1,voids:p=!1}=n;if(s){if(u==null&&(u=m.isPath(s)?st(e,s):Ke=>be.isElement(Ke)&&D.isBlock(e,Ke)),!d&&K.isRange(s)&&(s=D.unhangRange(e,s,{voids:p})),h&&K.isRange(s)){if(K.isCollapsed(s)&&D.leaf(e,s.anchor)[0].text.length>0)return;var B=D.rangeRef(e,s,{affinity:"inward"}),[A,b]=K.edges(s),S=g==="lowest"?"lowest":"highest",N=D.isEnd(e,b,b.path);Y.splitNodes(e,{at:b,match:u,mode:S,voids:p,always:!N});var $=D.isStart(e,A,A.path);Y.splitNodes(e,{at:A,match:u,mode:S,voids:p,always:!$}),s=B.unref(),n.at==null&&Y.select(e,s)}l||(l=(Ke,tr)=>Ke!==tr);for(var[ue,le]of D.nodes(e,{at:s,match:u,mode:g,voids:p})){var xe={},Oe={};if(le.length!==0){var Ue=!1;for(var Se in r)Se==="children"||Se==="text"||l(r[Se],ue[Se])&&(Ue=!0,ue.hasOwnProperty(Se)&&(xe[Se]=ue[Se]),c?r[Se]!=null&&(Oe[Se]=c(ue[Se],r[Se])):r[Se]!=null&&(Oe[Se]=r[Se]));Ue&&e.apply({type:"set_node",path:le,properties:xe,newProperties:Oe})}}}})},splitNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:u=!1}=r,{match:s,at:l=e.selection,height:c=0,always:d=!1}=r;if(s==null&&(s=mr=>be.isElement(mr)&&D.isBlock(e,mr)),K.isRange(l)&&(l=du(e,l)),m.isPath(l)){var g=l,h=D.point(e,g),[p]=D.parent(e,g);s=mr=>mr===p,c=h.path.length-g.length+1,l=h,d=!0}if(l){var B=D.pointRef(e,l,{affinity:"backward"}),A;try{var[b]=D.nodes(e,{at:l,match:s,mode:n,voids:u});if(!b)return;var S=D.void(e,{at:l,mode:"highest"}),N=0;if(!u&&S){var[$,ue]=S;if(be.isElement($)&&e.isInline($)){var le=D.after(e,ue);if(!le){var xe={text:""},Oe=m.next(ue);Y.insertNodes(e,xe,{at:Oe,voids:u}),le=D.point(e,Oe)}l=le,d=!0}var Ue=l.path.length-ue.length;c=Ue+1,d=!0}A=D.pointRef(e,l);var Se=l.path.length-c,[,Ke]=b,tr=l.path.slice(0,Se),_e=c===0?l.offset:l.path[Se]+N;for(var[er,ar]of D.levels(e,{at:tr,reverse:!0,voids:u})){var Rr=!1;if(ar.length<Ke.length||ar.length===0||!u&&be.isElement(er)&&D.isVoid(e,er))break;var Cr=B.current,et=D.isEnd(e,Cr,ar);if(d||!B||!D.isEdge(e,Cr,ar)){Rr=!0;var br=ie.extractProps(er);e.apply({type:"split_node",path:ar,position:_e,properties:br})}_e=ar[ar.length-1]+(Rr||et?1:0)}if(r.at==null){var _r=A.current||D.end(e,[]);Y.select(e,_r)}}finally{var pr;B.unref(),(pr=A)===null||pr===void 0||pr.unref()}}})},unsetNodes(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var u={};for(var s of r)u[s]=null;Y.setNodes(e,u,n)},unwrapNodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{mode:n="lowest",split:u=!1,voids:s=!1}=r,{at:l=e.selection,match:c}=r;if(l){c==null&&(c=m.isPath(l)?st(e,l):A=>be.isElement(A)&&D.isBlock(e,A)),m.isPath(l)&&(l=D.range(e,l));var d=K.isRange(l)?D.rangeRef(e,l):null,g=D.nodes(e,{at:l,match:c,mode:n,voids:s}),h=Array.from(g,A=>{var[,b]=A;return D.pathRef(e,b)}).reverse(),p=function(b){var S=b.unref(),[N]=D.node(e,S),$=D.range(e,S);u&&d&&($=K.intersection(d.current,$)),Y.liftNodes(e,{at:$,match:ue=>be.isAncestor(N)&&N.children.includes(ue),voids:s})};for(var B of h)p(B);d&&d.unref()}})},wrapNodes(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{mode:u="lowest",split:s=!1,voids:l=!1}=n,{match:c,at:d=e.selection}=n;if(d){if(c==null&&(m.isPath(d)?c=st(e,d):e.isInline(r)?c=$=>be.isElement($)&&D.isInline(e,$)||Ce.isText($):c=$=>be.isElement($)&&D.isBlock(e,$)),s&&K.isRange(d)){var[g,h]=K.edges(d),p=D.rangeRef(e,d,{affinity:"inward"});Y.splitNodes(e,{at:h,match:c,voids:l}),Y.splitNodes(e,{at:g,match:c,voids:l}),d=p.unref(),n.at==null&&Y.select(e,d)}var B=Array.from(D.nodes(e,{at:d,match:e.isInline(r)?$=>be.isElement($)&&D.isBlock(e,$):$=>D.isEditor($),mode:"lowest",voids:l}));for(var[,A]of B){var b=K.isRange(d)?K.intersection(d,D.range(e,A)):d;if(b){var S=Array.from(D.nodes(e,{at:b,match:c,mode:u,voids:l}));if(S.length>0){var N=function(){var[$]=S,ue=S[S.length-1],[,le]=$,[,xe]=ue;if(le.length===0&&xe.length===0)return"continue";var Oe=m.equals(le,xe)?m.parent(le):m.common(le,xe),Ue=D.range(e,le,xe),Se=D.node(e,Oe),[Ke]=Se,tr=Oe.length+1,_e=m.next(xe.slice(0,tr)),er=vu(vu({},r),{},{children:[]});Y.insertNodes(e,er,{at:_e,voids:l}),Y.moveNodes(e,{at:Ue,match:ar=>be.isAncestor(Ke)&&Ke.children.includes(ar),to:_e.concat(0),voids:l})}();if(N==="continue")continue}}}}})}},mn=(e,r)=>{if(be.isElement(r)){var n=r;return D.isVoid(e,r)?!0:n.children.length===1?mn(e,n.children[0]):!1}else return!D.isEditor(r)},du=(e,r)=>{if(K.isCollapsed(r))return r.anchor;var[,n]=K.edges(r),u=D.pointRef(e,n);return Y.delete(e,{at:r}),u.unref()},st=(e,r)=>{var[n]=D.node(e,r);return u=>u===n};function Kn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function hu(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Kn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var Du={collapse(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:u}=e;if(u){if(n==="anchor")Y.select(e,u.anchor);else if(n==="focus")Y.select(e,u.focus);else if(n==="start"){var[s]=K.edges(u);Y.select(e,s)}else if(n==="end"){var[,l]=K.edges(u);Y.select(e,l)}}else return},deselect(e){var{selection:r}=e;r&&e.apply({type:"set_selection",properties:r,newProperties:null})},move(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:u=1,unit:s="character",reverse:l=!1}=r,{edge:c=null}=r;if(n){c==="start"&&(c=K.isBackward(n)?"focus":"anchor"),c==="end"&&(c=K.isBackward(n)?"anchor":"focus");var{anchor:d,focus:g}=n,h={distance:u,unit:s},p={};if(c==null||c==="anchor"){var B=l?D.before(e,d,h):D.after(e,d,h);B&&(p.anchor=B)}if(c==null||c==="focus"){var A=l?D.before(e,g,h):D.after(e,g,h);A&&(p.focus=A)}Y.setSelection(e,p)}},select(e,r){var{selection:n}=e;if(r=D.range(e,r),n){Y.setSelection(e,r);return}if(!K.isRange(r))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Dr.stringify(r)));e.apply({type:"set_selection",properties:n,newProperties:r})},setPoint(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=e,{edge:s="both"}=n;if(u){s==="start"&&(s=K.isBackward(u)?"focus":"anchor"),s==="end"&&(s=K.isBackward(u)?"anchor":"focus");var{anchor:l,focus:c}=u,d=s==="anchor"?l:c;Y.setSelection(e,{[s==="anchor"?"anchor":"focus"]:hu(hu({},d),r)})}},setSelection(e,r){var{selection:n}=e,u={},s={};if(n){for(var l in r)(l==="anchor"&&r.anchor!=null&&!We.equals(r.anchor,n.anchor)||l==="focus"&&r.focus!=null&&!We.equals(r.focus,n.focus)||l!=="anchor"&&l!=="focus"&&r[l]!==n[l])&&(u[l]=n[l],s[l]=r[l]);Object.keys(u).length>0&&e.apply({type:"set_selection",properties:u,newProperties:s})}}},gu={delete(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D.withoutNormalizing(e,()=>{var{reverse:n=!1,unit:u="character",distance:s=1,voids:l=!1}=r,{at:c=e.selection,hanging:d=!1}=r;if(c){var g=!1;if(K.isRange(c)&&K.isCollapsed(c)&&(g=!0,c=c.anchor),We.isPoint(c)){var h=D.void(e,{at:c,mode:"highest"});if(!l&&h){var[,p]=h;c=p}else{var B={unit:u,distance:s},A=n?D.before(e,c,B)||D.start(e,[]):D.after(e,c,B)||D.end(e,[]);c={anchor:c,focus:A},d=!0}}if(m.isPath(c)){Y.removeNodes(e,{at:c,voids:l});return}if(!K.isCollapsed(c)){if(!d){var[,b]=K.edges(c),S=D.end(e,[]);We.equals(b,S)||(c=D.unhangRange(e,c,{voids:l}))}var[N,$]=K.edges(c),ue=D.above(e,{match:dr=>be.isElement(dr)&&D.isBlock(e,dr),at:N,voids:l}),le=D.above(e,{match:dr=>be.isElement(dr)&&D.isBlock(e,dr),at:$,voids:l}),xe=ue&&le&&!m.equals(ue[1],le[1]),Oe=m.equals(N.path,$.path),Ue=l?null:D.void(e,{at:N,mode:"highest"}),Se=l?null:D.void(e,{at:$,mode:"highest"});if(Ue){var Ke=D.before(e,N);Ke&&ue&&m.isAncestor(ue[1],Ke.path)&&(N=Ke)}if(Se){var tr=D.after(e,$);tr&&le&&m.isAncestor(le[1],tr.path)&&($=tr)}var _e=[],er;for(var ar of D.nodes(e,{at:c,voids:l})){var[Rr,Cr]=ar;er&&m.compare(Cr,er)===0||(!l&&be.isElement(Rr)&&D.isVoid(e,Rr)||!m.isCommon(Cr,N.path)&&!m.isCommon(Cr,$.path))&&(_e.push(ar),er=Cr)}var et=Array.from(_e,dr=>{var[,Qt]=dr;return D.pathRef(e,Qt)}),br=D.pointRef(e,N),_r=D.pointRef(e,$),pr="";if(!Oe&&!Ue){var mr=br.current,[ir]=D.leaf(e,mr),{path:ot}=mr,{offset:Yr}=N,Hr=ir.text.slice(Yr);Hr.length>0&&(e.apply({type:"remove_text",path:ot,offset:Yr,text:Hr}),pr=Hr)}if(et.reverse().map(dr=>dr.unref()).filter(dr=>dr!==null).forEach(dr=>Y.removeNodes(e,{at:dr,voids:l})),!Se){var qe=_r.current,[$r]=D.leaf(e,qe),{path:Ge}=qe,Sr=Oe?N.offset:0,Ot=$r.text.slice(Sr,$.offset);Ot.length>0&&(e.apply({type:"remove_text",path:Ge,offset:Sr,text:Ot}),pr=Ot)}!Oe&&xe&&_r.current&&br.current&&Y.mergeNodes(e,{at:_r.current,hanging:!0,voids:l}),g&&n&&u==="character"&&pr.length>1&&pr.match(/[\u0E00-\u0E7F]+/)&&Y.insertText(e,pr.slice(0,pr.length-s));var Et=br.unref(),Vt=_r.unref(),Zt=n?Et||Vt:Vt||Et;r.at==null&&Zt&&Y.select(e,Zt)}}})},insertFragment(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:s=!1}=n,{at:l=e.selection}=n;if(r.length){if(l)if(K.isRange(l))if(u||(l=D.unhangRange(e,l,{voids:s})),K.isCollapsed(l))l=l.anchor;else{var[,c]=K.edges(l);if(!s&&D.void(e,{at:c}))return;var d=D.pointRef(e,c);Y.delete(e,{at:l}),l=d.unref()}else m.isPath(l)&&(l=D.start(e,l));else return;if(!(!s&&D.void(e,{at:l}))){var g=D.above(e,{at:l,match:qe=>be.isElement(qe)&&D.isInline(e,qe),mode:"highest",voids:s});if(g){var[,h]=g;if(D.isEnd(e,l,h)){var p=D.after(e,h);l=p}else if(D.isStart(e,l,h)){var B=D.before(e,h);l=B}}var A=D.above(e,{match:qe=>be.isElement(qe)&&D.isBlock(e,qe),at:l,voids:s}),[,b]=A,S=D.isStart(e,l,b),N=D.isEnd(e,l,b),$=S&&N,ue=!S||S&&N,le=!N,[,xe]=ie.first({children:r},[]),[,Oe]=ie.last({children:r},[]),Ue=[],Se=qe=>{var[$r,Ge]=qe,Sr=Ge.length===0;return Sr?!1:$?!0:!(ue&&m.isAncestor(Ge,xe)&&be.isElement($r)&&!e.isVoid($r)&&!e.isInline($r)||le&&m.isAncestor(Ge,Oe)&&be.isElement($r)&&!e.isVoid($r)&&!e.isInline($r))};for(var Ke of ie.nodes({children:r},{pass:Se}))Se(Ke)&&Ue.push(Ke);var tr=[],_e=[],er=[],ar=!0,Rr=!1;for(var[Cr]of Ue)be.isElement(Cr)&&!e.isInline(Cr)?(ar=!1,Rr=!0,_e.push(Cr)):ar?tr.push(Cr):er.push(Cr);var[et]=D.nodes(e,{at:l,match:qe=>Ce.isText(qe)||D.isInline(e,qe),mode:"highest",voids:s}),[,br]=et,_r=D.isStart(e,l,br),pr=D.isEnd(e,l,br),mr=D.pathRef(e,N&&!er.length?m.next(b):b),ir=D.pathRef(e,pr?m.next(br):br);Y.splitNodes(e,{at:l,match:qe=>Rr?be.isElement(qe)&&D.isBlock(e,qe):Ce.isText(qe)||D.isInline(e,qe),mode:Rr?"lowest":"highest",always:Rr&&(!S||tr.length>0)&&(!N||er.length>0),voids:s});var ot=D.pathRef(e,!_r||_r&&pr?m.next(br):br);if(Y.insertNodes(e,tr,{at:ot.current,match:qe=>Ce.isText(qe)||D.isInline(e,qe),mode:"highest",voids:s}),$&&!tr.length&&_e.length&&!er.length&&Y.delete(e,{at:b,voids:s}),Y.insertNodes(e,_e,{at:mr.current,match:qe=>be.isElement(qe)&&D.isBlock(e,qe),mode:"lowest",voids:s}),Y.insertNodes(e,er,{at:ir.current,match:qe=>Ce.isText(qe)||D.isInline(e,qe),mode:"highest",voids:s}),!n.at){var Yr;if(er.length>0&&ir.current?Yr=m.previous(ir.current):_e.length>0&&mr.current?Yr=m.previous(mr.current):ot.current&&(Yr=m.previous(ot.current)),Yr){var Hr=D.end(e,Yr);Y.select(e,Hr)}}ot.unref(),mr.unref(),ir.unref()}}})},insertText(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D.withoutNormalizing(e,()=>{var{voids:u=!1}=n,{at:s=e.selection}=n;if(s){if(m.isPath(s)&&(s=D.range(e,s)),K.isRange(s))if(K.isCollapsed(s))s=s.anchor;else{var l=K.end(s);if(!u&&D.void(e,{at:l}))return;var c=K.start(s),d=D.pointRef(e,c),g=D.pointRef(e,l);Y.delete(e,{at:s,voids:u});var h=d.unref(),p=g.unref();s=h||p,Y.setSelection(e,{anchor:s,focus:s})}if(!(!u&&D.void(e,{at:s}))){var{path:B,offset:A}=s;r.length>0&&e.apply({type:"insert_text",path:B,offset:A,text:r})}}})}};function Yn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);r&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Xt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Yn(Object(n),!0).forEach(function(u){xr(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}var Y=Xt(Xt(Xt(Xt({},fu),qn),Du),gu)},62657:function(L){function W(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}L.exports=W,L.exports.__esModule=!0,L.exports.default=L.exports},335:function(L,W,O){var j=O(31479);function T(X,Z){var k=typeof Symbol!="undefined"&&X[Symbol.iterator]||X["@@iterator"];if(!k){if(Array.isArray(X)||(k=j(X))||Z&&X&&typeof X.length=="number"){k&&(X=k);var ae=0,E=function(){};return{s:E,n:function(){return ae>=X.length?{done:!0}:{done:!1,value:X[ae++]}},e:function(Q){throw Q},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me=!0,ce=!1,re;return{s:function(){k=k.call(X)},n:function(){var Q=k.next();return me=Q.done,Q},e:function(Q){ce=!0,re=Q},f:function(){try{!me&&k.return!=null&&k.return()}finally{if(ce)throw re}}}}L.exports=T,L.exports.__esModule=!0,L.exports.default=L.exports},83136:function(L,W,O){var j=O(38836),T=O(68919),X=O(75254);function Z(k){var ae=T();return function(){var me=j(k),ce;if(ae){var re=j(this).constructor;ce=Reflect.construct(me,arguments,re)}else ce=me.apply(this,arguments);return X(this,ce)}}L.exports=Z,L.exports.__esModule=!0,L.exports.default=L.exports},38836:function(L){function W(O){return L.exports=W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},L.exports.__esModule=!0,L.exports.default=L.exports,W(O)}L.exports=W,L.exports.__esModule=!0,L.exports.default=L.exports},21742:function(L,W,O){var j=O(80038);function T(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),Z&&j(X,Z)}L.exports=T,L.exports.__esModule=!0,L.exports.default=L.exports},68919:function(L){function W(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(O){return!1}}L.exports=W,L.exports.__esModule=!0,L.exports.default=L.exports},75254:function(L,W,O){var j=O(31759).default,T=O(62657);function X(Z,k){if(k&&(j(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(Z)}L.exports=X,L.exports.__esModule=!0,L.exports.default=L.exports},80038:function(L){function W(O,j){return L.exports=W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,Z){return X.__proto__=Z,X},L.exports.__esModule=!0,L.exports.default=L.exports,W(O,j)}L.exports=W,L.exports.__esModule=!0,L.exports.default=L.exports},33213:function(L,W,O){"use strict";O.d(W,{P:function(){return T}});function j(X){return Object.prototype.toString.call(X)==="[object Object]"}function T(X){var Z,k;return j(X)===!1?!1:(Z=X.constructor,Z===void 0?!0:(k=Z.prototype,!(j(k)===!1||k.hasOwnProperty("isPrototypeOf")===!1)))}}}]);
}());