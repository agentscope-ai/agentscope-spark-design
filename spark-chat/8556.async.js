!(function(){var Hn=Object.defineProperty,jn=Object.defineProperties;var qn=Object.getOwnPropertyDescriptors;var Jn=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable;var Fn=Math.pow,Yn=(f,b,t)=>b in f?Hn(f,b,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[b]=t,xn=(f,b)=>{for(var t in b||(b={}))_n.call(b,t)&&Yn(f,t,b[t]);if(Jn)for(var t of Jn(b))tr.call(b,t)&&Yn(f,t,b[t]);return f},$n=(f,b)=>jn(f,qn(b));var he=(f,b,t)=>Yn(f,typeof b!="symbol"?b+"":b,t);(self.webpackChunk_agentscope_ai_chat=self.webpackChunk_agentscope_ai_chat||[]).push([[8556],{90494:function(f,b){"use strict";var t="*",r=function(){function d(){this._events={}}return d.prototype.on=function(u,l,a){return this._events[u]||(this._events[u]=[]),this._events[u].push({callback:l,once:!!a}),this},d.prototype.once=function(u,l){return this.on(u,l,!0)},d.prototype.emit=function(u){for(var l=this,a=[],g=1;g<arguments.length;g++)a[g-1]=arguments[g];var v=this._events[u]||[],c=this._events[t]||[],o=function(i){for(var h=i.length,m=0;m<h;m++)if(i[m]){var w=i[m],M=w.callback,Y=w.once;Y&&(i.splice(m,1),i.length===0&&delete l._events[u],h--,m--),M.apply(l,a)}};o(v),o(c)},d.prototype.off=function(u,l){if(!u)this._events={};else if(!l)delete this._events[u];else{for(var a=this._events[u]||[],g=a.length,v=0;v<g;v++)a[v].callback===l&&(a.splice(v,1),g--,v--);a.length===0&&delete this._events[u]}return this},d.prototype.getEvents=function(){return this._events},d}();b.Z=r},72137:function(f,b,t){"use strict";t.d(b,{k:function(){return g}});var r=t(90494);function d(v,c,o,i){for(;v.length;){const h=v.shift();if(o(h))return!0;c.add(h.id),i(h.id).forEach(w=>{c.has(w.id)||(c.add(w.id),v.push(w))})}return!1}function u(v,c,o,i){if(o(v))return!0;c.add(v.id);for(const m of i(v.id))if(!c.has(m.id)&&u(m,c,o,i))return!0;return!1}const l=()=>!0;class a{constructor(c){he(this,"graph");he(this,"nodeFilter");he(this,"edgeFilter");he(this,"cacheEnabled");he(this,"inEdgesMap",new Map);he(this,"outEdgesMap",new Map);he(this,"bothEdgesMap",new Map);he(this,"allNodesMap",new Map);he(this,"allEdgesMap",new Map);he(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()});he(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(c=>c.id))});he(this,"updateCache",c=>{const o=new Set;c.forEach(i=>{const h=this.bothEdgesMap.get(i);if(h&&h.forEach(m=>o.add(m.id)),!this.hasNode(i))this.inEdgesMap.delete(i),this.outEdgesMap.delete(i),this.bothEdgesMap.delete(i),this.allNodesMap.delete(i);else{const m=this.graph.getRelatedEdges(i,"in").filter(this.edgeFilter),w=this.graph.getRelatedEdges(i,"out").filter(this.edgeFilter),M=Array.from(new Set([...m,...w]));M.forEach(Y=>o.add(Y.id)),this.inEdgesMap.set(i,m),this.outEdgesMap.set(i,w),this.bothEdgesMap.set(i,M),this.allNodesMap.set(i,this.graph.getNode(i))}}),o.forEach(i=>{this.hasEdge(i)?this.allEdgesMap.set(i,this.graph.getEdge(i)):this.allEdgesMap.delete(i)})});he(this,"handleGraphChanged",c=>{const o=new Set;c.changes.forEach(i=>{switch(i.type){case"NodeAdded":o.add(i.value.id);break;case"NodeDataUpdated":o.add(i.id);break;case"EdgeAdded":o.add(i.value.source),o.add(i.value.target);break;case"EdgeUpdated":(i.propertyName==="source"||i.propertyName==="target")&&(o.add(i.oldValue),o.add(i.newValue));break;case"EdgeDataUpdated":if(c.graph.hasEdge(i.id)){const h=c.graph.getEdge(i.id);o.add(h.source),o.add(h.target)}break;case"EdgeRemoved":o.add(i.value.source),o.add(i.value.target);break;case"NodeRemoved":o.add(i.value.id);break;default:break}}),this.updateCache(o)});this.graph=c.graph;const o=c.nodeFilter||l,i=c.edgeFilter||l;this.nodeFilter=o,this.edgeFilter=h=>{const{source:m,target:w}=this.graph.getEdgeDetail(h.id);return!o(m)||!o(w)?!1:i(h,m,w)},c.cache==="auto"?(this.cacheEnabled=!0,this.startAutoCache()):c.cache==="manual"?this.cacheEnabled=!0:this.cacheEnabled=!1}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(c){this.getNode(c)}hasNode(c){if(!this.graph.hasNode(c))return!1;const o=this.graph.getNode(c);return this.nodeFilter(o)}areNeighbors(c,o){return this.checkNodeExistence(c),this.getNeighbors(o).some(i=>i.id===c)}getNode(c){const o=this.graph.getNode(c);if(!this.nodeFilter(o))throw new Error("Node not found for id: "+c);return o}getRelatedEdges(c,o){return this.checkNodeExistence(c),this.cacheEnabled?o==="in"?this.inEdgesMap.get(c):o==="out"?this.outEdgesMap.get(c):this.bothEdgesMap.get(c):this.graph.getRelatedEdges(c,o).filter(this.edgeFilter)}getDegree(c,o){return this.getRelatedEdges(c,o).length}getSuccessors(c){const i=this.getRelatedEdges(c,"out").map(h=>this.getNode(h.target));return Array.from(new Set(i))}getPredecessors(c){const i=this.getRelatedEdges(c,"in").map(h=>this.getNode(h.source));return Array.from(new Set(i))}getNeighbors(c){const o=this.getPredecessors(c),i=this.getSuccessors(c);return Array.from(new Set([...o,...i]))}hasEdge(c){if(!this.graph.hasEdge(c))return!1;const o=this.graph.getEdge(c);return this.edgeFilter(o)}getEdge(c){const o=this.graph.getEdge(c);if(!this.edgeFilter(o))throw new Error("Edge not found for id: "+c);return o}getEdgeDetail(c){const o=this.getEdge(c);return{edge:o,source:this.getNode(o.source),target:this.getNode(o.target)}}hasTreeStructure(c){return this.graph.hasTreeStructure(c)}getRoots(c){return this.graph.getRoots(c).filter(this.nodeFilter)}getChildren(c,o){return this.checkNodeExistence(c),this.graph.getChildren(c,o).filter(this.nodeFilter)}getParent(c,o){this.checkNodeExistence(c);const i=this.graph.getParent(c,o);return!i||!this.nodeFilter(i)?null:i}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(c,o,i="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];d([this.getNode(c)],new Set,o,h)}dfs(c,o,i="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];u(this.getNode(c),new Set,o,h)}}class g extends r.Z{constructor(o){super();he(this,"nodeMap",new Map);he(this,"edgeMap",new Map);he(this,"inEdgesMap",new Map);he(this,"outEdgesMap",new Map);he(this,"bothEdgesMap",new Map);he(this,"treeIndices",new Map);he(this,"changes",[]);he(this,"batchCount",0);he(this,"onChanged",()=>{});he(this,"batch",o=>{this.batchCount+=1,o(),this.batchCount-=1,this.batchCount||this.commit()});o&&(o.nodes&&this.addNodes(o.nodes),o.edges&&this.addEdges(o.edges),o.tree&&this.addTree(o.tree),o.onChanged&&(this.onChanged=o.onChanged))}commit(){const o=this.changes;this.changes=[];const i={graph:this,changes:o};this.emit("changed",i),this.onChanged(i)}reduceChanges(o){let i=[];return o.forEach(h=>{switch(h.type){case"NodeRemoved":{let m=!1;i=i.filter(w=>{if(w.type==="NodeAdded"){const M=w.value.id===h.value.id;return M&&(m=!0),!M}else{if(w.type==="NodeDataUpdated")return w.id!==h.value.id;if(w.type==="TreeStructureChanged")return w.nodeId!==h.value.id}return!0}),m||i.push(h);break}case"EdgeRemoved":{let m=!1;i=i.filter(w=>{if(w.type==="EdgeAdded"){const M=w.value.id===h.value.id;return M&&(m=!0),!M}else if(w.type==="EdgeDataUpdated"||w.type==="EdgeUpdated")return w.id!==h.value.id;return!0}),m||i.push(h);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const m=i.findIndex(M=>M.type===h.type&&M.id===h.id&&(h.propertyName===void 0||M.propertyName===h.propertyName)),w=i[m];w?h.propertyName!==void 0?w.newValue=h.newValue:(i.splice(m,1),i.push(h)):i.push(h);break}case"TreeStructureDetached":{i=i.filter(m=>m.type==="TreeStructureAttached"||m.type==="TreeStructureChanged"?m.treeKey!==h.treeKey:!0),i.push(h);break}case"TreeStructureChanged":{const m=i.find(w=>w.type==="TreeStructureChanged"&&w.treeKey===h.treeKey&&w.nodeId===h.nodeId);m?m.newParentId=h.newParentId:i.push(h);break}default:i.push(h);break}}),i}checkNodeExistence(o){this.getNode(o)}hasNode(o){return this.nodeMap.has(o)}areNeighbors(o,i){return this.getNeighbors(i).some(h=>h.id===o)}getNode(o){const i=this.nodeMap.get(o);if(!i)throw new Error("Node not found for id: "+o);return i}getRelatedEdges(o,i){if(this.checkNodeExistence(o),i==="in"){const h=this.inEdgesMap.get(o);return Array.from(h)}else if(i==="out"){const h=this.outEdgesMap.get(o);return Array.from(h)}else{const h=this.bothEdgesMap.get(o);return Array.from(h)}}getDegree(o,i){return this.getRelatedEdges(o,i).length}getSuccessors(o){const h=this.getRelatedEdges(o,"out").map(m=>this.getNode(m.target));return Array.from(new Set(h))}getPredecessors(o){const h=this.getRelatedEdges(o,"in").map(m=>this.getNode(m.source));return Array.from(new Set(h))}getNeighbors(o){const i=this.getPredecessors(o),h=this.getSuccessors(o);return Array.from(new Set([...i,...h]))}doAddNode(o){if(this.hasNode(o.id))throw new Error("Node already exists: "+o.id);this.nodeMap.set(o.id,o),this.inEdgesMap.set(o.id,new Set),this.outEdgesMap.set(o.id,new Set),this.bothEdgesMap.set(o.id,new Set),this.treeIndices.forEach(i=>{i.childrenMap.set(o.id,new Set)}),this.changes.push({type:"NodeAdded",value:o})}addNodes(o){this.batch(()=>{for(const i of o)this.doAddNode(i)})}addNode(o){this.addNodes([o])}doRemoveNode(o){const i=this.getNode(o),h=this.bothEdgesMap.get(o);h==null||h.forEach(m=>this.doRemoveEdge(m.id)),this.nodeMap.delete(o),this.treeIndices.forEach(m=>{var M,Y;(M=m.childrenMap.get(o))==null||M.forEach(K=>{m.parentMap.delete(K.id)});const w=m.parentMap.get(o);w&&((Y=m.childrenMap.get(w.id))==null||Y.delete(i)),m.parentMap.delete(o),m.childrenMap.delete(o)}),this.bothEdgesMap.delete(o),this.inEdgesMap.delete(o),this.outEdgesMap.delete(o),this.changes.push({type:"NodeRemoved",value:i})}removeNodes(o){this.batch(()=>{o.forEach(i=>this.doRemoveNode(i))})}removeNode(o){this.removeNodes([o])}updateNodeDataProperty(o,i,h){const m=this.getNode(o);this.batch(()=>{const w=m.data[i],M=h;m.data[i]=M,this.changes.push({type:"NodeDataUpdated",id:o,propertyName:i,oldValue:w,newValue:M})})}mergeNodeData(o,i){this.batch(()=>{Object.entries(i).forEach(([h,m])=>{this.updateNodeDataProperty(o,h,m)})})}updateNodeData(...o){const i=o[0],h=this.getNode(i);if(typeof o[1]=="string"){this.updateNodeDataProperty(i,o[1],o[2]);return}let m;if(typeof o[1]=="function"){const w=o[1];m=w(h.data)}else typeof o[1]=="object"&&(m=o[1]);this.batch(()=>{const w=h.data,M=m;h.data=m,this.changes.push({type:"NodeDataUpdated",id:i,oldValue:w,newValue:M})})}checkEdgeExistence(o){if(!this.hasEdge(o))throw new Error("Edge not found for id: "+o)}hasEdge(o){return this.edgeMap.has(o)}getEdge(o){return this.checkEdgeExistence(o),this.edgeMap.get(o)}getEdgeDetail(o){const i=this.getEdge(o);return{edge:i,source:this.getNode(i.source),target:this.getNode(i.target)}}doAddEdge(o){if(this.hasEdge(o.id))throw new Error("Edge already exists: "+o.id);this.checkNodeExistence(o.source),this.checkNodeExistence(o.target),this.edgeMap.set(o.id,o);const i=this.inEdgesMap.get(o.target),h=this.outEdgesMap.get(o.source),m=this.bothEdgesMap.get(o.source),w=this.bothEdgesMap.get(o.target);i.add(o),h.add(o),m.add(o),w.add(o),this.changes.push({type:"EdgeAdded",value:o})}addEdges(o){this.batch(()=>{for(const i of o)this.doAddEdge(i)})}addEdge(o){this.addEdges([o])}doRemoveEdge(o){const i=this.getEdge(o),h=this.outEdgesMap.get(i.source),m=this.inEdgesMap.get(i.target),w=this.bothEdgesMap.get(i.source),M=this.bothEdgesMap.get(i.target);h.delete(i),m.delete(i),w.delete(i),M.delete(i),this.edgeMap.delete(o),this.changes.push({type:"EdgeRemoved",value:i})}removeEdges(o){this.batch(()=>{o.forEach(i=>this.doRemoveEdge(i))})}removeEdge(o){this.removeEdges([o])}updateEdgeSource(o,i){const h=this.getEdge(o);this.checkNodeExistence(i);const m=h.source,w=i;this.outEdgesMap.get(m).delete(h),this.bothEdgesMap.get(m).delete(h),this.outEdgesMap.get(w).add(h),this.bothEdgesMap.get(w).add(h),h.source=i,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:o,propertyName:"source",oldValue:m,newValue:w})})}updateEdgeTarget(o,i){const h=this.getEdge(o);this.checkNodeExistence(i);const m=h.target,w=i;this.inEdgesMap.get(m).delete(h),this.bothEdgesMap.get(m).delete(h),this.inEdgesMap.get(w).add(h),this.bothEdgesMap.get(w).add(h),h.target=i,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:o,propertyName:"target",oldValue:m,newValue:w})})}updateEdgeDataProperty(o,i,h){const m=this.getEdge(o);this.batch(()=>{const w=m.data[i],M=h;m.data[i]=M,this.changes.push({type:"EdgeDataUpdated",id:o,propertyName:i,oldValue:w,newValue:M})})}updateEdgeData(...o){const i=o[0],h=this.getEdge(i);if(typeof o[1]=="string"){this.updateEdgeDataProperty(i,o[1],o[2]);return}let m;if(typeof o[1]=="function"){const w=o[1];m=w(h.data)}else typeof o[1]=="object"&&(m=o[1]);this.batch(()=>{const w=h.data,M=m;h.data=m,this.changes.push({type:"EdgeDataUpdated",id:i,oldValue:w,newValue:M})})}mergeEdgeData(o,i){this.batch(()=>{Object.entries(i).forEach(([h,m])=>{this.updateEdgeDataProperty(o,h,m)})})}checkTreeExistence(o){if(!this.hasTreeStructure(o))throw new Error("Tree structure not found for treeKey: "+o)}hasTreeStructure(o){return this.treeIndices.has(o)}attachTreeStructure(o){this.treeIndices.has(o)||(this.treeIndices.set(o,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:o})}))}detachTreeStructure(o){this.checkTreeExistence(o),this.treeIndices.delete(o),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:o})})}addTree(o,i){this.batch(()=>{this.attachTreeStructure(i);const h=[],m=Array.isArray(o)?o:[o];for(;m.length;){const w=m.shift();h.push(w),w.children&&m.push(...w.children)}this.addNodes(h),h.forEach(w=>{var M;(M=w.children)==null||M.forEach(Y=>{this.setParent(Y.id,w.id,i)})})})}getRoots(o){return this.checkTreeExistence(o),this.getAllNodes().filter(i=>!this.getParent(i.id,o))}getChildren(o,i){this.checkNodeExistence(o),this.checkTreeExistence(i);const m=this.treeIndices.get(i).childrenMap.get(o);return Array.from(m||[])}getParent(o,i){return this.checkNodeExistence(o),this.checkTreeExistence(i),this.treeIndices.get(i).parentMap.get(o)||null}getAncestors(o,i){const h=[];let m=this.getNode(o),w;for(;w=this.getParent(m.id,i);)h.push(w),m=w;return h}setParent(o,i,h){var F,Z;this.checkTreeExistence(h);const m=this.treeIndices.get(h);if(!m)return;const w=this.getNode(o),M=m.parentMap.get(o);if((M==null?void 0:M.id)===i)return;if(i==null){M&&((F=m.childrenMap.get(M.id))==null||F.delete(w)),m.parentMap.delete(o);return}const Y=this.getNode(i);m.parentMap.set(o,Y),M&&((Z=m.childrenMap.get(M.id))==null||Z.delete(w));let K=m.childrenMap.get(Y.id);K||(K=new Set,m.childrenMap.set(Y.id,K)),K.add(w),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:h,nodeId:o,oldParentId:M==null?void 0:M.id,newParentId:Y.id})})}dfsTree(o,i,h){const m=w=>this.getChildren(w,h);return u(this.getNode(o),new Set,i,m)}bfsTree(o,i,h){const m=w=>this.getChildren(w,h);return d([this.getNode(o)],new Set,i,m)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(o,i,h="out"){const m={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[h];return d([this.getNode(o)],new Set,i,m)}dfs(o,i,h="out"){const m={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[h];return u(this.getNode(o),new Set,i,m)}clone(){const o=this.getAllNodes().map(m=>$n(xn({},m),{data:xn({},m.data)})),i=this.getAllEdges().map(m=>$n(xn({},m),{data:xn({},m.data)})),h=new g({nodes:o,edges:i});return this.treeIndices.forEach(({parentMap:m,childrenMap:w},M)=>{const Y=new Map;m.forEach((F,Z)=>{Y.set(Z,h.getNode(F.id))});const K=new Map;w.forEach((F,Z)=>{K.set(Z,new Set(Array.from(F).map(J=>h.getNode(J.id))))}),h.treeIndices.set(M,{parentMap:Y,childrenMap:K})}),h}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(o){return new a(xn({graph:this},o))}}},45978:function(f,b,t){"use strict";t.d(b,{b:function(){return en}});var r=t(97582),d=t(72137),u=t(25897),l=t(95147);const a=(y,x)=>{if(y!=="next"&&y!=="prev")return x},g=y=>{y.prev.next=y.next,y.next.prev=y.prev,delete y.next,delete y.prev};class v{constructor(){const x={};x.prev=x,x.next=x.prev,this.shortcut=x}dequeue(){const x=this.shortcut,O=x.prev;if(O&&O!==x)return g(O),O}enqueue(x){const O=this.shortcut;x.prev&&x.next&&g(x),x.next=O.next,O.next.prev=x,O.next=x,x.prev=O}toString(){const x=[],O=this.shortcut;let k=O.prev;for(;k!==O;)x.push(JSON.stringify(k,a)),k=k==null?void 0:k.prev;return`[${x.join(", ")}]`}}class c extends v{}const o=()=>1,i=(y,x)=>{var O;if(y.getAllNodes().length<=1)return[];const k=w(y,x||o);return(O=h(k.graph,k.buckets,k.zeroIdx).map(H=>y.getRelatedEdges(H.v,"out").filter(({target:et})=>et===H.w)))===null||O===void 0?void 0:O.flat()},h=(y,x,O)=>{let k=[];const $=x[x.length-1],H=x[0];let et;for(;y.getAllNodes().length;){for(;et=H.dequeue();)m(y,x,O,et);for(;et=$.dequeue();)m(y,x,O,et);if(y.getAllNodes().length){for(let rt=x.length-2;rt>0;--rt)if(et=x[rt].dequeue(),et){k=k.concat(m(y,x,O,et,!0));break}}}return k},m=(y,x,O,k,$)=>{var H,et;const rt=[];return y.hasNode(k.v)&&((H=y.getRelatedEdges(k.v,"in"))===null||H===void 0||H.forEach(st=>{const ft=st.data.weight,yt=y.getNode(st.source);$&&rt.push({v:st.source,w:st.target,in:0,out:0}),yt.data.out===void 0&&(yt.data.out=0),yt.data.out-=ft,M(x,O,Object.assign({v:yt.id},yt.data))}),(et=y.getRelatedEdges(k.v,"out"))===null||et===void 0||et.forEach(st=>{const ft=st.data.weight,yt=st.target,Et=y.getNode(yt);Et.data.in===void 0&&(Et.data.in=0),Et.data.in-=ft,M(x,O,Object.assign({v:Et.id},Et.data))}),y.removeNode(k.v)),$?rt:void 0},w=(y,x)=>{const O=new d.k;let k=0,$=0;y.getAllNodes().forEach(st=>{O.addNode({id:st.id,data:{v:st.id,in:0,out:0}})}),y.getAllEdges().forEach(st=>{const ft=O.getRelatedEdges(st.source,"out").find(Et=>Et.target===st.target),yt=(x==null?void 0:x(st))||1;ft?O.updateEdgeData(ft==null?void 0:ft.id,Object.assign(Object.assign({},ft.data),{weight:ft.data.weight+yt})):O.addEdge({id:st.id,source:st.source,target:st.target,data:{weight:yt}}),$=Math.max($,O.getNode(st.source).data.out+=yt),k=Math.max(k,O.getNode(st.target).data.in+=yt)});const H=[],et=$+k+3;for(let st=0;st<et;st++)H.push(new c);const rt=k+1;return O.getAllNodes().forEach(st=>{M(H,rt,Object.assign({v:st.id},O.getNode(st.id).data))}),{buckets:H,zeroIdx:rt,graph:O}},M=(y,x,O)=>{O.out?O.in?y[O.out-O.in+x].enqueue(O):y[y.length-1].enqueue(O):y[0].enqueue(O)},Y=(y,x)=>{const k=x==="greedy"?i(y,($=>H=>H.data.weight||1)(y)):K(y);k==null||k.forEach($=>{const H=$.data;y.removeEdge($.id),H.forwardName=$.data.name,H.reversed=!0,y.addEdge({id:$.id,source:$.target,target:$.source,data:Object.assign({},H)})})},K=y=>{const x=[],O={},k={},$=H=>{k[H]||(k[H]=!0,O[H]=!0,y.getRelatedEdges(H,"out").forEach(et=>{O[et.target]?x.push(et):$(et.target)}),delete O[H])};return y.getAllNodes().forEach(H=>$(H.id)),x},F=y=>{y.getAllEdges().forEach(x=>{const O=x.data;if(O.reversed){y.removeEdge(x.id);const k=O.forwardName;delete O.reversed,delete O.forwardName,y.addEdge({id:x.id,source:x.target,target:x.source,data:Object.assign(Object.assign({},O),{forwardName:k})})}})},Z=(y,x)=>Number(y)-Number(x),J=(y,x,O,k)=>{let $;do $=`${k}${Math.random()}`;while(y.hasNode($));return O.dummy=x,y.addNode({id:$,data:O}),$},Q=y=>{const x=new d.k;return y.getAllNodes().forEach(O=>{x.addNode(Object.assign({},O))}),y.getAllEdges().forEach(O=>{const k=x.getRelatedEdges(O.source,"out").find($=>$.target===O.target);k?x.updateEdgeData(k==null?void 0:k.id,Object.assign(Object.assign({},k.data),{weight:k.data.weight+O.data.weight||0,minlen:Math.max(k.data.minlen,O.data.minlen||1)})):x.addEdge({id:O.id,source:O.source,target:O.target,data:{weight:O.data.weight||0,minlen:O.data.minlen||1}})}),x},L=y=>{const x=new d.k;return y.getAllNodes().forEach(O=>{y.getChildren(O.id).length||x.addNode(Object.assign({},O))}),y.getAllEdges().forEach(O=>{x.addEdge(O)}),x},B=(y,x)=>y==null?void 0:y.reduce((O,k,$)=>(O[k]=x[$],O),{}),T=y=>{const x={};return y.getAllNodes().forEach(O=>{const k={};y.getRelatedEdges(O.id,"out").forEach($=>{k[$.target]=(k[$.target]||0)+($.data.weight||0)}),x[O.id]=k}),x},z=y=>{const x=y.getAllNodes(),O=x.map(k=>{const $={};return y.getRelatedEdges(k.id,"in").forEach(H=>{$[H.source]=($[H.source]||0)+H.data.weight}),$});return B(x.map(k=>k.id),O)},G=(y,x)=>{const O=Number(y.x),k=Number(y.y),$=Number(x.x)-O,H=Number(x.y)-k;let et=Number(y.width)/2,rt=Number(y.height)/2;if(!$&&!H)return{x:0,y:0};let st,ft;return Math.abs(H)*et>Math.abs($)*rt?(H<0&&(rt=-rt),st=rt*$/H,ft=rt):($<0&&(et=-et),st=et,ft=et*H/$),{x:O+st,y:k+ft}},U=y=>{const x=[],O=W(y)+1;for(let k=0;k<O;k++)x.push([]);y.getAllNodes().forEach(k=>{const $=k.data.rank;$!==void 0&&x[$]&&x[$].push(k.id)});for(let k=0;k<O;k++)x[k]=x[k].sort(($,H)=>Z(y.getNode($).data.order,y.getNode(H).data.order));return x},S=y=>{const x=y.getAllNodes().filter(k=>k.data.rank!==void 0).map(k=>k.data.rank),O=Math.min(...x);y.getAllNodes().forEach(k=>{k.data.hasOwnProperty("rank")&&O!==1/0&&(k.data.rank-=O)})},P=(y,x=0)=>{const O=y.getAllNodes(),k=O.filter(rt=>rt.data.rank!==void 0).map(rt=>rt.data.rank),$=Math.min(...k),H=[];O.forEach(rt=>{const st=(rt.data.rank||0)-$;H[st]||(H[st]=[]),H[st].push(rt.id)});let et=0;for(let rt=0;rt<H.length;rt++){const st=H[rt];st===void 0?rt%x!==0&&(et-=1):et&&(st==null||st.forEach(ft=>{const yt=y.getNode(ft);yt&&(yt.data.rank=yt.data.rank||0,yt.data.rank+=et)}))}},X=(y,x,O,k)=>{const $={width:0,height:0};return(0,u.Z)(O)&&(0,u.Z)(k)&&($.rank=O,$.order=k),J(y,"border",$,x)},W=y=>{let x;return y.getAllNodes().forEach(O=>{const k=O.data.rank;k!==void 0&&(x===void 0||k>x)&&(x=k)}),x||(x=0),x},I=(y,x)=>{const O={lhs:[],rhs:[]};return y==null||y.forEach(k=>{x(k)?O.lhs.push(k):O.rhs.push(k)}),O},V=(y,x)=>y.reduce((O,k)=>{const $=x(O),H=x(k);return $>H?k:O}),j=(y,x,O,k,$,H)=>{k.includes(x.id)||(k.push(x.id),O||H.push(x.id),$(x.id).forEach(et=>j(y,et,O,k,$,H)),O&&H.push(x.id))},q=(y,x,O,k)=>{const $=Array.isArray(x)?x:[x],H=st=>k?y.getSuccessors(st):y.getNeighbors(st),et=[],rt=[];return $.forEach(st=>{if(y.hasNode(st.id))j(y,st,O==="post",rt,H,et);else throw new Error(`Graph does not have node: ${st}`)}),et},tt=y=>{const x=O=>{const k=y.getChildren(O),$=y.getNode(O);if(k!=null&&k.length&&k.forEach(H=>x(H.id)),$.data.hasOwnProperty("minRank")){$.data.borderLeft=[],$.data.borderRight=[];for(let H=$.data.minRank,et=$.data.maxRank+1;H<et;H+=1)ot(y,"borderLeft","_bl",O,$,H),ot(y,"borderRight","_br",O,$,H)}};y.getRoots().forEach(O=>x(O.id))},ot=(y,x,O,k,$,H)=>{const et={rank:H,borderType:x,width:0,height:0},rt=$.data[x][H-1],st=J(y,"border",et,O);$.data[x][H]=st,y.setParent(st,k),rt&&y.addEdge({id:`e${Math.random()}`,source:rt,target:st,data:{weight:1}})},ct=(y,x)=>{const O=x.toLowerCase();(O==="lr"||O==="rl")&&gt(y)},nt=(y,x)=>{const O=x.toLowerCase();(O==="bt"||O==="rl")&&_(y),(O==="lr"||O==="rl")&&(lt(y),gt(y))},gt=y=>{y.getAllNodes().forEach(x=>{it(x)}),y.getAllEdges().forEach(x=>{it(x)})},it=y=>{const x=y.data.width;y.data.width=y.data.height,y.data.height=x},_=y=>{y.getAllNodes().forEach(x=>{ht(x.data)}),y.getAllEdges().forEach(x=>{var O;(O=x.data.points)===null||O===void 0||O.forEach(k=>ht(k)),x.data.hasOwnProperty("y")&&ht(x.data)})},ht=y=>{y!=null&&y.y&&(y.y=-y.y)},lt=y=>{y.getAllNodes().forEach(x=>{at(x.data)}),y.getAllEdges().forEach(x=>{var O;(O=x.data.points)===null||O===void 0||O.forEach(k=>at(k)),x.data.hasOwnProperty("x")&&at(x.data)})},at=y=>{const x=y.x;y.x=y.y,y.y=x},Nt=y=>{const x=J(y,"root",{},"_root"),O=mt(y);let k=Math.max(...Object.values(O));Math.abs(k)===1/0&&(k=1);const $=k-1,H=2*$+1;y.getAllEdges().forEach(rt=>{rt.data.minlen*=H});const et=xt(y)+1;return y.getRoots().forEach(rt=>{vt(y,x,H,et,$,O,rt.id)}),{nestingRoot:x,nodeRankFactor:H}},vt=(y,x,O,k,$,H,et)=>{const rt=y.getChildren(et);if(!(rt!=null&&rt.length)){et!==x&&y.addEdge({id:`e${Math.random()}`,source:x,target:et,data:{weight:0,minlen:O}});return}const st=X(y,"_bt"),ft=X(y,"_bb"),yt=y.getNode(et);y.setParent(st,et),yt.data.borderTop=st,y.setParent(ft,et),yt.data.borderBottom=ft,rt==null||rt.forEach(Et=>{vt(y,x,O,k,$,H,Et.id);const Rt=Et.data.borderTop?Et.data.borderTop:Et.id,Ft=Et.data.borderBottom?Et.data.borderBottom:Et.id,zt=Et.data.borderTop?k:2*k,Yt=Rt!==Ft?1:$-H[et]+1;y.addEdge({id:`e${Math.random()}`,source:st,target:Rt,data:{minlen:Yt,weight:zt,nestingEdge:!0}}),y.addEdge({id:`e${Math.random()}`,source:Ft,target:ft,data:{minlen:Yt,weight:zt,nestingEdge:!0}})}),y.getParent(et)||y.addEdge({id:`e${Math.random()}`,source:x,target:st,data:{weight:0,minlen:$+H[et]}})},mt=y=>{const x={},O=(k,$)=>{const H=y.getChildren(k);H==null||H.forEach(et=>O(et.id,$+1)),x[k]=$};return y.getRoots().forEach(k=>O(k.id,1)),x},xt=y=>{let x=0;return y.getAllEdges().forEach(O=>{x+=O.data.weight}),x},St=(y,x)=>{x&&y.removeNode(x),y.getAllEdges().forEach(O=>{O.data.nestingEdge&&y.removeEdge(O.id)})},Tt="edge",It="edge-label",Bt=(y,x)=>{y.getAllEdges().forEach(O=>Ht(y,O,x))},Ht=(y,x,O)=>{let k=x.source,$=y.getNode(k).data.rank;const H=x.target,et=y.getNode(H).data.rank,rt=x.data.labelRank;if(et===$+1)return;y.removeEdge(x.id);let st,ft,yt;for(yt=0,++$;$<et;++yt,++$)x.data.points=[],ft={originalEdge:x,width:0,height:0,rank:$},st=J(y,Tt,ft,"_d"),$===rt&&(ft.width=x.data.width,ft.height=x.data.height,ft.dummy=It,ft.labelpos=x.data.labelpos),y.addEdge({id:`e${Math.random()}`,source:k,target:st,data:{weight:x.data.weight}}),yt===0&&O.push(st),k=st;y.addEdge({id:`e${Math.random()}`,source:k,target:H,data:{weight:x.data.weight}})},Ut=(y,x)=>{x.forEach(O=>{let k=y.getNode(O);const{data:$}=k,H=$.originalEdge;let et;H&&y.addEdge(H);let rt=O;for(;k.data.dummy;)et=y.getSuccessors(rt)[0],y.removeNode(rt),H.data.points.push({x:k.data.x,y:k.data.y}),k.data.dummy===It&&(H.data.x=k.data.x,H.data.y=k.data.y,H.data.width=k.data.width,H.data.height=k.data.height),rt=et.id,k=y.getNode(rt)})};var Kt=t(83207);const ie=(y,x,O)=>{const k={};let $;O==null||O.forEach(H=>{let et=y.getParent(H),rt,st;for(;et;){if(rt=y.getParent(et.id),rt?(st=k[rt.id],k[rt.id]=et.id):(st=$,$=et.id),st&&st!==et.id){x.hasNode(st)||x.addNode({id:st,data:{}}),x.hasNode(et.id)||x.addNode({id:et.id,data:{}}),x.hasEdge(`e${st}-${et.id}`)||x.addEdge({id:`e${st}-${et.id}`,source:st,target:et.id,data:{}});return}et=rt}})},Gt=(y,x,O)=>{const k=ce(y),$=new d.k({tree:[{id:k,children:[],data:{}}]});return y.getAllNodes().forEach(H=>{const et=y.getParent(H.id);(H.data.rank===x||H.data.minRank<=x&&x<=H.data.maxRank)&&($.hasNode(H.id)||$.addNode(Object.assign({},H)),et!=null&&et.id&&!$.hasNode(et==null?void 0:et.id)&&$.addNode(Object.assign({},et)),$.setParent(H.id,(et==null?void 0:et.id)||k),y.getRelatedEdges(H.id,O).forEach(rt=>{const st=rt.source===H.id?rt.target:rt.source;$.hasNode(st)||$.addNode(Object.assign({},y.getNode(st)));const ft=$.getRelatedEdges(st,"out").find(({target:Et})=>Et===H.id),yt=ft!==void 0?ft.data.weight:0;ft?$.updateEdgeData(ft.id,Object.assign(Object.assign({},ft.data),{weight:rt.data.weight+yt})):$.addEdge({id:rt.id,source:st,target:H.id,data:{weight:rt.data.weight+yt}})}),H.data.hasOwnProperty("minRank")&&$.updateNodeData(H.id,Object.assign(Object.assign({},H.data),{borderLeft:H.data.borderLeft[x],borderRight:H.data.borderRight[x]})))}),$},ce=y=>{let x;for(;y.hasNode(x=`_root${Math.random()}`););return x},re=(y,x,O)=>{const k=B(O,O.map((yt,Et)=>Et)),H=x.map(yt=>{const Et=y.getRelatedEdges(yt,"out").map(Rt=>({pos:k[Rt.target]||0,weight:Rt.data.weight}));return Et==null?void 0:Et.sort((Rt,Ft)=>Rt.pos-Ft.pos)}).flat().filter(yt=>yt!==void 0);let et=1;for(;et<O.length;)et<<=1;const rt=2*et-1;et-=1;const st=Array(rt).fill(0,0,rt);let ft=0;return H==null||H.forEach(yt=>{if(yt){let Et=yt.pos+et;st[Et]+=yt.weight;let Rt=0;for(;Et>0;)Et%2&&(Rt+=st[Et+1]),Et=Et-1>>1,st[Et]+=yt.weight;ft+=yt.weight*Rt}}),ft},Jt=(y,x)=>{let O=0;for(let k=1;k<(x==null?void 0:x.length);k+=1)O+=re(y,x[k-1],x[k]);return O},Dt=y=>{const x={},O=y.getAllNodes(),k=O.map(ft=>{var yt;return(yt=ft.data.rank)!==null&&yt!==void 0?yt:-1/0}),$=Math.max(...k),H=[];for(let ft=0;ft<$+1;ft++)H.push([]);const et=O.sort((ft,yt)=>y.getNode(ft.id).data.rank-y.getNode(yt.id).data.rank),st=et.filter(ft=>y.getNode(ft.id).data.fixorder!==void 0).sort((ft,yt)=>y.getNode(ft.id).data.fixorder-y.getNode(yt.id).data.fixorder);return st==null||st.forEach(ft=>{isNaN(y.getNode(ft.id).data.rank)||H[y.getNode(ft.id).data.rank].push(ft.id),x[ft.id]=!0}),et==null||et.forEach(ft=>y.dfsTree(ft.id,yt=>{if(x.hasOwnProperty(yt.id))return!0;x[yt.id]=!0,isNaN(yt.data.rank)||H[yt.data.rank].push(yt.id)})),H},le=(y,x)=>x.map(O=>{const k=y.getRelatedEdges(O,"in");if(!(k!=null&&k.length))return{v:O};const $={sum:0,weight:0};return k==null||k.forEach(H=>{const et=y.getNode(H.source);$.sum+=H.data.weight*et.data.order,$.weight+=H.data.weight}),{v:O,barycenter:$.sum/$.weight,weight:$.weight}}),me=(y,x)=>{var O,k,$;const H={};y==null||y.forEach((rt,st)=>{H[rt.v]={i:st,indegree:0,in:[],out:[],vs:[rt.v]};const ft=H[rt.v];rt.barycenter!==void 0&&(ft.barycenter=rt.barycenter,ft.weight=rt.weight)}),(O=x.getAllEdges())===null||O===void 0||O.forEach(rt=>{const st=H[rt.source],ft=H[rt.target];st!==void 0&&ft!==void 0&&(ft.indegree++,st.out.push(H[rt.target]))});const et=($=(k=Object.values(H)).filter)===null||$===void 0?void 0:$.call(k,rt=>!rt.indegree);return oe(et)},oe=y=>{var x,O;const k=[],$=st=>ft=>{ft.merged||(ft.barycenter===void 0||st.barycenter===void 0||ft.barycenter>=st.barycenter)&&we(st,ft)},H=st=>ft=>{ft.in.push(st),--ft.indegree===0&&y.push(ft)};for(;y!=null&&y.length;){const st=y.pop();k.push(st),(x=st.in.reverse())===null||x===void 0||x.forEach(ft=>$(st)(ft)),(O=st.out)===null||O===void 0||O.forEach(ft=>H(st)(ft))}const et=k.filter(st=>!st.merged),rt=["vs","i","barycenter","weight"];return et.map(st=>{const ft={};return rt==null||rt.forEach(yt=>{st[yt]!==void 0&&(ft[yt]=st[yt])}),ft})},we=(y,x)=>{var O;let k=0,$=0;y.weight&&(k+=y.barycenter*y.weight,$+=y.weight),x.weight&&(k+=x.barycenter*x.weight,$+=x.weight),y.vs=(O=x.vs)===null||O===void 0?void 0:O.concat(y.vs),y.barycenter=k/$,y.weight=$,y.i=Math.min(x.i,y.i),x.merged=!0};var Ee=me;const an=(y,x,O,k)=>{const $=I(y,Rt=>{const Ft=Rt.hasOwnProperty("fixorder")&&!isNaN(Rt.fixorder);return k?!Ft&&Rt.hasOwnProperty("barycenter"):Ft||Rt.hasOwnProperty("barycenter")}),H=$.lhs,et=$.rhs.sort((Rt,Ft)=>-Rt.i- -Ft.i),rt=[];let st=0,ft=0,yt=0;H==null||H.sort(dn(!!x,!!O)),yt=un(rt,et,yt),H==null||H.forEach(Rt=>{var Ft;yt+=(Ft=Rt.vs)===null||Ft===void 0?void 0:Ft.length,rt.push(Rt.vs),st+=Rt.barycenter*Rt.weight,ft+=Rt.weight,yt=un(rt,et,yt)});const Et={vs:rt.flat()};return ft&&(Et.barycenter=st/ft,Et.weight=ft),Et},un=(y,x,O)=>{let k=O,$;for(;x.length&&($=x[x.length-1]).i<=k;)x.pop(),y==null||y.push($.vs),k++;return k},dn=(y,x)=>(O,k)=>{if(O.fixorder!==void 0&&k.fixorder!==void 0)return O.fixorder-k.fixorder;if(O.barycenter<k.barycenter)return-1;if(O.barycenter>k.barycenter)return 1;if(x&&O.order!==void 0&&k.order!==void 0){if(O.order<k.order)return-1;if(O.order>k.order)return 1}return y?k.i-O.i:O.i-k.i},Ce=(y,x,O,k,$,H)=>{var et,rt,st,ft;let yt=y.getChildren(x).map(_t=>_t.id);const Et=y.getNode(x),Rt=Et?Et.data.borderLeft:void 0,Ft=Et?Et.data.borderRight:void 0,zt={};Rt&&(yt=yt==null?void 0:yt.filter(_t=>_t!==Rt&&_t!==Ft));const Yt=le(y,yt||[]);Yt==null||Yt.forEach(_t=>{var ve;if(!((ve=y.getChildren(_t.v))===null||ve===void 0)&&ve.length){const de=Ce(y,_t.v,O,k,H);zt[_t.v]=de,de.hasOwnProperty("barycenter")&&zn(_t,de)}});const $t=Ee(Yt,O);ze($t,zt),(et=$t.filter(_t=>_t.vs.length>0))===null||et===void 0||et.forEach(_t=>{const ve=y.getNode(_t.vs[0]);ve&&(_t.fixorder=ve.data.fixorder,_t.order=ve.data.order)});const Wt=an($t,k,$,H);if(Rt&&(Wt.vs=[Rt,Wt.vs,Ft].flat(),!((rt=y.getPredecessors(Rt))===null||rt===void 0)&&rt.length)){const _t=y.getNode(((st=y.getPredecessors(Rt))===null||st===void 0?void 0:st[0].id)||""),ve=y.getNode(((ft=y.getPredecessors(Ft))===null||ft===void 0?void 0:ft[0].id)||"");Wt.hasOwnProperty("barycenter")||(Wt.barycenter=0,Wt.weight=0),Wt.barycenter=(Wt.barycenter*Wt.weight+_t.data.order+ve.data.order)/(Wt.weight+2),Wt.weight+=2}return Wt},ze=(y,x)=>{y==null||y.forEach(O=>{var k;const $=(k=O.vs)===null||k===void 0?void 0:k.map(H=>x[H]?x[H].vs:H);O.vs=$.flat()})},zn=(y,x)=>{y.barycenter!==void 0?(y.barycenter=(y.barycenter*y.weight+x.barycenter*x.weight)/(y.weight+x.weight),y.weight+=x.weight):(y.barycenter=x.barycenter,y.weight=x.weight)},fn=(y,x)=>{const O=W(y),k=[],$=[];for(let yt=1;yt<O+1;yt++)k.push(yt);for(let yt=O-1;yt>-1;yt--)$.push(yt);const H=An(y,k,"in"),et=An(y,$,"out");let rt=Dt(y);cn(y,rt);let st=Number.POSITIVE_INFINITY,ft;for(let yt=0,Et=0;Et<4;++yt,++Et){Pn(yt%2?H:et,yt%4>=2,!1,x),rt=U(y);const Rt=Jt(y,rt);Rt<st&&(Et=0,ft=(0,Kt.Z)(rt),st=Rt)}rt=Dt(y),cn(y,rt);for(let yt=0,Et=0;Et<4;++yt,++Et){Pn(yt%2?H:et,yt%4>=2,!0,x),rt=U(y);const Rt=Jt(y,rt);Rt<st&&(Et=0,ft=(0,Kt.Z)(rt),st=Rt)}cn(y,ft)},An=(y,x,O)=>x.map(k=>Gt(y,k,O)),Pn=(y,x,O,k)=>{const $=new d.k;y==null||y.forEach(H=>{var et;const rt=H.getRoots()[0].id,st=Ce(H,rt,$,x,O,k);for(let ft=0;ft<((et=st.vs)===null||et===void 0?void 0:et.length);ft++){const yt=H.getNode(st.vs[ft]);yt&&(yt.data.order=ft)}ie(H,$,st.vs)})},cn=(y,x)=>{x==null||x.forEach(O=>{O==null||O.forEach((k,$)=>{y.getNode(k).data.order=$})})},Ae=(y,x)=>{const k=y.getAllNodes().filter(et=>{var rt;return!(!((rt=y.getChildren(et.id))===null||rt===void 0)&&rt.length)}).map(et=>et.data.rank),$=Math.max(...k),H=[];for(let et=0;et<$+1;et++)H[et]=[];x==null||x.forEach(et=>{const rt=y.getNode(et);!rt||rt.data.dummy||isNaN(rt.data.rank)||(rt.data.fixorder=H[rt.data.rank].length,H[rt.data.rank].push(et))})},kn=y=>{const x={};let O=0;const k=$=>{const H=O;y.getChildren($).forEach(et=>k(et.id)),x[$]={low:H,lim:O++}};return y.getRoots().forEach($=>k($.id)),x},hn=(y,x,O,k)=>{var $,H;const et=[],rt=[],st=Math.min(x[O].low,x[k].low),ft=Math.max(x[O].lim,x[k].lim);let yt,Et;yt=O;do yt=($=y.getParent(yt))===null||$===void 0?void 0:$.id,et.push(yt);while(yt&&(x[yt].low>st||ft>x[yt].lim));for(Et=yt,yt=k;yt&&yt!==Et;)rt.push(yt),yt=(H=y.getParent(yt))===null||H===void 0?void 0:H.id;return{lca:Et,path:et.concat(rt.reverse())}},ke=(y,x)=>{const O=kn(y);x.forEach(k=>{var $,H;let et=k,rt=y.getNode(et);const st=rt.data.originalEdge;if(!st)return;const ft=hn(y,O,st.source,st.target),yt=ft.path,Et=ft.lca;let Rt=0,Ft=yt[Rt],zt=!0;for(;et!==st.target;){if(rt=y.getNode(et),zt){for(;Ft!==Et&&(($=y.getNode(Ft))===null||$===void 0?void 0:$.data.maxRank)<rt.data.rank;)Rt++,Ft=yt[Rt];Ft===Et&&(zt=!1)}if(!zt){for(;Rt<yt.length-1&&((H=y.getNode(yt[Rt+1]))===null||H===void 0?void 0:H.data.minRank)<=rt.data.rank;)Rt++;Ft=yt[Rt]}y.hasNode(Ft)&&y.setParent(et,Ft),et=y.getSuccessors(et)[0].id}})},ln=(y,x)=>{const O={},k=($,H)=>{let et=0,rt=0;const st=$.length,ft=H==null?void 0:H[(H==null?void 0:H.length)-1];return H==null||H.forEach((yt,Et)=>{var Rt;const Ft=Bn(y,yt),zt=Ft?y.getNode(Ft.id).data.order:st;(Ft||yt===ft)&&((Rt=H.slice(rt,Et+1))===null||Rt===void 0||Rt.forEach(Yt=>{var $t;($t=y.getPredecessors(Yt))===null||$t===void 0||$t.forEach(Wt=>{var _t;const ve=y.getNode(Wt.id),de=ve.data.order;(de<et||zt<de)&&!(ve.data.dummy&&(!((_t=y.getNode(Yt))===null||_t===void 0)&&_t.data.dummy))&&bn(O,Wt.id,Yt)})}),rt=Et+1,et=zt)}),H};return x!=null&&x.length&&x.reduce(k),O},Ye=(y,x)=>{const O={};function k(rt,st,ft,yt,Et){var Rt,Ft;let zt;for(let Yt=st;Yt<ft;Yt++)zt=rt[Yt],!((Rt=y.getNode(zt))===null||Rt===void 0)&&Rt.data.dummy&&((Ft=y.getPredecessors(zt))===null||Ft===void 0||Ft.forEach($t=>{const Wt=y.getNode($t.id);Wt.data.dummy&&(Wt.data.order<yt||Wt.data.order>Et)&&bn(O,$t.id,zt)}))}function $(rt){return JSON.stringify(rt.slice(1))}function H(rt,st){const ft=$(rt);st.get(ft)||(k(...rt),st.set(ft,!0))}const et=(rt,st)=>{let ft=-1,yt,Et=0;const Rt=new Map;return st==null||st.forEach((Ft,zt)=>{var Yt;if(((Yt=y.getNode(Ft))===null||Yt===void 0?void 0:Yt.data.dummy)==="border"){const $t=y.getPredecessors(Ft)||[];$t.length&&(yt=y.getNode($t[0].id).data.order,H([st,Et,zt,ft,yt],Rt),Et=zt,ft=yt)}H([st,Et,st.length,yt,rt.length],Rt)}),st};return x!=null&&x.length&&x.reduce(et),O},Bn=(y,x)=>{var O,k;if(!((O=y.getNode(x))===null||O===void 0)&&O.data.dummy)return(k=y.getPredecessors(x))===null||k===void 0?void 0:k.find($=>y.getNode($.id).data.dummy)},bn=(y,x,O)=>{let k=x,$=O;if(k>$){const et=k;k=$,$=et}let H=y[k];H||(y[k]=H={}),H[$]=!0},gn=(y,x,O)=>{let k=x,$=O;if(k>$){const H=x;k=$,$=H}return!!y[k]},Tn=(y,x,O,k)=>{const $={},H={},et={};return x==null||x.forEach(rt=>{rt==null||rt.forEach((st,ft)=>{$[st]=st,H[st]=st,et[st]=ft})}),x==null||x.forEach(rt=>{let st=-1;rt==null||rt.forEach(ft=>{let yt=k(ft).map(Et=>Et.id);if(yt.length){yt=yt.sort((Rt,Ft)=>et[Rt]-et[Ft]);const Et=(yt.length-1)/2;for(let Rt=Math.floor(Et),Ft=Math.ceil(Et);Rt<=Ft;++Rt){const zt=yt[Rt];H[ft]===ft&&st<et[zt]&&!gn(O,ft,zt)&&(H[zt]=ft,H[ft]=$[ft]=$[zt],st=et[zt])}}})}),{root:$,align:H}},In=(y,x,O,k,$,H,et)=>{var rt;const st={},ft=Un(y,x,O,$,H,et),yt=et?"borderLeft":"borderRight",Et=(zt,Yt)=>{let $t=ft.getAllNodes(),Wt=$t.pop();const _t={};for(;Wt;)_t[Wt.id]?zt(Wt.id):(_t[Wt.id]=!0,$t.push(Wt),$t=$t.concat(Yt(Wt.id))),Wt=$t.pop()},Rt=zt=>{st[zt]=(ft.getRelatedEdges(zt,"in")||[]).reduce((Yt,$t)=>Math.max(Yt,(st[$t.source]||0)+$t.data.weight),0)},Ft=zt=>{const Yt=(ft.getRelatedEdges(zt,"out")||[]).reduce((Wt,_t)=>Math.min(Wt,(st[_t.target]||0)-_t.data.weight),Number.POSITIVE_INFINITY),$t=y.getNode(zt);Yt!==Number.POSITIVE_INFINITY&&$t.data.borderType!==yt&&(st[zt]=Math.max(st[zt],Yt))};return Et(Rt,ft.getPredecessors.bind(ft)),Et(Ft,ft.getSuccessors.bind(ft)),(rt=Object.values(k))===null||rt===void 0||rt.forEach(zt=>{st[zt]=st[O[zt]]}),st},Un=(y,x,O,k,$,H)=>{const et=new d.k,rt=Wn(k,$,H);return x==null||x.forEach(st=>{let ft;st==null||st.forEach(yt=>{const Et=O[yt];if(et.hasNode(Et)||et.addNode({id:Et,data:{}}),ft){const Rt=O[ft],Ft=et.getRelatedEdges(Rt,"out").find(zt=>zt.target===Et);Ft?et.updateEdgeData(Ft.id,Object.assign(Object.assign({},Ft.data),{weight:Math.max(rt(y,yt,ft),Ft.data.weight||0)})):et.addEdge({id:`e${Math.random()}`,source:Rt,target:Et,data:{weight:Math.max(rt(y,yt,ft),0)}})}ft=yt})}),et},Rn=(y,x)=>V(Object.values(x),O=>{var k;let $=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;return(k=Object.keys(O))===null||k===void 0||k.forEach(et=>{const rt=O[et],st=Vn(y,et)/2;$=Math.max(rt+st,$),H=Math.min(rt-st,H)}),$-H});function Dn(y,x){const O=Object.values(x),k=Math.min(...O),$=Math.max(...O);["u","d"].forEach(H=>{["l","r"].forEach(et=>{const rt=H+et,st=y[rt];let ft;if(st===x)return;const yt=Object.values(st);ft=et==="l"?k-Math.min(...yt):$-Math.max(...yt),ft&&(y[rt]={},Object.keys(st).forEach(Et=>{y[rt][Et]=st[Et]+ft}))})})}const Cn=(y,x)=>{const O={};return Object.keys(y.ul).forEach(k=>{if(x)O[k]=y[x.toLowerCase()][k];else{const $=Object.values(y).map(H=>H[k]);O[k]=($[0]+$[1])/2}}),O},Gn=(y,x)=>{const{align:O,nodesep:k=0,edgesep:$=0}=x||{},H=buildLayerMatrix(y),et=Object.assign(ln(y,H),Ye(y,H)),rt={};let st;["u","d"].forEach(yt=>{st=yt==="u"?H:Object.values(H).reverse(),["l","r"].forEach(Et=>{Et==="r"&&(st=st.map(Yt=>Object.values(Yt).reverse()));const Rt=(yt==="u"?y.getPredecessors:y.getSuccessors).bind(y),Ft=Tn(y,st,et,Rt),zt=In(y,st,Ft.root,Ft.align,k,$,Et==="r");Et==="r"&&Object.keys(zt).forEach(Yt=>{zt[Yt]=-zt[Yt]}),rt[yt+Et]=zt})});const ft=Rn(y,rt);return Dn(rt,ft),Cn(rt,O)},Wn=(y,x,O)=>(k,$,H)=>{const et=k.getNode($),rt=k.getNode(H);let st=0,ft=0;if(st+=et.data.width/2,et.data.hasOwnProperty("labelpos"))switch((et.data.labelpos||"").toLowerCase()){case"l":ft=-et.data.width/2;break;case"r":ft=et.data.width/2;break}if(ft&&(st+=O?ft:-ft),ft=0,st+=(et.data.dummy?x:y)/2,st+=(rt.data.dummy?x:y)/2,st+=rt.data.width/2,rt.data.labelpos)switch((rt.data.labelpos||"").toLowerCase()){case"l":ft=rt.data.width/2;break;case"r":ft=-rt.data.width/2;break}return ft&&(st+=O?ft:-ft),ft=0,st},Vn=(y,x)=>y.getNode(x).data.width||0,Zn=(y,x)=>{const{ranksep:O=0}=x||{},k=U(y);let $=0;k==null||k.forEach(H=>{const et=H.map(st=>y.getNode(st).data.height),rt=Math.max(...et,0);H==null||H.forEach(st=>{y.getNode(st).data.y=$+rt/2}),$+=rt+O})},Kn=(y,x)=>{const{align:O,nodesep:k=0,edgesep:$=0}=x||{},H=U(y),et=Object.assign(ln(y,H),Ye(y,H)),rt={};let st=[];["u","d"].forEach(yt=>{st=yt==="u"?H:Object.values(H).reverse(),["l","r"].forEach(Et=>{Et==="r"&&(st=st.map(Yt=>Object.values(Yt).reverse()));const Rt=(yt==="u"?y.getPredecessors:y.getSuccessors).bind(y),Ft=Tn(y,st,et,Rt),zt=In(y,st,Ft.root,Ft.align,k,$,Et==="r");Et==="r"&&Object.keys(zt).forEach(Yt=>zt[Yt]=-zt[Yt]),rt[yt+Et]=zt})});const ft=Rn(y,rt);return ft&&Dn(rt,ft),Cn(rt,O)},vn=(y,x)=>{var O;const k=L(y);Zn(k,x);const $=Kn(k,x);(O=Object.keys($))===null||O===void 0||O.forEach(H=>{k.getNode(H).data.x=$[H]})},Mn=y=>{const x={},O=k=>{var $;const H=y.getNode(k);if(!H)return 0;if(x[k])return H.data.rank;x[k]=!0;let et;return($=y.getRelatedEdges(k,"out"))===null||$===void 0||$.forEach(rt=>{const st=O(rt.target),ft=rt.data.minlen,yt=st-ft;yt&&(et===void 0||yt<et)&&(et=yt)}),et||(et=0),H.data.rank=et,et};y.getAllNodes().filter(k=>y.getRelatedEdges(k.id,"in").length===0).forEach(k=>O(k.id))},Ln=y=>{const x={};let O;const k=et=>{var rt;const st=y.getNode(et);if(!st)return 0;if(x[et])return st.data.rank;x[et]=!0;let ft;return(rt=y.getRelatedEdges(et,"out"))===null||rt===void 0||rt.forEach(yt=>{const Et=k(yt.target),Rt=yt.data.minlen,Ft=Et-Rt;Ft&&(ft===void 0||Ft<ft)&&(ft=Ft)}),ft||(ft=0),(O===void 0||ft<O)&&(O=ft),st.data.rank=ft,ft};y.getAllNodes().filter(et=>y.getRelatedEdges(et.id,"in").length===0).forEach(et=>{et&&k(et.id)}),O===void 0&&(O=0);const $={},H=(et,rt)=>{var st;const ft=y.getNode(et),yt=isNaN(ft.data.layer)?rt:ft.data.layer;(ft.data.rank===void 0||ft.data.rank<yt)&&(ft.data.rank=yt),!$[et]&&($[et]=!0,(st=y.getRelatedEdges(et,"out"))===null||st===void 0||st.forEach(Et=>{H(Et.target,yt+Et.data.minlen)}))};y.getAllNodes().forEach(et=>{const rt=et.data;rt&&(isNaN(rt.layer)?rt.rank-=O:H(et.id,rt.layer))})},N=(y,x)=>y.getNode(x.target).data.rank-y.getNode(x.source).data.rank-x.data.minlen,D=y=>{const x=new d.k({tree:[]}),O=y.getAllNodes()[0],k=y.getAllNodes().length;x.addNode(O);let $,H;for(;p(x,y)<k;)$=s(x,y),H=x.hasNode($.source)?N(y,$):-N(y,$),E(x,y,H);return x},p=(y,x)=>{const O=k=>{x.getRelatedEdges(k,"both").forEach($=>{const H=$.source,et=k===H?$.target:H;!y.hasNode(et)&&!N(x,$)&&(y.addNode({id:et,data:{}}),y.addEdge({id:$.id,source:k,target:et,data:{}}),O(et))})};return y.getAllNodes().forEach(k=>O(k.id)),y.getAllNodes().length},e=y=>{const x=new d.k({tree:[]}),O=y.getAllNodes()[0],k=y.getAllNodes().length;x.addNode(O);let $,H;for(;n(x,y)<k;)$=s(x,y),H=x.hasNode($.source)?N(y,$):-N(y,$),E(x,y,H);return x},n=(y,x)=>{const O=k=>{var $;($=x.getRelatedEdges(k,"both"))===null||$===void 0||$.forEach(H=>{const et=H.source,rt=k===et?H.target:et;!y.hasNode(rt)&&(x.getNode(rt).data.layer!==void 0||!N(x,H))&&(y.addNode({id:rt,data:{}}),y.addEdge({id:H.id,source:k,target:rt,data:{}}),O(rt))})};return y.getAllNodes().forEach(k=>O(k.id)),y.getAllNodes().length},s=(y,x)=>V(x.getAllEdges(),O=>y.hasNode(O.source)!==y.hasNode(O.target)?N(x,O):1/0),E=(y,x,O)=>{y.getAllNodes().forEach(k=>{const $=x.getNode(k.id);$.data.rank||($.data.rank=0),$.data.rank+=O})},R=y=>{const x=Q(y);Mn(x);const O=D(x);dt(O),A(O,x);let k,$;for(;k=Ot(O);)$=bt(O,x,k),Ct(O,x,k,$)},A=(y,x)=>{let O=q(y,y.getAllNodes(),"post",!1);O=O.slice(0,(O==null?void 0:O.length)-1),O.forEach(k=>{C(y,x,k)})},C=(y,x,O)=>{const $=y.getNode(O).data.parent,H=y.getRelatedEdges(O,"both").find(et=>et.target===$||et.source===$);H.data.cutvalue=ut(y,x,O)},ut=(y,x,O)=>{const $=y.getNode(O).data.parent;let H=!0,et=x.getRelatedEdges(O,"out").find(st=>st.target===$),rt=0;return et||(H=!1,et=x.getRelatedEdges($,"out").find(st=>st.target===O)),rt=et.data.weight,x.getRelatedEdges(O,"both").forEach(st=>{const ft=st.source===O,yt=ft?st.target:st.source;if(yt!==$){const Et=ft===H,Rt=st.data.weight;if(rt+=Et?Rt:-Rt,pt(y,O,yt)){const Ft=y.getRelatedEdges(O,"both").find(zt=>zt.source===yt||zt.target===yt).data.cutvalue;rt+=Et?-Ft:Ft}}}),rt},dt=(y,x=y.getAllNodes()[0].id)=>{wt(y,{},1,x)},wt=(y,x,O,k,$)=>{var H;const et=O;let rt=O;const st=y.getNode(k);return x[k]=!0,(H=y.getNeighbors(k))===null||H===void 0||H.forEach(ft=>{x[ft.id]||(rt=wt(y,x,rt,ft.id,k))}),st.data.low=et,st.data.lim=rt++,$?st.data.parent=$:delete st.data.parent,rt},Ot=y=>y.getAllEdges().find(x=>x.data.cutvalue<0),bt=(y,x,O)=>{let k=O.source,$=O.target;x.getRelatedEdges(k,"out").find(yt=>yt.target===$)||(k=O.target,$=O.source);const H=y.getNode(k),et=y.getNode($);let rt=H,st=!1;H.data.lim>et.data.lim&&(rt=et,st=!0);const ft=x.getAllEdges().filter(yt=>st===Mt(y.getNode(yt.source),rt)&&st!==Mt(y.getNode(yt.target),rt));return V(ft,yt=>N(x,yt))},Ct=(y,x,O,k)=>{const $=y.getRelatedEdges(O.source,"both").find(H=>H.source===O.target||H.target===O.target);$&&y.removeEdge($.id),y.addEdge({id:`e${Math.random()}`,source:k.source,target:k.target,data:{}}),dt(y),A(y,x),Zt(y,x)},Zt=(y,x)=>{const O=y.getAllNodes().find($=>!$.data.parent);let k=q(y,O,"pre",!1);k=k.slice(1),k.forEach($=>{const H=y.getNode($).data.parent;let et=x.getRelatedEdges($,"out").find(st=>st.target===H),rt=!1;!et&&x.hasNode(H)&&(et=x.getRelatedEdges(H,"out").find(st=>st.target===$),rt=!0),x.getNode($).data.rank=(x.hasNode(H)&&x.getNode(H).data.rank||0)+(rt?et==null?void 0:et.data.minlen:-(et==null?void 0:et.data.minlen))})},pt=(y,x,O)=>y.getRelatedEdges(x,"both").find(k=>k.source===O||k.target===O),Mt=(y,x)=>x.data.low<=y.data.lim&&y.data.lim<=x.data.lim,At=(y,x)=>{switch(x){case"network-simplex":te(y);break;case"tight-tree":Pt(y);break;case"longest-path":kt(y);break;default:Pt(y)}},kt=Mn,Pt=y=>{Ln(y),e(y)},te=y=>{R(y)},ne=(y,x)=>{const{edgeLabelSpace:O,keepNodeOrder:k,prevGraph:$,rankdir:H,ranksep:et}=x;!k&&$&&qt(y,$);const rt=Ge(y);O&&(x.ranksep=We(rt,{rankdir:H,ranksep:et}));let st;try{st=Vt(rt,x)}catch(ft){if(ft.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,ft);return}throw ft}return ae(y,rt),st},Vt=(y,x)=>{const{acyclicer:O,ranker:k,rankdir:$="tb",nodeOrder:H,keepNodeOrder:et,align:rt,nodesep:st=50,edgesep:ft=20,ranksep:yt=50}=x;Nn(y),Y(y,O);const{nestingRoot:Et,nodeRankFactor:Rt}=Nt(y);At(L(y),k),ge(y),P(y,Rt),St(y,Et),S(y),Be(y),Pe(y);const Ft=[];Bt(y,Ft),ke(y,Ft),tt(y),et&&Ae(y,H),fn(y,et),Qe(y),ct(y,$),vn(y,{align:rt,nodesep:st,edgesep:ft,ranksep:yt}),_e(y),Je(y),Ut(y,Ft),$e(y),nt(y,$);const{width:zt,height:Yt}=Fe(y);return ye(y),Xe(y),F(y),{width:zt,height:Yt}},qt=(y,x)=>{y.getAllNodes().forEach(O=>{const k=y.getNode(O.id);if(x.hasNode(O.id)){const $=x.getNode(O.id);k.data.fixorder=$.data._order,delete $.data._order}else delete k.data.fixorder})},ae=(y,x)=>{y.getAllNodes().forEach(O=>{var k;const $=y.getNode(O.id);if($){const H=x.getNode(O.id);$.data.x=H.data.x,$.data.y=H.data.y,$.data._order=H.data.order,$.data._rank=H.data.rank,!((k=x.getChildren(O.id))===null||k===void 0)&&k.length&&($.data.width=H.data.width,$.data.height=H.data.height)}}),y.getAllEdges().forEach(O=>{const k=y.getEdge(O.id),$=x.getEdge(O.id);k.data.points=$?$.data.points:[],$&&$.data.hasOwnProperty("x")&&(k.data.x=$.data.x,k.data.y=$.data.y)})},xe=["width","height","layer","fixorder"],Lt={width:0,height:0},Ne=["minlen","weight","width","height","labeloffset"],be={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},se=["labelpos"],Ge=y=>{const x=new d.k({tree:[]});return y.getAllNodes().forEach(O=>{const k=Ve(y.getNode(O.id).data),$=Object.assign(Object.assign({},Lt),k),H=ee($,xe);x.hasNode(O.id)||x.addNode({id:O.id,data:Object.assign({},H)});const et=y.hasTreeStructure("combo")?y.getParent(O.id,"combo"):y.getParent(O.id);(0,l.Z)(et)||(x.hasNode(et.id)||x.addNode(Object.assign({},et)),x.setParent(O.id,et.id))}),y.getAllEdges().forEach(O=>{const k=Ve(y.getEdge(O.id).data),$={};se==null||se.forEach(H=>{k[H]!==void 0&&($[H]=k[H])}),x.addEdge({id:O.id,source:O.source,target:O.target,data:Object.assign({},be,ee(k,Ne),$)})}),x},We=(y,x)=>{const{ranksep:O=0,rankdir:k}=x;return y.getAllNodes().forEach($=>{isNaN($.data.layer)||$.data.layer||($.data.layer=0)}),y.getAllEdges().forEach($=>{var H;$.data.minlen*=2,((H=$.data.labelpos)===null||H===void 0?void 0:H.toLowerCase())!=="c"&&(k==="TB"||k==="BT"?$.data.width+=$.data.labeloffset:$.data.height+=$.data.labeloffset)}),O/2},ge=y=>{y.getAllEdges().forEach(x=>{if(x.data.width&&x.data.height){const O=y.getNode(x.source),k=y.getNode(x.target),$={e:x,rank:(k.data.rank-O.data.rank)/2+O.data.rank};J(y,"edge-proxy",$,"_ep")}})},Be=y=>{let x=0;return y.getAllNodes().forEach(O=>{var k,$;O.data.borderTop&&(O.data.minRank=(k=y.getNode(O.data.borderTop))===null||k===void 0?void 0:k.data.rank,O.data.maxRank=($=y.getNode(O.data.borderBottom))===null||$===void 0?void 0:$.data.rank,x=Math.max(x,O.data.maxRank||-1/0))}),x},Pe=y=>{y.getAllNodes().forEach(x=>{x.data.dummy==="edge-proxy"&&(y.getEdge(x.data.e.id).data.labelRank=x.data.rank,y.removeNode(x.id))})},Fe=(y,x)=>{let O,k=0,$,H=0;const{marginx:et=0,marginy:rt=0}=x||{},st=ft=>{if(!ft.data)return;const yt=ft.data.x,Et=ft.data.y,Rt=ft.data.width,Ft=ft.data.height;!isNaN(yt)&&!isNaN(Rt)&&(O===void 0&&(O=yt-Rt/2),O=Math.min(O,yt-Rt/2),k=Math.max(k,yt+Rt/2)),!isNaN(Et)&&!isNaN(Ft)&&($===void 0&&($=Et-Ft/2),$=Math.min($,Et-Ft/2),H=Math.max(H,Et+Ft/2))};return y.getAllNodes().forEach(ft=>{st(ft)}),y.getAllEdges().forEach(ft=>{ft!=null&&ft.data.hasOwnProperty("x")&&st(ft)}),O-=et,$-=rt,y.getAllNodes().forEach(ft=>{ft.data.x-=O,ft.data.y-=$}),y.getAllEdges().forEach(ft=>{var yt;(yt=ft.data.points)===null||yt===void 0||yt.forEach(Et=>{Et.x-=O,Et.y-=$}),ft.data.hasOwnProperty("x")&&(ft.data.x-=O),ft.data.hasOwnProperty("y")&&(ft.data.y-=$)}),{width:k-O+et,height:H-$+rt}},ye=y=>{y.getAllEdges().forEach(x=>{const O=y.getNode(x.source),k=y.getNode(x.target);let $,H;x.data.points?($=x.data.points[0],H=x.data.points[x.data.points.length-1]):(x.data.points=[],$={x:k.data.x,y:k.data.y},H={x:O.data.x,y:O.data.y}),x.data.points.unshift(G(O.data,$)),x.data.points.push(G(k.data,H))})},$e=y=>{y.getAllEdges().forEach(x=>{if(x.data.hasOwnProperty("x"))switch((x.data.labelpos==="l"||x.data.labelpos==="r")&&(x.data.width-=x.data.labeloffset),x.data.labelpos){case"l":x.data.x-=x.data.width/2+x.data.labeloffset;break;case"r":x.data.x+=x.data.width/2+x.data.labeloffset;break}})},Xe=y=>{y.getAllEdges().forEach(x=>{var O;x.data.reversed&&((O=x.data.points)===null||O===void 0||O.reverse())})},Je=y=>{y.getAllNodes().forEach(x=>{var O,k,$;if(!((O=y.getChildren(x.id))===null||O===void 0)&&O.length){const H=y.getNode(x.id),et=y.getNode(H.data.borderTop),rt=y.getNode(H.data.borderBottom),st=y.getNode(H.data.borderLeft[((k=H.data.borderLeft)===null||k===void 0?void 0:k.length)-1]),ft=y.getNode(H.data.borderRight[(($=H.data.borderRight)===null||$===void 0?void 0:$.length)-1]);H.data.width=Math.abs((ft==null?void 0:ft.data.x)-(st==null?void 0:st.data.x))||10,H.data.height=Math.abs((rt==null?void 0:rt.data.y)-(et==null?void 0:et.data.y))||10,H.data.x=((st==null?void 0:st.data.x)||0)+H.data.width/2,H.data.y=((et==null?void 0:et.data.y)||0)+H.data.height/2}}),y.getAllNodes().forEach(x=>{x.data.dummy==="border"&&y.removeNode(x.id)})},Nn=y=>{y.getAllEdges().forEach(x=>{if(x.source===x.target){const O=y.getNode(x.source);O.data.selfEdges||(O.data.selfEdges=[]),O.data.selfEdges.push(x),y.removeEdge(x.id)}})},Qe=y=>{const x=U(y);x==null||x.forEach(O=>{let k=0;O==null||O.forEach(($,H)=>{var et;const rt=y.getNode($);rt.data.order=H+k,(et=rt.data.selfEdges)===null||et===void 0||et.forEach(st=>{J(y,"selfedge",{width:st.data.width,height:st.data.height,rank:rt.data.rank,order:H+ ++k,e:st},"_se")}),delete rt.data.selfEdges})})},_e=y=>{y.getAllNodes().forEach(x=>{const O=y.getNode(x.id);if(O.data.dummy==="selfedge"){const k=y.getNode(O.data.e.source),$=k.data.x+k.data.width/2,H=k.data.y,et=O.data.x-$,rt=k.data.height/2;y.hasEdge(O.data.e.id)?y.updateEdgeData(O.data.e.id,O.data.e.data):y.addEdge({id:O.data.e.id,source:O.data.e.source,target:O.data.e.target,data:O.data.e.data}),y.removeNode(x.id),O.data.e.data.points=[{x:$+2*et/3,y:H-rt},{x:$+5*et/6,y:H-rt},{y:H,x:$+et},{x:$+5*et/6,y:H+rt},{x:$+2*et/3,y:H+rt}],O.data.e.data.x=O.data.x,O.data.e.data.y=O.data.y}})},ee=(y,x)=>{const O={};return x==null||x.forEach(k=>{y[k]!==void 0&&(O[k]=+y[k])}),O},Ve=(y={})=>{const x={};return Object.keys(y).forEach(O=>{x[O.toLowerCase()]=y[O]}),x};var He=t(78732),ue=t(98130),je=t(94754);const tn={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class en{constructor(x={}){this.options=x,this.id="antv-dagre",this.options=Object.assign(Object.assign({},tn),x)}execute(x,O){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,x,O)})}assign(x,O){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,x,O)})}genericDagreLayout(x,O,k){return(0,r.mG)(this,void 0,void 0,function*(){const $=Object.assign(Object.assign({},this.options),k),{nodeSize:H,align:et,rankdir:rt="TB",ranksep:st,nodesep:ft,ranksepFunc:yt,nodesepFunc:Et,edgeLabelSpace:Rt,ranker:Ft,nodeOrder:zt,begin:Yt,controlPoints:$t,radial:Wt,sortByCombo:_t,preset:ve}=$,de=new d.k({tree:[]}),Ue=(0,He.jE)(st||50,yt),pn=(0,He.jE)(ft||50,Et);let Ie=pn,nn=Ue;(rt==="LR"||rt==="RL")&&(Ie=Ue,nn=pn);const On=(0,He.tO)(10,H,!1),mn=O.getAllNodes(),Ze=O.getAllEdges();mn.forEach(Qt=>{const Me=(0,je._)(On(Qt)),Oe=nn(Qt),Te=Ie(Qt),Se=Me[0]+2*Te,jt=Me[1]+2*Oe,Xt=Qt.data.layer;(0,u.Z)(Xt)?de.addNode({id:Qt.id,data:{width:Se,height:jt,layer:Xt}}):de.addNode({id:Qt.id,data:{width:Se,height:jt}})}),_t&&(de.attachTreeStructure("combo"),mn.forEach(Qt=>{const{parentId:Me}=Qt.data;Me!==void 0&&de.hasNode(Me)&&de.setParent(Qt.id,Me,"combo")})),Ze.forEach(Qt=>{de.addEdge({id:Qt.id,source:Qt.source,target:Qt.target,data:{weight:Qt.data.weight||1}})});let rn;ve!=null&&ve.length&&(rn=new d.k({nodes:ve})),ne(de,{prevGraph:rn,edgeLabelSpace:Rt,keepNodeOrder:!!zt,nodeOrder:zt||[],acyclicer:"greedy",ranker:Ft,rankdir:rt,nodesep:ft,align:et});const Le=[0,0];if(Yt){let Qt=1/0,Me=1/0;de.getAllNodes().forEach(Oe=>{Qt>Oe.data.x&&(Qt=Oe.data.x),Me>Oe.data.y&&(Me=Oe.data.y)}),de.getAllEdges().forEach(Oe=>{var Te;(Te=Oe.data.points)===null||Te===void 0||Te.forEach(Se=>{Qt>Se.x&&(Qt=Se.x),Me>Se.y&&(Me=Se.y)})}),Le[0]=Yt[0]-Qt,Le[1]=Yt[1]-Me}const on=rt==="LR"||rt==="RL";if(!Wt){const Qt=new Set,Oe=rt==="BT"||rt==="RL"?(Xt,fe)=>fe-Xt:(Xt,fe)=>Xt-fe;de.getAllNodes().forEach(Xt=>{Xt.data.x=Xt.data.x+Le[0],Xt.data.y=Xt.data.y+Le[1],Qt.add(on?Xt.data.x:Xt.data.y)});const Te=Array.from(Qt).sort(Oe),Se=on?(Xt,fe)=>Xt.x!==fe.x:(Xt,fe)=>Xt.y!==fe.y,jt=on?(Xt,fe,pe)=>{const Re=Math.max(fe.y,pe.y),De=Math.min(fe.y,pe.y);return Xt.filter(Ke=>Ke.y<=Re&&Ke.y>=De)}:(Xt,fe,pe)=>{const Re=Math.max(fe.x,pe.x),De=Math.min(fe.x,pe.x);return Xt.filter(Ke=>Ke.x<=Re&&Ke.x>=De)};de.getAllEdges().forEach((Xt,fe)=>{var pe;Rt&&$t&&Xt.data.type!=="loop"&&(Xt.data.controlPoints=qe((pe=Xt.data.points)===null||pe===void 0?void 0:pe.map(({x:Re,y:De})=>({x:Re+Le[0],y:De+Le[1]})),de.getNode(Xt.source),de.getNode(Xt.target),Te,on,Se,jt))})}let sn=[];sn=de.getAllNodes().map(Qt=>(0,ue.u)(Qt));const yn=de.getAllEdges();return x&&(sn.forEach(Qt=>{O.mergeNodeData(Qt.id,{x:Qt.data.x,y:Qt.data.y})}),yn.forEach(Qt=>{O.mergeEdgeData(Qt.id,{controlPoints:Qt.data.controlPoints})})),{nodes:sn,edges:yn}})}}const qe=(y,x,O,k,$,H,et)=>{let rt=(y==null?void 0:y.slice(1,y.length-1))||[];if(x&&O){let{x:st,y:ft}=x.data,{x:yt,y:Et}=O.data;if($&&(st=x.data.y,ft=x.data.x,yt=O.data.y,Et=O.data.x),Et!==ft&&st!==yt){const Rt=k.indexOf(ft),Ft=k[Rt+1];if(Ft){const $t=rt[0],Wt=$?{x:(ft+Ft)/2,y:($t==null?void 0:$t.y)||yt}:{x:($t==null?void 0:$t.x)||yt,y:(ft+Ft)/2};(!$t||H($t,Wt))&&rt.unshift(Wt)}const zt=k.indexOf(Et),Yt=Math.abs(zt-Rt);if(Yt===1)rt=et(rt,x.data,O.data),rt.length||rt.push($?{x:(ft+Et)/2,y:st}:{x:st,y:(ft+Et)/2});else if(Yt>1){const $t=k[zt-1];if($t){const Wt=rt[rt.length-1],_t=$?{x:(Et+$t)/2,y:(Wt==null?void 0:Wt.y)||yt}:{x:(Wt==null?void 0:Wt.x)||st,y:(Et+$t)/2};(!Wt||H(Wt,_t))&&rt.push(_t)}}}}return rt}},63795:function(f,b,t){"use strict";t.d(b,{S:function(){return g}});var r=t(97582),d=t(78732),u=t(98130),l=t(20464);const a={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class g{constructor(h={}){this.options=h,this.id="circular",this.options=Object.assign(Object.assign({},a),h)}execute(h,m){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,h,m)})}assign(h,m){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,h,m)})}genericCircularLayout(h,m,w){return(0,r.mG)(this,void 0,void 0,function*(){const M=Object.assign(Object.assign({},this.options),w),{width:Y,height:K,center:F,divisions:Z,startAngle:J=0,endAngle:Q=2*Math.PI,angleRatio:L,ordering:B,clockwise:T,nodeSpacing:z,nodeSize:G}=M,U=m.getAllNodes(),S=m.getAllEdges(),[P,X,W]=o(Y,K,F),I=U==null?void 0:U.length;if(!I||I===1)return(0,l.P)(m,h,W);const V=(Q-J)/I;let{radius:j,startRadius:q,endRadius:tt}=M;if(z){const it=(0,d.jE)(10,z),_=(0,d.tO)(10,G);let ht=-1/0;U.forEach(at=>{const Nt=_(at);ht<Nt&&(ht=Nt)});let lt=0;U.forEach((at,Nt)=>{Nt===0?lt+=ht||10:lt+=(it(at)||0)+(ht||10)}),j=lt/(2*Math.PI)}else!j&&!q&&!tt?j=Math.min(X,P)/2:!q&&tt?q=tt:q&&!tt&&(tt=q);const ot=V*L;let ct=[];B==="topology"?ct=v(m,U):B==="topology-directed"?ct=v(m,U,!0):B==="degree"?ct=c(m,U):ct=U.map(it=>(0,u.u)(it));const nt=Math.ceil(I/Z);for(let it=0;it<I;++it){let _=j;!_&&q!==null&&tt!==null&&(_=q+it*(tt-q)/(I-1)),_||(_=10+it*100/(I-1));let ht=J+it%nt*ot+2*Math.PI/Z*Math.floor(it/nt);T||(ht=Q-it%nt*ot-2*Math.PI/Z*Math.floor(it/nt)),ct[it].data.x=W[0]+Math.cos(ht)*_,ct[it].data.y=W[1]+Math.sin(ht)*_}return h&&ct.forEach(it=>{m.mergeNodeData(it.id,{x:it.data.x,y:it.data.y})}),{nodes:ct,edges:S}})}}const v=(i,h,m=!1)=>{const w=[(0,u.u)(h[0])],M={},Y=h.length;M[h[0].id]=!0;let K=0;return h.forEach((F,Z)=>{if(Z!==0)if((Z===Y-1||i.getDegree(F.id,"both")!==i.getDegree(h[Z+1].id,"both")||i.areNeighbors(w[K].id,F.id))&&!M[F.id])w.push((0,u.u)(F)),M[F.id]=!0,K++;else{const J=m?i.getSuccessors(w[K].id):i.getNeighbors(w[K].id);let Q=!1;for(let B=0;B<J.length;B++){const T=J[B];if(i.getDegree(T.id)===i.getDegree(F.id)&&!M[T.id]){w.push((0,u.u)(T)),M[T.id]=!0,Q=!0;break}}let L=0;for(;!Q&&(M[h[L].id]||(w.push((0,u.u)(h[L])),M[h[L].id]=!0,Q=!0),L++,L!==Y););}}),w};function c(i,h){const m=[];return h.forEach((w,M)=>{m.push((0,u.u)(w))}),m.sort((w,M)=>i.getDegree(w.id,"both")-i.getDegree(M.id,"both")),m}const o=(i,h,m)=>{let w=i,M=h,Y=m;return!w&&typeof window!="undefined"&&(w=window.innerWidth),!M&&typeof window!="undefined"&&(M=window.innerHeight),Y||(Y=[w/2,M/2]),[w,M,Y]}},63757:function(f,b,t){"use strict";t.d(b,{u:function(){return Y}});var r=t(97582),d=t(72137),u=t(25897),l=t(45607),a=t(4637),g=t(5192),v=t(70979),c=t(64912),o=t(10779),i=t(80628),h=t(85087),m=t(20464);const w={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},M={center:[0,0],comboPadding:10,treeKey:"combo"};class Y{constructor(Z={}){this.options=Z,this.id="comboCombined",this.options=Object.assign(Object.assign({},M),Z)}execute(Z,J){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,Z,J)})}assign(Z,J){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,Z,J)})}genericComboCombinedLayout(Z,J,Q){return(0,r.mG)(this,void 0,void 0,function*(){const L=this.initVals(Object.assign(Object.assign({},this.options),Q)),{center:B,treeKey:T,outerLayout:z}=L,G=J.getAllNodes().filter(_=>!_.data._isCombo),U=J.getAllNodes().filter(_=>_.data._isCombo),S=J.getAllEdges(),P=G==null?void 0:G.length;if(!P||P===1)return(0,m.P)(J,Z,B);const X=[],W=new Map;G.forEach(_=>{W.set(_.id,_)});const I=new Map;U.forEach(_=>{I.set(_.id,_)});const V=new Map,j=this.getInnerGraphs(J,T,W,I,S,L,V);yield Promise.all(j);const q=new Map,tt=[],ot=new Map;let ct=!0;J.getRoots(T).forEach(_=>{const ht=V.get(_.id),lt=I.get(_.id)||W.get(_.id),at={id:_.id,data:Object.assign(Object.assign({},_.data),{x:ht.data.x||lt.data.x,y:ht.data.y||lt.data.y,fx:ht.data.fx||lt.data.fx,fy:ht.data.fy||lt.data.fy,mass:ht.data.mass||lt.data.mass,size:ht.data.size})};tt.push(at),q.set(_.id,!0),!isNaN(at.data.x)&&at.data.x!==0&&!isNaN(at.data.y)&&at.data.y!==0?ct=!1:(at.data.x=Math.random()*100,at.data.y=Math.random()*100),(0,i._)(J,[_],Nt=>{Nt.id!==_.id&&ot.set(Nt.id,_.id)},"TB",T)});const nt=[];S.forEach(_=>{const ht=ot.get(_.source)||_.source,lt=ot.get(_.target)||_.target;ht!==lt&&q.has(ht)&&q.has(lt)&&nt.push({id:_.id,source:ht,target:lt,data:{}})});let gt;if(tt!=null&&tt.length){if(tt.length===1)tt[0].data.x=B[0],tt[0].data.y=B[1];else{const _=new d.k({nodes:tt,edges:nt}),ht=z||new v.y;ct&&w[ht.id]&&(yield(tt.length<100?new c.A:new g.W).assign(_));const lt=Object.assign({center:B,kg:5,preventOverlap:!0,animate:!1},ht.id==="force"?{gravity:1,factor:4,linkDistance:(at,Nt,vt)=>{const mt=Math.max(...Nt.data.size)||32,xt=Math.max(...vt.data.size)||32;return mt/2+xt/2+200}}:{});gt=yield K(ht,_,lt)}V.forEach(_=>{var ht;const lt=gt.nodes.find(vt=>vt.id===_.id);if(lt){const{x:vt,y:mt}=lt.data;_.data.visited=!0,_.data.x=vt,_.data.y=mt,X.push({id:_.id,data:{x:vt,y:mt}})}const{x:at,y:Nt}=_.data;(ht=_.data.nodes)===null||ht===void 0||ht.forEach(vt=>{X.push({id:vt.id,data:{x:vt.data.x+at,y:vt.data.y+Nt}})})}),V.forEach(({data:_})=>{const{x:ht,y:lt,visited:at,nodes:Nt}=_;Nt==null||Nt.forEach(vt=>{if(!at){const mt=X.find(xt=>xt.id===vt.id);mt.data.x+=ht||0,mt.data.y+=lt||0}})})}return Z&&X.forEach(_=>{J.mergeNodeData(_.id,{x:_.data.x,y:_.data.y})}),{nodes:X,edges:S}})}initVals(Z){const J=Object.assign({},Z),{nodeSize:Q,spacing:L,comboPadding:B}=Z;let T,z;if((0,u.Z)(L)?z=()=>L:(0,l.Z)(L)?z=L:z=()=>0,J.spacing=z,!Q)T=U=>{const S=z(U);return U.size?(0,h.k)(U.size)?((U.size[0]>U.size[1]?U.size[0]:U.size[1])+S)/2:(0,a.Z)(U.size)?((U.size.width>U.size.height?U.size.width:U.size.height)+S)/2:(U.size+S)/2:32+S/2};else if((0,l.Z)(Q))T=U=>{const S=Q(U),P=z(U);return(0,h.k)(U.size)?((U.size[0]>U.size[1]?U.size[0]:U.size[1])+P)/2:((S||32)+P)/2};else if((0,h.k)(Q)){const S=(Q[0]>Q[1]?Q[0]:Q[1])/2;T=P=>S+z(P)/2}else{const U=Q/2;T=S=>U+z(S)/2}J.nodeSize=T;let G;return(0,u.Z)(B)?G=()=>B:(0,h.k)(B)?G=()=>Math.max.apply(null,B):(0,l.Z)(B)?G=B:G=()=>0,J.comboPadding=G,J}getInnerGraphs(Z,J,Q,L,B,T,z){const{nodeSize:G,comboPadding:U,spacing:S,innerLayout:P}=T,X=P||new g.W({}),W={center:[0,0],preventOverlap:!0,nodeSpacing:S},I=[],V=j=>{let q=(U==null?void 0:U(j))||10;return(0,h.k)(q)&&(q=Math.max(...q)),{size:q?[q*2,q*2]:[30,30],padding:q}};return Z.getRoots(J).forEach(j=>{z.set(j.id,{id:j.id,data:{nodes:[],size:V(j).size}});let q=Promise.resolve();(0,i._)(Z,[j],tt=>{var ot;if(!tt.data._isCombo)return;const{size:ct,padding:nt}=V(tt);if(!(!((ot=Z.getChildren(tt.id,J))===null||ot===void 0)&&ot.length))z.set(tt.id,{id:tt.id,data:Object.assign(Object.assign({},tt.data),{size:ct})});else{const gt=z.get(tt.id);z.set(tt.id,{id:tt.id,data:Object.assign({nodes:[]},gt==null?void 0:gt.data)});const it=new Map,_=Z.getChildren(tt.id,J).map(at=>{if(at.data._isCombo)return z.has(at.id)||z.set(at.id,{id:at.id,data:Object.assign({},at.data)}),it.set(at.id,!0),z.get(at.id);const Nt=Q.get(at.id)||L.get(at.id);return it.set(at.id,!0),{id:at.id,data:Object.assign(Object.assign({},Nt.data),at.data)}}),ht={nodes:_,edges:B.filter(at=>it.has(at.source)&&it.has(at.target))};let lt=1/0;_.forEach(at=>{var Nt;let{size:vt}=at.data;vt||(vt=((Nt=z.get(at.id))===null||Nt===void 0?void 0:Nt.data.size)||(G==null?void 0:G(at))||[30,30]),(0,u.Z)(vt)&&(vt=[vt,vt]);const[mt,xt]=vt;lt>mt&&(lt=mt),lt>xt&&(lt=xt),at.data.size=vt}),q=q.then(()=>(0,r.mG)(this,void 0,void 0,function*(){const at=new d.k(ht);yield K(X,at,W,!0);const{minX:Nt,minY:vt,maxX:mt,maxY:xt}=(0,i.H0)(_),St={x:(mt+Nt)/2,y:(xt+vt)/2};ht.nodes.forEach(It=>{It.data.x-=St.x,It.data.y-=St.y});const Tt=[Math.max(mt-Nt,lt)+nt*2,Math.max(xt-vt,lt)+nt*2];z.get(tt.id).data.size=Tt,z.get(tt.id).data.nodes=_}))}return!0},"BT",J),I.push(q)}),I}}function K(F,Z,J,Q){var L;return(0,r.mG)(this,void 0,void 0,function*(){return(0,o.h)(F)?(F.execute(Z,J),F.stop(),F.tick((L=J.iterations)!==null&&L!==void 0?L:300)):Q?yield F.assign(Z,J):yield F.execute(Z,J)})}},5192:function(f,b,t){"use strict";t.d(b,{W:function(){return h}});var r=t(97582),d=t(45607),u=t(25897),l=t(4637),a=t(76714),g=t(85087),v=t(98130),c=t(20464),o=t(94754);const i={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class h{constructor(w={}){this.options=w,this.id="concentric",this.options=Object.assign(Object.assign({},i),w)}execute(w,M){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,w,M)})}assign(w,M){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,w,M)})}genericConcentricLayout(w,M,Y){return(0,r.mG)(this,void 0,void 0,function*(){const K=Object.assign(Object.assign({},this.options),Y),{center:F,width:Z,height:J,sortBy:Q,maxLevelDiff:L,sweep:B,clockwise:T,equidistant:z,preventOverlap:G,startAngle:U=3/2*Math.PI,nodeSize:S,nodeSpacing:P}=K,X=M.getAllNodes(),W=M.getAllEdges(),I=!Z&&typeof window!="undefined"?window.innerWidth:Z,V=!J&&typeof window!="undefined"?window.innerHeight:J,j=F||[I/2,V/2];if(!(X!=null&&X.length)||X.length===1)return(0,c.P)(M,w,j);const q=[];let tt,ot=0;(0,g.k)(S)?tt=Math.max(S[0],S[1]):(0,d.Z)(S)?(tt=-1/0,X.forEach(vt=>{const mt=Math.max(...(0,o._)(S(vt)));mt>tt&&(tt=mt)})):tt=S,(0,g.k)(P)?ot=Math.max(P[0],P[1]):(0,u.Z)(P)&&(ot=P),X.forEach(vt=>{const mt=(0,v.u)(vt);q.push(mt);let xt=tt;const{data:St}=mt;(0,g.k)(St.size)?xt=Math.max(St.size[0],St.size[1]):(0,u.Z)(St.size)?xt=St.size:(0,l.Z)(St.size)&&(xt=Math.max(St.size.width,St.size.height)),tt=Math.max(tt,xt),(0,d.Z)(P)&&(ot=Math.max(P(vt),ot))});const ct={};q.forEach((vt,mt)=>{ct[vt.id]=mt});let nt=Q;(!(0,a.Z)(nt)||q[0].data[nt]===void 0)&&(nt="degree"),nt==="degree"?q.sort((vt,mt)=>M.getDegree(mt.id,"both")-M.getDegree(vt.id,"both")):q.sort((vt,mt)=>mt.data[nt]-vt.data[nt]);const gt=q[0],it=(L||(nt==="degree"?M.getDegree(gt.id,"both"):gt.data[nt]))/4,_=[{nodes:[]}];let ht=_[0];q.forEach(vt=>{if(ht.nodes.length>0){const mt=Math.abs(nt==="degree"?M.getDegree(ht.nodes[0].id,"both")-M.getDegree(vt.id,"both"):ht.nodes[0].data[nt]-vt.data[nt]);it&&mt>=it&&(ht={nodes:[]},_.push(ht))}ht.nodes.push(vt)});let lt=tt+ot;if(!G){const vt=_.length>0&&_[0].nodes.length>1,xt=(Math.min(I,V)/2-lt)/(_.length+(vt?1:0));lt=Math.min(lt,xt)}let at=0;if(_.forEach(vt=>{const mt=B===void 0?2*Math.PI-2*Math.PI/vt.nodes.length:B;if(vt.dTheta=mt/Math.max(1,vt.nodes.length-1),vt.nodes.length>1&&G){const xt=Math.cos(vt.dTheta)-Math.cos(0),St=Math.sin(vt.dTheta)-Math.sin(0),Tt=Math.sqrt(lt*lt/(xt*xt+St*St));at=Math.max(Tt,at)}vt.r=at,at+=lt}),z){let vt=0,mt=0;for(let xt=0;xt<_.length;xt++){const Tt=(_[xt].r||0)-mt;vt=Math.max(vt,Tt)}mt=0,_.forEach((xt,St)=>{St===0&&(mt=xt.r||0),xt.r=mt,mt+=vt})}return _.forEach(vt=>{const mt=vt.dTheta||0,xt=vt.r||0;vt.nodes.forEach((St,Tt)=>{const It=U+(T?1:-1)*mt*Tt;St.data.x=j[0]+xt*Math.cos(It),St.data.y=j[1]+xt*Math.sin(It)})}),w&&q.forEach(vt=>M.mergeNodeData(vt.id,{x:vt.data.x,y:vt.data.y})),{nodes:q,edges:W}})}}},58745:function(f,b,t){"use strict";t.d(b,{j:function(){return X}});var r=t(97582),d=t(83787),u=t(23413);function l(I){return function(){return I}}function a(I){return(I()-.5)*1e-6}function g(I){return I.index}function v(I,V){var j=I.get(V);if(!j)throw new Error("node not found: "+V);return j}function c(I){var V=g,j=ht,q,tt=l(30),ot,ct,nt,gt,it,_=1;I==null&&(I=[]);function ht(mt){return 1/Math.min(nt[mt.source.index],nt[mt.target.index])}function lt(mt){for(var xt=0,St=I.length;xt<_;++xt)for(var Tt=0,It,Bt,Ht,Ut,Kt,ie,Gt;Tt<St;++Tt)It=I[Tt],Bt=It.source,Ht=It.target,Ut=Ht.x+Ht.vx-Bt.x-Bt.vx||a(it),Kt=Ht.y+Ht.vy-Bt.y-Bt.vy||a(it),ie=Math.sqrt(Ut*Ut+Kt*Kt),ie=(ie-ot[Tt])/ie*mt*q[Tt],Ut*=ie,Kt*=ie,Ht.vx-=Ut*(Gt=gt[Tt]),Ht.vy-=Kt*Gt,Bt.vx+=Ut*(Gt=1-Gt),Bt.vy+=Kt*Gt}function at(){if(ct){var mt,xt=ct.length,St=I.length,Tt=new Map(ct.map((Bt,Ht)=>[V(Bt,Ht,ct),Bt])),It;for(mt=0,nt=new Array(xt);mt<St;++mt)It=I[mt],It.index=mt,typeof It.source!="object"&&(It.source=v(Tt,It.source)),typeof It.target!="object"&&(It.target=v(Tt,It.target)),nt[It.source.index]=(nt[It.source.index]||0)+1,nt[It.target.index]=(nt[It.target.index]||0)+1;for(mt=0,gt=new Array(St);mt<St;++mt)It=I[mt],gt[mt]=nt[It.source.index]/(nt[It.source.index]+nt[It.target.index]);q=new Array(St),Nt(),ot=new Array(St),vt()}}function Nt(){if(ct)for(var mt=0,xt=I.length;mt<xt;++mt)q[mt]=+j(I[mt],mt,I)}function vt(){if(ct)for(var mt=0,xt=I.length;mt<xt;++mt)ot[mt]=+tt(I[mt],mt,I)}return lt.initialize=function(mt,xt){ct=mt,it=xt,at()},lt.links=function(mt){return arguments.length?(I=mt,at(),lt):I},lt.id=function(mt){return arguments.length?(V=mt,lt):V},lt.iterations=function(mt){return arguments.length?(_=+mt,lt):_},lt.strength=function(mt){return arguments.length?(j=typeof mt=="function"?mt:l(+mt),Nt(),lt):j},lt.distance=function(mt){return arguments.length?(tt=typeof mt=="function"?mt:l(+mt),vt(),lt):tt},lt}var o=t(81269),i=t(17049),h=t(91739);const m=1664525,w=1013904223,M=4294967296;function Y(){let I=1;return()=>(I=(m*I+w)%M)/M}function K(I){return I.x}function F(I){return I.y}var Z=10,J=Math.PI*(3-Math.sqrt(5));function Q(I){var V,j=1,q=.001,tt=1-Math.pow(q,1/300),ot=0,ct=.6,nt=new Map,gt=(0,h.HT)(ht),it=(0,i.Z)("tick","end"),_=Y();I==null&&(I=[]);function ht(){lt(),it.call("tick",V),j<q&&(gt.stop(),it.call("end",V))}function lt(vt){var mt,xt=I.length,St;vt===void 0&&(vt=1);for(var Tt=0;Tt<vt;++Tt)for(j+=(ot-j)*tt,nt.forEach(function(It){It(j)}),mt=0;mt<xt;++mt)St=I[mt],St.fx==null?St.x+=St.vx*=ct:(St.x=St.fx,St.vx=0),St.fy==null?St.y+=St.vy*=ct:(St.y=St.fy,St.vy=0);return V}function at(){for(var vt=0,mt=I.length,xt;vt<mt;++vt){if(xt=I[vt],xt.index=vt,xt.fx!=null&&(xt.x=xt.fx),xt.fy!=null&&(xt.y=xt.fy),isNaN(xt.x)||isNaN(xt.y)){var St=Z*Math.sqrt(.5+vt),Tt=vt*J;xt.x=St*Math.cos(Tt),xt.y=St*Math.sin(Tt)}(isNaN(xt.vx)||isNaN(xt.vy))&&(xt.vx=xt.vy=0)}}function Nt(vt){return vt.initialize&&vt.initialize(I,_),vt}return at(),V={tick:lt,restart:function(){return gt.restart(ht),V},stop:function(){return gt.stop(),V},nodes:function(vt){return arguments.length?(I=vt,at(),nt.forEach(Nt),V):I},alpha:function(vt){return arguments.length?(j=+vt,V):j},alphaMin:function(vt){return arguments.length?(q=+vt,V):q},alphaDecay:function(vt){return arguments.length?(tt=+vt,V):+tt},alphaTarget:function(vt){return arguments.length?(ot=+vt,V):ot},velocityDecay:function(vt){return arguments.length?(ct=1-vt,V):1-ct},randomSource:function(vt){return arguments.length?(_=vt,nt.forEach(Nt),V):_},force:function(vt,mt){return arguments.length>1?(mt==null?nt.delete(vt):nt.set(vt,Nt(mt)),V):nt.get(vt)},find:function(vt,mt,xt){var St=0,Tt=I.length,It,Bt,Ht,Ut,Kt;for(xt==null?xt=1/0:xt*=xt,St=0;St<Tt;++St)Ut=I[St],It=vt-Ut.x,Bt=mt-Ut.y,Ht=It*It+Bt*Bt,Ht<xt&&(Kt=Ut,xt=Ht);return Kt},on:function(vt,mt){return arguments.length>1?(it.on(vt,mt),V):it.on(vt)}}}function L(){var I,V,j,q,tt=l(-30),ot,ct=1,nt=1/0,gt=.81;function it(at){var Nt,vt=I.length,mt=(0,o.Z)(I,K,F).visitAfter(ht);for(q=at,Nt=0;Nt<vt;++Nt)V=I[Nt],mt.visit(lt)}function _(){if(I){var at,Nt=I.length,vt;for(ot=new Array(Nt),at=0;at<Nt;++at)vt=I[at],ot[vt.index]=+tt(vt,at,I)}}function ht(at){var Nt=0,vt,mt,xt=0,St,Tt,It;if(at.length){for(St=Tt=It=0;It<4;++It)(vt=at[It])&&(mt=Math.abs(vt.value))&&(Nt+=vt.value,xt+=mt,St+=mt*vt.x,Tt+=mt*vt.y);at.x=St/xt,at.y=Tt/xt}else{vt=at,vt.x=vt.data.x,vt.y=vt.data.y;do Nt+=ot[vt.data.index];while(vt=vt.next)}at.value=Nt}function lt(at,Nt,vt,mt){if(!at.value)return!0;var xt=at.x-V.x,St=at.y-V.y,Tt=mt-Nt,It=xt*xt+St*St;if(Tt*Tt/gt<It)return It<nt&&(xt===0&&(xt=a(j),It+=xt*xt),St===0&&(St=a(j),It+=St*St),It<ct&&(It=Math.sqrt(ct*It)),V.vx+=xt*at.value*q/It,V.vy+=St*at.value*q/It),!0;if(at.length||It>=nt)return;(at.data!==V||at.next)&&(xt===0&&(xt=a(j),It+=xt*xt),St===0&&(St=a(j),It+=St*St),It<ct&&(It=Math.sqrt(ct*It)));do at.data!==V&&(Tt=ot[at.data.index]*q/It,V.vx+=xt*Tt,V.vy+=St*Tt);while(at=at.next)}return it.initialize=function(at,Nt){I=at,j=Nt,_()},it.strength=function(at){return arguments.length?(tt=typeof at=="function"?at:l(+at),_(),it):tt},it.distanceMin=function(at){return arguments.length?(ct=at*at,it):Math.sqrt(ct)},it.distanceMax=function(at){return arguments.length?(nt=at*at,it):Math.sqrt(nt)},it.theta=function(at){return arguments.length?(gt=at*at,it):Math.sqrt(gt)},it}function B(I,V){var j,q=1;I==null&&(I=0),V==null&&(V=0);function tt(){var ot,ct=j.length,nt,gt=0,it=0;for(ot=0;ot<ct;++ot)nt=j[ot],gt+=nt.x,it+=nt.y;for(gt=(gt/ct-I)*q,it=(it/ct-V)*q,ot=0;ot<ct;++ot)nt=j[ot],nt.x-=gt,nt.y-=it}return tt.initialize=function(ot){j=ot},tt.x=function(ot){return arguments.length?(I=+ot,tt):I},tt.y=function(ot){return arguments.length?(V=+ot,tt):V},tt.strength=function(ot){return arguments.length?(q=+ot,tt):q},tt}function T(I){return I.x+I.vx}function z(I){return I.y+I.vy}function G(I){var V,j,q,tt=1,ot=1;typeof I!="function"&&(I=l(I==null?1:+I));function ct(){for(var it,_=V.length,ht,lt,at,Nt,vt,mt,xt=0;xt<ot;++xt)for(ht=(0,o.Z)(V,T,z).visitAfter(nt),it=0;it<_;++it)lt=V[it],vt=j[lt.index],mt=vt*vt,at=lt.x+lt.vx,Nt=lt.y+lt.vy,ht.visit(St);function St(Tt,It,Bt,Ht,Ut){var Kt=Tt.data,ie=Tt.r,Gt=vt+ie;if(Kt){if(Kt.index>lt.index){var ce=at-Kt.x-Kt.vx,re=Nt-Kt.y-Kt.vy,Jt=ce*ce+re*re;Jt<Gt*Gt&&(ce===0&&(ce=a(q),Jt+=ce*ce),re===0&&(re=a(q),Jt+=re*re),Jt=(Gt-(Jt=Math.sqrt(Jt)))/Jt*tt,lt.vx+=(ce*=Jt)*(Gt=(ie*=ie)/(mt+ie)),lt.vy+=(re*=Jt)*Gt,Kt.vx-=ce*(Gt=1-Gt),Kt.vy-=re*Gt)}return}return It>at+Gt||Ht<at-Gt||Bt>Nt+Gt||Ut<Nt-Gt}}function nt(it){if(it.data)return it.r=j[it.data.index];for(var _=it.r=0;_<4;++_)it[_]&&it[_].r>it.r&&(it.r=it[_].r)}function gt(){if(V){var it,_=V.length,ht;for(j=new Array(_),it=0;it<_;++it)ht=V[it],j[ht.index]=+I(ht,it,V)}}return ct.initialize=function(it,_){V=it,q=_,gt()},ct.iterations=function(it){return arguments.length?(ot=+it,ct):ot},ct.strength=function(it){return arguments.length?(tt=+it,ct):tt},ct.radius=function(it){return arguments.length?(I=typeof it=="function"?it:l(+it),gt(),ct):I},ct}function U(I,V,j){var q,tt=l(.1),ot,ct;typeof I!="function"&&(I=l(+I)),V==null&&(V=0),j==null&&(j=0);function nt(it){for(var _=0,ht=q.length;_<ht;++_){var lt=q[_],at=lt.x-V||1e-6,Nt=lt.y-j||1e-6,vt=Math.sqrt(at*at+Nt*Nt),mt=(ct[_]-vt)*ot[_]*it/vt;lt.vx+=at*mt,lt.vy+=Nt*mt}}function gt(){if(q){var it,_=q.length;for(ot=new Array(_),ct=new Array(_),it=0;it<_;++it)ct[it]=+I(q[it],it,q),ot[it]=isNaN(ct[it])?0:+tt(q[it],it,q)}}return nt.initialize=function(it){q=it,gt()},nt.strength=function(it){return arguments.length?(tt=typeof it=="function"?it:l(+it),gt(),nt):tt},nt.radius=function(it){return arguments.length?(I=typeof it=="function"?it:l(+it),gt(),nt):I},nt.x=function(it){return arguments.length?(V=+it,nt):V},nt.y=function(it){return arguments.length?(j=+it,nt):j},nt}function S(I){var V=l(.1),j,q,tt;typeof I!="function"&&(I=l(I==null?0:+I));function ot(nt){for(var gt=0,it=j.length,_;gt<it;++gt)_=j[gt],_.vx+=(tt[gt]-_.x)*q[gt]*nt}function ct(){if(j){var nt,gt=j.length;for(q=new Array(gt),tt=new Array(gt),nt=0;nt<gt;++nt)q[nt]=isNaN(tt[nt]=+I(j[nt],nt,j))?0:+V(j[nt],nt,j)}}return ot.initialize=function(nt){j=nt,ct()},ot.strength=function(nt){return arguments.length?(V=typeof nt=="function"?nt:l(+nt),ct(),ot):V},ot.x=function(nt){return arguments.length?(I=typeof nt=="function"?nt:l(+nt),ct(),ot):I},ot}function P(I){var V=l(.1),j,q,tt;typeof I!="function"&&(I=l(I==null?0:+I));function ot(nt){for(var gt=0,it=j.length,_;gt<it;++gt)_=j[gt],_.vy+=(tt[gt]-_.y)*q[gt]*nt}function ct(){if(j){var nt,gt=j.length;for(q=new Array(gt),tt=new Array(gt),nt=0;nt<gt;++nt)q[nt]=isNaN(tt[nt]=+I(j[nt],nt,j))?0:+V(j[nt],nt,j)}}return ot.initialize=function(nt){j=nt,ct()},ot.strength=function(nt){return arguments.length?(V=typeof nt=="function"?nt:l(+nt),ct(),ot):V},ot.y=function(nt){return arguments.length?(I=typeof nt=="function"?nt:l(+nt),ct(),ot):I},ot}class X{constructor(V){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:c,manyBody:L,center:B,collide:G,radial:U,x:S,y:P},this.options={link:{id:j=>j.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},(0,d.Z)(this.options,V),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(V,j){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericLayout(!1,V,j)})}assign(V,j){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericLayout(!0,V,j)})}stop(){this.simulation.stop()}tick(V){return this.simulation.tick(V),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(V,j){const q=this.context.nodes.find(tt=>tt.id===V);q&&j.forEach((tt,ot)=>{if(typeof tt=="number"||tt===null){const ct=["fx","fy","fz"][ot];q[ct]=tt}})}getOptions(V){var j,q;const tt=(0,d.Z)({},this.options,V);return tt.collide&&((j=tt.collide)===null||j===void 0?void 0:j.radius)===void 0&&(tt.collide=tt.collide||{},tt.collide.radius=(q=tt.nodeSize)!==null&&q!==void 0?q:10),tt.iterations===void 0&&(tt.link&&tt.link.iterations===void 0&&(tt.iterations=tt.link.iterations),tt.collide&&tt.collide.iterations===void 0&&(tt.iterations=tt.collide.iterations)),this.context.options=tt,tt}genericLayout(V,j,q){var tt;return(0,r.mG)(this,void 0,void 0,function*(){const ot=this.getOptions(q),ct=j.getAllNodes().map(({id:_,data:ht})=>Object.assign(Object.assign({id:_},ht),(0,u.Z)(ht.data,this.config.inputNodeAttrs))),nt=j.getAllEdges().map(_=>Object.assign({},_));Object.assign(this.context,{assign:V,nodes:ct,edges:nt,graph:j});const gt=new Promise(_=>{this.resolver=_}),it=this.setSimulation(ot);return it.nodes(ct),(tt=it.force("link"))===null||tt===void 0||tt.links(nt),gt})}getResult(){const{assign:V,nodes:j,edges:q,graph:tt}=this.context,ot=j.map(nt=>({id:nt.id,data:Object.assign(Object.assign({},nt.data),(0,u.Z)(nt,this.config.outputNodeAttrs))})),ct=q.map(({id:nt,source:gt,target:it,data:_})=>({id:nt,source:typeof gt=="object"?gt.id:gt,target:typeof it=="object"?it.id:it,data:_}));return V&&ot.forEach(nt=>tt.mergeNodeData(nt.id,nt.data)),{nodes:ot,edges:ct}}initSimulation(){return Q()}setSimulation(V){const j=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=j.on("tick",()=>{var q;return(q=V.onTick)===null||q===void 0?void 0:q.call(V,this.getResult())}).on("end",()=>{var q;return(q=this.resolver)===null||q===void 0?void 0:q.call(this,this.getResult())})),W(j,this.config.simulationAttrs.map(q=>[q,V[q]])),Object.entries(this.forceMap).forEach(([q,tt])=>{const ot=q;if(V[q]){let ct=j.force(ot);ct||(ct=tt(),j.force(ot,ct)),W(ct,Object.entries(V[ot]))}else j.force(ot,null)}),j}}const W=(I,V)=>V.reduce((j,[q,tt])=>!j[q]||tt===void 0?j:j[q].call(I,tt),I)},21183:function(f,b,t){"use strict";t.d(b,{V:function(){return v}});var r=t(97582),d=t(25897),u=t(45607),l=t(70681),a=t.n(l),g=t(94754);class v{constructor(o){this.id="dagre",this.options={},Object.assign(this.options,v.defaultOptions,o)}execute(o,i){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,o,Object.assign(Object.assign({},this.options),i))})}assign(o,i){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,o,Object.assign(Object.assign({},this.options),i))})}genericDagreLayout(o,i,h){return(0,r.mG)(this,void 0,void 0,function*(){const{nodeSize:m}=h,w=new l.graphlib.Graph;w.setGraph(h),w.setDefaultEdgeLabel(()=>({}));const M=i.getAllNodes(),Y=i.getAllEdges();[...M,...Y].some(({id:F})=>(0,d.Z)(F))&&console.error("Dagre layout only support string id, it will convert number to string."),i.getAllNodes().forEach(F=>{const{id:Z}=F,J=Object.assign({},F.data);if(m!==void 0){const[Q,L]=(0,g._)((0,u.Z)(m)?m(F):m);Object.assign(J,{width:Q,height:L})}w.setNode(Z.toString(),J)}),i.getAllEdges().forEach(({id:F,source:Z,target:J})=>{w.setEdge(Z.toString(),J.toString(),{id:F})}),a().layout(w);const K={nodes:[],edges:[]};return w.nodes().forEach(F=>{const Z=w.node(F);K.nodes.push({id:F,data:Z}),o&&i.mergeNodeData(F,Z)}),w.edges().forEach(F=>{const Z=w.edge(F),{id:J}=Z,Q=(0,r._T)(Z,["id"]),{v:L,w:B}=F;K.edges.push({id:J,source:L,target:B,data:Q}),o&&i.mergeEdgeData(J,Q)}),K})}}v.defaultOptions={}},40476:function(f,b,t){"use strict";t.d(b,{E:function(){return h}});var r=t(97582),d=t(72137),u=t(25897),l=t(98130),a=t(78732),g=t(20464);class v{constructor(w){this.id=w.id||0,this.rx=w.rx,this.ry=w.ry,this.fx=0,this.fy=0,this.mass=w.mass,this.degree=w.degree,this.g=w.g||0}distanceTo(w){const M=this.rx-w.rx,Y=this.ry-w.ry;return Math.hypot(M,Y)}setPos(w,M){this.rx=w,this.ry=M}resetForce(){this.fx=0,this.fy=0}addForce(w){const M=w.rx-this.rx,Y=w.ry-this.ry;let K=Math.hypot(M,Y);K=K<1e-4?1e-4:K;const F=this.g*(this.degree+1)*(w.degree+1)/K;this.fx+=F*M/K,this.fy+=F*Y/K}in(w){return w.contains(this.rx,this.ry)}add(w){const M=this.mass+w.mass,Y=(this.rx*this.mass+w.rx*w.mass)/M,K=(this.ry*this.mass+w.ry*w.mass)/M,F=this.degree+w.degree,Z={rx:Y,ry:K,mass:M,degree:F};return new v(Z)}}class c{constructor(w){this.xmid=w.xmid,this.ymid=w.ymid,this.length=w.length,this.massCenter=w.massCenter||[0,0],this.mass=w.mass||1}getLength(){return this.length}contains(w,M){const Y=this.length/2;return w<=this.xmid+Y&&w>=this.xmid-Y&&M<=this.ymid+Y&&M>=this.ymid-Y}NW(){const w=this.xmid-this.length/4,M=this.ymid+this.length/4,Y=this.length/2,K={xmid:w,ymid:M,length:Y};return new c(K)}NE(){const w=this.xmid+this.length/4,M=this.ymid+this.length/4,Y=this.length/2,K={xmid:w,ymid:M,length:Y};return new c(K)}SW(){const w=this.xmid-this.length/4,M=this.ymid-this.length/4,Y=this.length/2,K={xmid:w,ymid:M,length:Y};return new c(K)}SE(){const w=this.xmid+this.length/4,M=this.ymid-this.length/4,Y=this.length/2,K={xmid:w,ymid:M,length:Y};return new c(K)}}class o{constructor(w){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,w!=null&&(this.quad=w)}insert(w){if(this.body==null){this.body=w;return}this._isExternal()?(this.quad&&(this.NW=new o(this.quad.NW()),this.NE=new o(this.quad.NE()),this.SW=new o(this.quad.SW()),this.SE=new o(this.quad.SE())),this._putBody(this.body),this._putBody(w),this.body=this.body.add(w)):(this.body=this.body.add(w),this._putBody(w))}_putBody(w){this.quad&&(w.in(this.quad.NW())&&this.NW?this.NW.insert(w):w.in(this.quad.NE())&&this.NE?this.NE.insert(w):w.in(this.quad.SW())&&this.SW?this.SW.insert(w):w.in(this.quad.SE())&&this.SE&&this.SE.insert(w))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(w){if(!(this.body==null||w===this.body))if(this._isExternal())w.addForce(this.body);else{const M=this.quad?this.quad.getLength():0,Y=this.body.distanceTo(w);M/Y<this.theta?w.addForce(this.body):(this.NW&&this.NW.updateForce(w),this.NE&&this.NE.updateForce(w),this.SW&&this.SW.updateForce(w),this.SE&&this.SE.updateForce(w))}}}const i={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class h{constructor(w={}){this.options=w,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},i),w)}execute(w,M){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,w,M)})}assign(w,M){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,w,M)})}genericForceAtlas2Layout(w,M,Y){return(0,r.mG)(this,void 0,void 0,function*(){const K=M.getAllEdges(),F=M.getAllNodes(),Z=this.formatOptions(Y,F.length),{width:J,height:Q,prune:L,maxIteration:B,nodeSize:T,center:z}=Z;if(!(F!=null&&F.length)||F.length===1)return(0,g.P)(M,w,z);const G=F.map(X=>(0,l.u)(X,[J,Q])),U=K.filter(X=>{const{source:W,target:I}=X;return W!==I}),S=new d.k({nodes:G,edges:U}),P=this.getSizes(S,T);if(this.run(S,M,B,P,w,Z),L){for(let W=0;W<U.length;W+=1){const{source:I,target:V}=U[W],j=S.getDegree(I),q=S.getDegree(I);if(j<=1){const tt=S.getNode(V);S.mergeNodeData(I,{x:tt.data.x,y:tt.data.y})}else if(q<=1){const tt=S.getNode(I);S.mergeNodeData(V,{x:tt.data.x,y:tt.data.y})}}const X=Object.assign(Object.assign({},Z),{prune:!1,barnesHut:!1});this.run(S,M,100,P,w,X)}return{nodes:G,edges:K}})}getSizes(w,M){const Y=w.getAllNodes(),K={};for(let F=0;F<Y.length;F+=1){const Z=Y[F];K[Z.id]=(0,a.uE)(M,void 0)(Z)}return K}formatOptions(w={},M){const Y=Object.assign(Object.assign({},this.options),w),{center:K,width:F,height:Z,barnesHut:J,prune:Q,maxIteration:L,kr:B,kg:T}=Y;return Y.width=!F&&typeof window!="undefined"?window.innerWidth:F,Y.height=!Z&&typeof window!="undefined"?window.innerHeight:Z,Y.center=K||[Y.width/2,Y.height/2],J===void 0&&M>250&&(Y.barnesHut=!0),Q===void 0&&M>100&&(Y.prune=!0),L===0&&!Q?(Y.maxIteration=250,M<=200&&M>100?Y.maxIteration=1e3:M>200&&(Y.maxIteration=1200)):L===0&&Q&&(Y.maxIteration=100,M<=200&&M>100?Y.maxIteration=500:M>200&&(Y.maxIteration=950)),B||(Y.kr=50,M>100&&M<=500?Y.kr=20:M>500&&(Y.kr=1)),T||(Y.kg=20,M>100&&M<=500?Y.kg=10:M>500&&(Y.kg=1)),Y}run(w,M,Y,K,F,Z){const{kr:J,barnesHut:Q,onTick:L}=Z,B=w.getAllNodes();let T=0,z=Y;const G={},U={},S={};for(let P=0;P<B.length;P+=1){const{data:X,id:W}=B[P];if(G[W]=[0,0],Q){const I={id:P,rx:X.x,ry:X.y,mass:1,g:J,degree:w.getDegree(W)};S[W]=new v(I)}}for(;z>0;)T=this.oneStep(w,{iter:z,preventOverlapIters:50,krPrime:100,sg:T,forces:G,preForces:U,bodies:S,sizes:K},Z),z--,L==null||L({nodes:B,edges:M.getAllEdges()});return w}oneStep(w,M,Y){const{iter:K,preventOverlapIters:F,krPrime:Z,sg:J,preForces:Q,bodies:L,sizes:B}=M;let{forces:T}=M;const{preventOverlap:z,barnesHut:G}=Y,U=w.getAllNodes();for(let S=0;S<U.length;S+=1){const{id:P}=U[S];Q[P]=[...T[P]],T[P]=[0,0]}return T=this.getAttrForces(w,K,F,B,T,Y),G&&(z&&K>F||!z)?T=this.getOptRepGraForces(w,T,L,Y):T=this.getRepGraForces(w,K,F,T,Z,B,Y),this.updatePos(w,T,Q,J,Y)}getAttrForces(w,M,Y,K,F,Z){const{preventOverlap:J,dissuadeHubs:Q,mode:L,prune:B}=Z,T=w.getAllEdges();for(let z=0;z<T.length;z+=1){const{source:G,target:U}=T[z],S=w.getNode(G),P=w.getNode(U),X=w.getDegree(G),W=w.getDegree(U);if(B&&(X<=1||W<=1))continue;const I=[P.data.x-S.data.x,P.data.y-S.data.y];let V=Math.hypot(I[0],I[1]);V=V<1e-4?1e-4:V,I[0]=I[0]/V,I[1]=I[1]/V,J&&M<Y&&(V=V-K[G]-K[U]);let j=V,q=j;L==="linlog"&&(j=Math.log(1+V),q=j),Q&&(j=V/X,q=V/W),J&&M<Y&&V<=0?(j=0,q=0):J&&M<Y&&V>0&&(j=V,q=V),F[G][0]+=j*I[0],F[U][0]-=q*I[0],F[G][1]+=j*I[1],F[U][1]-=q*I[1]}return F}getOptRepGraForces(w,M,Y,K){const{kg:F,center:Z,prune:J}=K,Q=w.getAllNodes(),L=Q.length;let B=9e10,T=-9e10,z=9e10,G=-9e10;for(let W=0;W<L;W+=1){const{id:I,data:V}=Q[W];J&&w.getDegree(I)<=1||(Y[I].setPos(V.x,V.y),V.x>=T&&(T=V.x),V.x<=B&&(B=V.x),V.y>=G&&(G=V.y),V.y<=z&&(z=V.y))}const U=Math.max(T-B,G-z),S={xmid:(T+B)/2,ymid:(G+z)/2,length:U,massCenter:Z,mass:L},P=new c(S),X=new o(P);for(let W=0;W<L;W+=1){const{id:I}=Q[W];J&&w.getDegree(I)<=1||Y[I].in(P)&&X.insert(Y[I])}for(let W=0;W<L;W+=1){const{id:I,data:V}=Q[W],j=w.getDegree(I);if(J&&j<=1)continue;Y[I].resetForce(),X.updateForce(Y[I]),M[I][0]-=Y[I].fx,M[I][1]-=Y[I].fy;const q=[V.x-Z[0],V.y-Z[1]];let tt=Math.hypot(q[0],q[1]);tt=tt<1e-4?1e-4:tt,q[0]=q[0]/tt,q[1]=q[1]/tt;const ot=F*(j+1);M[I][0]-=ot*q[0],M[I][1]-=ot*q[1]}return M}getRepGraForces(w,M,Y,K,F,Z,J){const{preventOverlap:Q,kr:L,kg:B,center:T,prune:z}=J,G=w.getAllNodes(),U=G.length;for(let S=0;S<U;S+=1){const P=G[S],X=w.getDegree(P.id);for(let j=S+1;j<U;j+=1){const q=G[j],tt=w.getDegree(q.id);if(z&&(X<=1||tt<=1))continue;const ot=[q.data.x-P.data.x,q.data.y-P.data.y];let ct=Math.hypot(ot[0],ot[1]);ct=ct<1e-4?1e-4:ct,ot[0]=ot[0]/ct,ot[1]=ot[1]/ct,Q&&M<Y&&(ct=ct-Z[P.id]-Z[q.id]);let nt=L*(X+1)*(tt+1)/ct;Q&&M<Y&&ct<0?nt=F*(X+1)*(tt+1):Q&&M<Y&&ct===0?nt=0:Q&&M<Y&&ct>0&&(nt=L*(X+1)*(tt+1)/ct),K[P.id][0]-=nt*ot[0],K[q.id][0]+=nt*ot[0],K[P.id][1]-=nt*ot[1],K[q.id][1]+=nt*ot[1]}const W=[P.data.x-T[0],P.data.y-T[1]],I=Math.hypot(W[0],W[1]);W[0]=W[0]/I,W[1]=W[1]/I;const V=B*(X+1);K[P.id][0]-=V*W[0],K[P.id][1]-=V*W[1]}return K}updatePos(w,M,Y,K,F){const{ks:Z,tao:J,prune:Q,ksmax:L}=F,B=w.getAllNodes(),T=B.length,z=[],G=[];let U=0,S=0,P=K;for(let W=0;W<T;W+=1){const{id:I}=B[W],V=w.getDegree(I);if(Q&&V<=1)continue;const j=[M[I][0]-Y[I][0],M[I][1]-Y[I][1]],q=Math.hypot(j[0],j[1]),tt=[M[I][0]+Y[I][0],M[I][1]+Y[I][1]],ot=Math.hypot(tt[0],tt[1]);z[W]=q,G[W]=ot/2,U+=(V+1)*z[W],S+=(V+1)*G[W]}const X=P;P=J*S/U,X!==0&&(P=P>1.5*X?1.5*X:P);for(let W=0;W<T;W+=1){const{id:I,data:V}=B[W],j=w.getDegree(I);if(Q&&j<=1||(0,u.Z)(V.fx)&&(0,u.Z)(V.fy))continue;let q=Z*P/(1+P*Math.sqrt(z[W])),tt=Math.hypot(M[I][0],M[I][1]);tt=tt<1e-4?1e-4:tt;const ot=L/tt;q=q>ot?ot:q;const ct=q*M[I][0],nt=q*M[I][1];w.mergeNodeData(I,{x:V.x+ct,y:V.y+nt})}return P}}},70979:function(f,b,t){"use strict";t.d(b,{y:function(){return M}});var r=t(97582),d=t(72137),u=t(25897),l=t(78732),a=t(81269),g=t(30423);const v=.81,c=.1;function o(Q,L,B,T,z=2){const G=L/B,U=Q.getAllNodes(),S=U.map((W,I)=>{const{nodeStrength:V,x:j,y:q,z:tt,size:ot}=W.data;return{x:j,y:q,z:tt,size:ot,index:I,id:W.id,vx:0,vy:0,vz:0,weight:G*V}}),P=(z===2?(0,a.Z)(S,W=>W.x,W=>W.y):(0,g.Z)(S,W=>W.x,W=>W.y,W=>W.z)).visitAfter(i),X=new Map;return S.forEach(W=>{X.set(W.id,W),m(W,P,z)}),S.map((W,I)=>{const{id:V,data:j}=U[I],{mass:q=1}=j;T[V]={x:W.vx/q,y:W.vy/q,z:W.vz/q}}),T}function i(Q){let L=0,B=0,T=0,z=0,G=0;const U=Q.length;if(U){for(let S=0;S<U;S++){const P=Q[S];P&&P.weight&&(L+=P.weight,B+=P.x*P.weight,T+=P.y*P.weight,z+=P.z*P.weight,G+=P.size*P.weight)}Q.x=B/L,Q.y=T/L,Q.z=z/L,Q.size=G/L,Q.weight=L}else{const S=Q;Q.x=S.data.x,Q.y=S.data.y,Q.z=S.data.z,Q.size=S.data.size,Q.weight=S.data.weight}}const h=(Q,L,B,T,z,G,U)=>{var S;if(((S=Q.data)===null||S===void 0?void 0:S.id)===G.id)return;const P=[B,T,z][U-1],X=G.x-Q.x||c,W=G.y-Q.y||c,I=G.z-Q.z||c,V=[X,W,I],j=P-L;let q=0;for(let ct=0;ct<U;ct++)q+=V[ct]*V[ct];const ot=Math.sqrt(q)*q;if(j*j*v<q){const ct=Q.weight/ot;return G.vx+=X*ct,G.vy+=W*ct,G.vz+=I*ct,!0}if(Q.length)return!1;if(Q.data!==G){const ct=Q.data.weight/ot;G.vx+=X*ct,G.vy+=W*ct,G.vz+=I*ct}};function m(Q,L,B){L.visit((T,z,G,U,S)=>h(T,z,G,U,S,Q,B))}const w={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class M{constructor(L={}){this.options=L,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},w),L)}execute(L,B){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericForceLayout(!1,L,B)})}assign(L,B){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,L,B)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(L=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let T=0;(this.judgingDistance>this.lastOptions.minMovement||T<1)&&T<L;T++)this.runOneStep(this.lastCalcGraph,this.lastGraph,T,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const B={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&B.nodes.forEach(T=>this.lastGraph.mergeNodeData(T.id,{x:T.data.x,y:T.data.y,z:this.options.dimensions===3?T.data.z:void 0})),B}genericForceLayout(L,B,T){return(0,r.mG)(this,void 0,void 0,function*(){const z=Object.assign(Object.assign({},this.options),T),G=B.getAllNodes(),U=B.getAllEdges(),S=this.formatOptions(z,B),{dimensions:P,width:X,height:W,nodeSize:I,getMass:V,nodeStrength:j,edgeStrength:q,linkDistance:tt}=S,ot=G.map((at,Nt)=>Object.assign(Object.assign({},at),{data:Object.assign(Object.assign({},at.data),{x:(0,u.Z)(at.data.x)?at.data.x:Math.random()*X,y:(0,u.Z)(at.data.y)?at.data.y:Math.random()*W,z:(0,u.Z)(at.data.z)?at.data.z:Math.random()*Math.sqrt(X*W),size:I(at)||30,mass:V(at),nodeStrength:j(at)})})),ct=U.map(at=>Object.assign(Object.assign({},at),{data:Object.assign(Object.assign({},at.data),{edgeStrength:q(at),linkDistance:tt(at,B.getNode(at.source),B.getNode(at.target))})}));if(!(G!=null&&G.length))return this.lastResult={nodes:[],edges:U},{nodes:[],edges:U};const nt={};G.forEach((at,Nt)=>{nt[at.id]={x:0,y:0,z:0}});const gt=new d.k({nodes:ot,edges:ct});this.formatCentripetal(S,gt);const{maxIteration:it,minMovement:_,onTick:ht}=S;if(this.lastLayoutNodes=ot,this.lastLayoutEdges=ct,this.lastAssign=L,this.lastGraph=B,this.lastCalcGraph=gt,this.lastOptions=S,this.lastVelMap=nt,typeof window=="undefined")return;let lt=0;return new Promise(at=>{this.timeInterval=window.setInterval(()=>{(!G||!this.running)&&at({nodes:J(B,ot),edges:U}),this.runOneStep(gt,B,lt,nt,S),this.updatePosition(B,gt,nt,S),L&&ot.forEach(Nt=>B.mergeNodeData(Nt.id,{x:Nt.data.x,y:Nt.data.y,z:P===3?Nt.data.z:void 0})),ht==null||ht({nodes:J(B,ot),edges:U}),lt++,(lt>=it||this.judgingDistance<_)&&(window.clearInterval(this.timeInterval),at({nodes:J(B,ot),edges:U}))},0),this.running=!0})})}formatOptions(L,B){const T=Object.assign({},L),{width:z,height:G,getMass:U}=L;T.width=!z&&typeof window!="undefined"?window.innerWidth:z,T.height=!G&&typeof window!="undefined"?window.innerHeight:G,L.center||(T.center=[T.width/2,T.height/2]),U||(T.getMass=P=>{let X=1;(0,u.Z)(P==null?void 0:P.data.mass)&&(X=P==null?void 0:P.data.mass);const W=B.getDegree(P.id,"both");return!W||W<5?X:W*5*X}),T.nodeSize=(0,l.uE)(L.nodeSize,L.nodeSpacing);const S=L.linkDistance?(0,l.jE)(1,L.linkDistance):P=>1+T.nodeSize(B.getNode(P.source))+T.nodeSize(B.getNode(P.target));return T.linkDistance=S,T.nodeStrength=(0,l.jE)(1,L.nodeStrength),T.edgeStrength=(0,l.jE)(1,L.edgeStrength),T}formatCentripetal(L,B){const{dimensions:T,centripetalOptions:z,center:G,clusterNodeStrength:U,leafCluster:S,clustering:P,nodeClusterBy:X}=L,W=B.getAllNodes(),I=z||{leaf:2,single:2,others:1,center:ct=>({x:G[0],y:G[1],z:T===3?G[2]:void 0})};typeof U!="function"&&(L.clusterNodeStrength=ct=>U);let V,j;if(S&&X&&(V=Y(B,X),j=Array.from(new Set(W==null?void 0:W.map(ct=>ct.data[X])))||[],L.centripetalOptions=Object.assign(I,{single:100,leaf:ct=>{const{siblingLeaves:nt,sameTypeLeaves:gt}=V[ct.id]||{};return(gt==null?void 0:gt.length)===(nt==null?void 0:nt.length)||(j==null?void 0:j.length)===1?1:L.clusterNodeStrength(ct)},others:1,center:ct=>{const nt=B.getDegree(ct.id,"both");if(!nt)return{x:100,y:100,z:0};let gt;if(nt===1){const{sameTypeLeaves:it=[]}=V[ct.id]||{};it.length===1?gt=void 0:it.length>1&&(gt=Z(it))}else gt=void 0;return{x:gt==null?void 0:gt.x,y:gt==null?void 0:gt.y,z:gt==null?void 0:gt.z}}})),P&&X){V||(V=Y(B,X)),j||(j=Array.from(new Set(W.map(nt=>nt.data[X])))),j=j.filter(nt=>nt!==void 0);const ct={};j.forEach(nt=>{const gt=W.filter(it=>it.data[X]===nt).map(it=>B.getNode(it.id));ct[nt]=Z(gt)}),L.centripetalOptions=Object.assign(I,{single:nt=>L.clusterNodeStrength(nt),leaf:nt=>L.clusterNodeStrength(nt),others:nt=>L.clusterNodeStrength(nt),center:nt=>{const gt=ct[nt.data[X]];return{x:gt==null?void 0:gt.x,y:gt==null?void 0:gt.y,z:gt==null?void 0:gt.z}}})}const{leaf:q,single:tt,others:ot}=L.centripetalOptions||{};q&&typeof q!="function"&&(L.centripetalOptions.leaf=()=>q),tt&&typeof tt!="function"&&(L.centripetalOptions.single=()=>tt),ot&&typeof ot!="function"&&(L.centripetalOptions.others=()=>ot)}runOneStep(L,B,T,z,G){const U={},S=L.getAllNodes(),P=L.getAllEdges();if(!(S!=null&&S.length))return;const{monitor:X}=G;if(this.calRepulsive(L,U,G),P&&this.calAttractive(L,U,G),this.calGravity(L,B,U,G),this.updateVelocity(L,U,z,G),X){const W=this.calTotalEnergy(U,S);X({energy:W,nodes:B.getAllNodes(),edges:B.getAllEdges(),iterations:T})}}calTotalEnergy(L,B){if(!(B!=null&&B.length))return 0;let T=0;return B.forEach((z,G)=>{const U=L[z.id].x,S=L[z.id].y,P=this.options.dimensions===3?L[z.id].z:0,X=U*U+S*S+P*P,{mass:W=1}=z.data;T+=W*X*.5}),T}calRepulsive(L,B,T){const{dimensions:z,factor:G,coulombDisScale:U}=T;o(L,G,U*U,B,z)}calAttractive(L,B,T){const{dimensions:z,nodeSize:G}=T;L.getAllEdges().forEach((U,S)=>{const{source:P,target:X}=U,W=L.getNode(P),I=L.getNode(X);if(!W||!I)return;let V=I.data.x-W.data.x,j=I.data.y-W.data.y,q=z===3?I.data.z-W.data.z:0;!V&&!j&&(V=Math.random()*.01,j=Math.random()*.01,z===3&&!q&&(q=Math.random()*.01));const tt=Math.sqrt(V*V+j*j+q*q);if(tt<G(W)+G(I))return;const ot=V/tt,ct=j/tt,nt=q/tt,{linkDistance:gt=200,edgeStrength:it=200}=U.data||{},ht=(gt-tt)*it,lt=W.data.mass||1,at=I.data.mass||1,Nt=1/lt,vt=1/at,mt=ot*ht,xt=ct*ht,St=nt*ht;B[P].x-=mt*Nt,B[P].y-=xt*Nt,B[P].z-=St*Nt,B[X].x+=mt*vt,B[X].y+=xt*vt,B[X].z+=St*vt})}calGravity(L,B,T,z){const{getCenter:G}=z,U=L.getAllNodes(),S=B.getAllNodes(),P=B.getAllEdges(),{width:X,height:W,center:I,gravity:V,centripetalOptions:j}=z;U&&U.forEach(q=>{const{id:tt,data:ot}=q,{mass:ct,x:nt,y:gt,z:it}=ot,_=B.getNode(tt);let ht=0,lt=0,at=0,Nt=V;const vt=L.getDegree(tt,"in"),mt=L.getDegree(tt,"out"),xt=L.getDegree(tt,"both"),St=G==null?void 0:G(_,xt);if(St){const[Tt,It,Bt]=St;ht=nt-Tt,lt=gt-It,Nt=Bt}else ht=nt-I[0],lt=gt-I[1],at=it-I[2];if(Nt&&(T[tt].x-=Nt*ht/ct,T[tt].y-=Nt*lt/ct,T[tt].z-=Nt*at/ct),j){const{leaf:Tt,single:It,others:Bt,center:Ht}=j,{x:Ut,y:Kt,z:ie,centerStrength:Gt}=(Ht==null?void 0:Ht(_,S,P,X,W))||{x:0,y:0,z:0,centerStrength:0};if(!(0,u.Z)(Ut)||!(0,u.Z)(Kt))return;const ce=(nt-Ut)/ct,re=(gt-Kt)/ct,Jt=(it-ie)/ct;if(Gt&&(T[tt].x-=Gt*ce,T[tt].y-=Gt*re,T[tt].z-=Gt*Jt),xt===0){const le=It(_);if(!le)return;T[tt].x-=le*ce,T[tt].y-=le*re,T[tt].z-=le*Jt;return}if(vt===0||mt===0){const le=Tt(_,S,P);if(!le)return;T[tt].x-=le*ce,T[tt].y-=le*re,T[tt].z-=le*Jt;return}const Dt=Bt(_);if(!Dt)return;T[tt].x-=Dt*ce,T[tt].y-=Dt*re,T[tt].z-=Dt*Jt}})}updateVelocity(L,B,T,z){const{damping:G,maxSpeed:U,interval:S,dimensions:P}=z,X=L.getAllNodes();X!=null&&X.length&&X.forEach(W=>{const{id:I}=W;let V=(T[I].x+B[I].x*S)*G||.01,j=(T[I].y+B[I].y*S)*G||.01,q=P===3?(T[I].z+B[I].z*S)*G||.01:0;const tt=Math.sqrt(V*V+j*j+q*q);if(tt>U){const ot=U/tt;V=ot*V,j=ot*j,q=ot*q}T[I]={x:V,y:j,z:q}})}updatePosition(L,B,T,z){const{distanceThresholdMode:G,interval:U,dimensions:S}=z,P=B.getAllNodes();if(!(P!=null&&P.length)){this.judgingDistance=0;return}let X=0;G==="max"?this.judgingDistance=-1/0:G==="min"&&(this.judgingDistance=1/0),P.forEach(W=>{const{id:I}=W,V=L.getNode(I);if((0,u.Z)(V.data.fx)&&(0,u.Z)(V.data.fy)){B.mergeNodeData(I,{x:V.data.fx,y:V.data.fy,z:S===3?V.data.fz:void 0});return}const j=T[I].x*U,q=T[I].y*U,tt=S===3?T[I].z*U:0;B.mergeNodeData(I,{x:W.data.x+j,y:W.data.y+q,z:W.data.z+tt});const ot=Math.sqrt(j*j+q*q+tt*tt);switch(G){case"max":this.judgingDistance<ot&&(this.judgingDistance=ot);break;case"min":this.judgingDistance>ot&&(this.judgingDistance=ot);break;default:X=X+ot;break}}),(!G||G==="mean")&&(this.judgingDistance=X/P.length)}}const Y=(Q,L)=>{const B=Q.getAllNodes();if(!(B!=null&&B.length))return{};const T={};return B.forEach((z,G)=>{Q.getDegree(z.id,"both")===1&&(T[z.id]=K(Q,"leaf",z,L))}),T},K=(Q,L,B,T)=>{const z=Q.getDegree(B.id,"in"),G=Q.getDegree(B.id,"out");let U=B,S=[];z===0?(U=Q.getSuccessors(B.id)[0],S=Q.getNeighbors(U.id)):G===0&&(U=Q.getPredecessors(B.id)[0],S=Q.getNeighbors(U.id)),S=S.filter(X=>Q.getDegree(X.id,"in")===0||Q.getDegree(X.id,"out")===0);const P=F(Q,L,T,B,S);return{coreNode:U,siblingLeaves:S,sameTypeLeaves:P}},F=(Q,L,B,T,z)=>{const G=T.data[B]||"";let U=(z==null?void 0:z.filter(S=>S.data[B]===G))||[];return L==="leaf"&&(U=U.filter(S=>Q.getDegree(S.id,"in")===0||Q.getDegree(S.id,"out")===0)),U},Z=Q=>{const L={x:0,y:0};Q.forEach(T=>{const{x:z,y:G}=T.data;L.x+=z||0,L.y+=G||0});const B=Q.length||1;return{x:L.x/B,y:L.y/B}},J=(Q,L)=>L.map(B=>{const{id:T,data:z}=B,G=Q.getNode(T);return Object.assign(Object.assign({},G),{data:Object.assign(Object.assign({},G.data),{x:z.x,y:z.y,z:z.z})})})},89469:function(f,b,t){"use strict";t.d(b,{O:function(){return v}});var r=t(97582),d=t(72137),u=t(25897),l=t(98130);const a={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},g=800;class v{constructor(o={}){this.options=o,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},a),o)}execute(o,i){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,o,i)})}assign(o,i){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,o,i)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(o=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let h=0;h<o;h++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const i={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&i.nodes.forEach(h=>this.lastGraph.mergeNodeData(h.id,{x:h.data.x,y:h.data.y,z:this.options.dimensions===3?h.data.z:void 0})),i}genericFruchtermanLayout(o,i,h){return(0,r.mG)(this,void 0,void 0,function*(){if(this.running)return;const m=this.formatOptions(h),{dimensions:w,width:M,height:Y,center:K,clustering:F,nodeClusterBy:Z,maxIteration:J,onTick:Q}=m,L=i.getAllNodes(),B=i.getAllEdges();if(!(L!=null&&L.length)){const S={nodes:[],edges:B};return this.lastResult=S,S}if(L.length===1){o&&i.mergeNodeData(L[0].id,{x:K[0],y:K[1],z:w===3?K[2]:void 0});const S={nodes:[Object.assign(Object.assign({},L[0]),{data:Object.assign(Object.assign({},L[0].data),{x:K[0],y:K[1],z:w===3?K[2]:void 0})})],edges:B};return this.lastResult=S,S}const T=L.map(S=>(0,l.u)(S,[M,Y])),z=new d.k({nodes:T,edges:B}),G={};if(F&&T.forEach(S=>{const P=S.data[Z];G[P]||(G[P]={name:P,cx:0,cy:0,count:0})}),this.lastLayoutNodes=T,this.lastLayoutEdges=B,this.lastAssign=o,this.lastGraph=z,this.lastOptions=m,this.lastClusterMap=G,typeof window=="undefined")return;let U=0;return new Promise(S=>{this.timeInterval=window.setInterval(()=>{if(!this.running){S({nodes:T,edges:B});return}this.runOneStep(z,G,m),o&&T.forEach(({id:P,data:X})=>i.mergeNodeData(P,{x:X.x,y:X.y,z:w===3?X.z:void 0})),Q==null||Q({nodes:T,edges:B}),U++,U>=J&&(window.clearInterval(this.timeInterval),S({nodes:T,edges:B}))},0),this.running=!0})})}formatOptions(o={}){const i=Object.assign(Object.assign({},this.options),o),{clustering:h,nodeClusterBy:m}=i,{center:w,width:M,height:Y}=i;return i.width=!M&&typeof window!="undefined"?window.innerWidth:M,i.height=!Y&&typeof window!="undefined"?window.innerHeight:Y,i.center=w||[i.width/2,i.height/2],i.clustering=h&&!!m,i}runOneStep(o,i,h){const{dimensions:m,height:w,width:M,gravity:Y,center:K,speed:F,clustering:Z,nodeClusterBy:J,clusterGravity:Q}=h,L=w*M,B=Math.sqrt(L)/10,T=o.getAllNodes(),z=L/(T.length+1),G=Math.sqrt(z),U={};if(this.applyCalculate(o,U,G,z),Z){for(const P in i)i[P].cx=0,i[P].cy=0,i[P].count=0;T.forEach(P=>{const{data:X}=P,W=i[X[J]];(0,u.Z)(X.x)&&(W.cx+=X.x),(0,u.Z)(X.y)&&(W.cy+=X.y),W.count++});for(const P in i)i[P].cx/=i[P].count,i[P].cy/=i[P].count;const S=Q||Y;T.forEach((P,X)=>{const{id:W,data:I}=P;if(!(0,u.Z)(I.x)||!(0,u.Z)(I.y))return;const V=i[I[J]],j=Math.sqrt((I.x-V.cx)*(I.x-V.cx)+(I.y-V.cy)*(I.y-V.cy)),q=G*S;U[W].x-=q*(I.x-V.cx)/j,U[W].y-=q*(I.y-V.cy)/j})}T.forEach((S,P)=>{const{id:X,data:W}=S;if(!(0,u.Z)(W.x)||!(0,u.Z)(W.y))return;const I=.01*G*Y;U[X].x-=I*(W.x-K[0]),U[X].y-=I*(W.y-K[1]),m===3&&(U[X].z-=I*(W.z-K[2]))}),T.forEach((S,P)=>{const{id:X,data:W}=S;if((0,u.Z)(W.fx)&&(0,u.Z)(W.fy)){W.x=W.fx,W.y=W.fy,m===3&&(W.z=W.fz);return}if(!(0,u.Z)(W.x)||!(0,u.Z)(W.y))return;const I=Math.sqrt(U[X].x*U[X].x+U[X].y*U[X].y+(m===3?U[X].z*U[X].z:0));if(I>0){const V=Math.min(B*(F/g),I);o.mergeNodeData(X,{x:W.x+U[X].x/I*V,y:W.y+U[X].y/I*V,z:m===3?W.z+U[X].z/I*V:void 0})}})}applyCalculate(o,i,h,m){this.calRepulsive(o,i,m),this.calAttractive(o,i,h)}calRepulsive(o,i,h){const m=o.getAllNodes();m.forEach(({data:w,id:M},Y)=>{i[M]={x:0,y:0,z:0},m.forEach(({data:K,id:F},Z)=>{if(Y<=Z||!(0,u.Z)(w.x)||!(0,u.Z)(K.x)||!(0,u.Z)(w.y)||!(0,u.Z)(K.y))return;let J=w.x-K.x,Q=w.y-K.y,L=this.options.dimensions===3?w.z-K.z:0,B=J*J+Q*Q+L*L;B===0&&(B=1,J=.01,Q=.01,L=.01);const T=h/B,z=J*T,G=Q*T,U=L*T;i[M].x+=z,i[M].y+=G,i[F].x-=z,i[F].y-=G,this.options.dimensions===3&&(i[M].z+=U,i[F].z-=U)})})}calAttractive(o,i,h){o.getAllEdges().forEach(w=>{const{source:M,target:Y}=w;if(!M||!Y||M===Y)return;const{data:K}=o.getNode(M),{data:F}=o.getNode(Y);if(!(0,u.Z)(F.x)||!(0,u.Z)(K.x)||!(0,u.Z)(F.y)||!(0,u.Z)(K.y))return;const Z=F.x-K.x,J=F.y-K.y,Q=this.options.dimensions===3?F.z-K.z:0,L=Math.sqrt(Z*Z+J*J+Q*Q)/h,B=Z*L,T=J*L,z=Q*L;i[M].x+=B,i[M].y+=T,i[Y].x-=B,i[Y].y-=T,this.options.dimensions===3&&(i[M].z+=z,i[Y].z-=z)})}}},41733:function(f,b,t){"use strict";t.d(b,{M:function(){return o}});var r=t(97582),d=t(76714),u=t(25897),l=t(98130),a=t(78732),g=t(20464),v=t(94754);const c={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class o{constructor(F={}){this.options=F,this.id="grid",this.options=Object.assign(Object.assign({},c),F)}execute(F,Z){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericGridLayout(!1,F,Z)})}assign(F,Z){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,F,Z)})}genericGridLayout(F,Z,J){return(0,r.mG)(this,void 0,void 0,function*(){const Q=Object.assign(Object.assign({},this.options),J),{begin:L=[0,0],condense:B,preventOverlapPadding:T,preventOverlap:z,rows:G,cols:U,nodeSpacing:S,nodeSize:P,width:X,height:W,position:I}=Q;let{sortBy:V}=Q;const j=Z.getAllNodes(),q=Z.getAllEdges(),tt=j==null?void 0:j.length;if(!tt||tt===1)return(0,g.P)(Z,F,L);const ot=j.map(mt=>(0,l.u)(mt));V!=="id"&&(!(0,d.Z)(V)||ot[0].data[V]===void 0)&&(V="degree"),V==="degree"?ot.sort((mt,xt)=>Z.getDegree(xt.id,"both")-Z.getDegree(mt.id,"both")):V==="id"?ot.sort((mt,xt)=>(0,u.Z)(xt.id)&&(0,u.Z)(mt.id)?xt.id-mt.id:`${mt.id}`.localeCompare(`${xt.id}`)):ot.sort((mt,xt)=>xt.data[V]-mt.data[V]);const ct=!X&&typeof window!="undefined"?window.innerWidth:X,nt=!W&&typeof window!="undefined"?window.innerHeight:W,gt=tt,it={rows:G,cols:U};if(G!=null&&U!=null)it.rows=G,it.cols=U;else if(G!=null&&U==null)it.rows=G,it.cols=Math.ceil(gt/it.rows);else if(G==null&&U!=null)it.cols=U,it.rows=Math.ceil(gt/it.cols);else{const mt=Math.sqrt(gt*nt/ct);it.rows=Math.round(mt),it.cols=Math.round(ct/nt*mt)}if(it.rows=Math.max(it.rows,1),it.cols=Math.max(it.cols,1),it.cols*it.rows>gt){const mt=i(it),xt=h(it);(mt-1)*xt>=gt?i(it,mt-1):(xt-1)*mt>=gt&&h(it,xt-1)}else for(;it.cols*it.rows<gt;){const mt=i(it),xt=h(it);(xt+1)*mt>=gt?h(it,xt+1):i(it,mt+1)}let _=B?0:ct/it.cols,ht=B?0:nt/it.rows;if(z||S){const mt=(0,a.jE)(10,S),xt=(0,a.tO)(30,P,!1);ot.forEach(St=>{(!St.data.x||!St.data.y)&&(St.data.x=0,St.data.y=0);const Tt=Z.getNode(St.id),[It,Bt]=(0,v._)(xt(Tt)||30),Ht=mt!==void 0?mt(St):T,Ut=It+Ht,Kt=Bt+Ht;_=Math.max(_,Ut),ht=Math.max(ht,Kt)})}const lt={},at={row:0,col:0},Nt={};for(let mt=0;mt<ot.length;mt++){const xt=ot[mt];let St;if(I&&(St=I(Z.getNode(xt.id))),St&&(St.row!==void 0||St.col!==void 0)){const Tt={row:St.row,col:St.col};if(Tt.col===void 0)for(Tt.col=0;m(lt,Tt);)Tt.col++;else if(Tt.row===void 0)for(Tt.row=0;m(lt,Tt);)Tt.row++;Nt[xt.id]=Tt,w(lt,Tt)}Y(xt,L,_,ht,Nt,it,at,lt)}const vt={nodes:ot,edges:q};return F&&ot.forEach(mt=>{Z.mergeNodeData(mt.id,{x:mt.data.x,y:mt.data.y})}),vt})}}const i=(K,F)=>{let Z;const J=K.rows||5,Q=K.cols||5;return F==null?Z=Math.min(J,Q):Math.min(J,Q)===K.rows?K.rows=F:K.cols=F,Z},h=(K,F)=>{let Z;const J=K.rows||5,Q=K.cols||5;return F==null?Z=Math.max(J,Q):Math.max(J,Q)===K.rows?K.rows=F:K.cols=F,Z},m=(K,F)=>K[`c-${F.row}-${F.col}`]||!1,w=(K,F)=>K[`c-${F.row}-${F.col}`]=!0,M=(K,F)=>{const Z=K.cols||5;F.col++,F.col>=Z&&(F.col=0,F.row++)},Y=(K,F,Z,J,Q,L,B,T)=>{let z,G;const U=Q[K.id];if(U)z=U.col*Z+Z/2+F[0],G=U.row*J+J/2+F[1];else{for(;m(T,B);)M(L,B);z=B.col*Z+Z/2+F[0],G=B.row*J+J/2+F[1],w(T,B),M(L,B)}K.data.x=z,K.data.y=G}},64912:function(f,b,t){"use strict";t.d(b,{A:function(){return v}});var r=t(97582),d=t(32014),u=t(80628),l=t(98130),a=t(20464);const g={center:[0,0],linkDistance:50};class v{constructor(h={}){this.options=h,this.id="mds",this.options=Object.assign(Object.assign({},g),h)}execute(h,m){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,h,m)})}assign(h,m){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,h,m)})}genericMDSLayout(h,m,w){return(0,r.mG)(this,void 0,void 0,function*(){const M=Object.assign(Object.assign({},this.options),w),{center:Y=[0,0],linkDistance:K=50}=M,F=m.getAllNodes(),Z=m.getAllEdges();if(!(F!=null&&F.length)||F.length===1)return(0,a.P)(m,h,Y);const J=(0,u.zJ)({nodes:F,edges:Z},!1),Q=(0,u.qs)(J);c(Q);const L=(0,u.nu)(Q,K),B=o(L),T=[];return B.forEach((G,U)=>{const S=(0,l.u)(F[U]);S.data.x=G[0]+Y[0],S.data.y=G[1]+Y[1],T.push(S)}),h&&T.forEach(G=>m.mergeNodeData(G.id,{x:G.data.x,y:G.data.y})),{nodes:T,edges:Z}})}}const c=i=>{let h=-999999;i.forEach(m=>{m.forEach(w=>{w!==1/0&&h<w&&(h=w)})}),i.forEach((m,w)=>{m.forEach((M,Y)=>{M===1/0&&(i[w][Y]=h)})})},o=i=>{const m=d.y3.mul(d.y3.pow(i,2),-.5),w=m.mean("row"),M=m.mean("column"),Y=m.mean();m.add(Y).subRowVector(w).subColumnVector(M);const K=new d.Sc(m),F=d.y3.sqrt(K.diagonalMatrix).diagonal();return K.leftSingularVectors.toJSON().map(Z=>d.y3.mul([Z],[F]).toJSON()[0].splice(0,2))}},29257:function(f,b,t){"use strict";t.d(b,{D:function(){return Y}});var r=t(97582),d=t(76714),u=t(80628),l=t(78732),a=t(98130),g=t(20464),v=t(32014);const c=(L,B,T)=>{try{const z=v.y3.mul(v.y3.pow(B,2),-.5),G=z.mean("row"),U=z.mean("column"),S=z.mean();z.add(S).subRowVector(G).subColumnVector(U);const P=new v.Sc(z),X=v.y3.sqrt(P.diagonalMatrix).diagonal();return P.leftSingularVectors.toJSON().map(W=>v.y3.mul([W],[X]).toJSON()[0].splice(0,L))}catch(z){const G=[];for(let U=0;U<B.length;U++){const S=Math.random()*T,P=Math.random()*T;G.push([S,P])}return G}},o=800,i={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},h=(L,B)=>{const T=Object.assign(Object.assign({},i),B),{positions:z,iterations:G,width:U,k:S,speed:P=100,strictRadial:X,focusIdx:W,radii:I=[],nodeSizeFunc:V}=T,j=L.getAllNodes(),q=[],tt=U/10;for(let ot=0;ot<G;ot++)z.forEach((ct,nt)=>{q[nt]={x:0,y:0}}),m(j,z,q,S,I,V),w(z,q,P,X,W,tt,U,I);return z},m=(L,B,T,z,G,U)=>{B.forEach((S,P)=>{T[P]={x:0,y:0},B.forEach((X,W)=>{if(P===W||G[P]!==G[W])return;let I=S.x-X.x,V=S.y-X.y,j=Math.sqrt(I*I+V*V);if(j===0){j=1;const q=P>W?1:-1;I=.01*q,V=.01*q}if(j<U(L[P])/2+U(L[W])/2){const q=z*z/j;T[P].x+=I/j*q,T[P].y+=V/j*q}})})},w=(L,B,T,z,G,U,S,P)=>{const X=U||S/10;return z&&B.forEach((W,I)=>{const V=L[I].x-L[G].x,j=L[I].y-L[G].y,q=Math.sqrt(V*V+j*j);let tt=j/q,ot=-V/q;const ct=Math.sqrt(W.x*W.x+W.y*W.y);let nt=Math.acos((tt*W.x+ot*W.y)/ct);nt>Math.PI/2&&(nt-=Math.PI/2,tt*=-1,ot*=-1);const gt=Math.cos(nt)*ct;W.x=tt*gt,W.y=ot*gt}),L.forEach((W,I)=>{if(I===G)return;const V=Math.sqrt(B[I].x*B[I].x+B[I].y*B[I].y);if(V>0&&I!==G){const j=Math.min(X*(T/o),V);if(W.x+=B[I].x/V*j,W.y+=B[I].y/V*j,z){let q=W.x-L[G].x,tt=W.y-L[G].y;const ot=Math.sqrt(q*q+tt*tt);q=q/ot*P[I],tt=tt/ot*P[I],W.x=L[G].x+q,W.y=L[G].y+tt}}}),L},M={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class Y{constructor(B={}){this.options=B,this.id="radial",this.options=Object.assign(Object.assign({},M),B)}execute(B,T){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,B,T)})}assign(B,T){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,B,T)})}genericRadialLayout(B,T,z){return(0,r.mG)(this,void 0,void 0,function*(){const G=Object.assign(Object.assign({},this.options),z),{width:U,height:S,center:P,focusNode:X,unitRadius:W,nodeSize:I,nodeSpacing:V,strictRadial:j,preventOverlap:q,maxPreventOverlapIteration:tt,sortBy:ot,linkDistance:ct=50,sortStrength:nt=10,maxIteration:gt=1e3}=G,it=T.getAllNodes(),_=T.getAllEdges(),ht=!U&&typeof window!="undefined"?window.innerWidth:U,lt=!S&&typeof window!="undefined"?window.innerHeight:S,at=P||[ht/2,lt/2];if(!(it!=null&&it.length)||it.length===1)return(0,g.P)(T,B,at);let Nt=it[0];if((0,d.Z)(X)){for(let oe=0;oe<it.length;oe++)if(it[oe].id===X){Nt=it[oe];break}}else Nt=X||it[0];const vt=Z(it,Nt.id),mt=(0,u.zJ)({nodes:it,edges:_},!1),xt=(0,u.qs)(mt),St=Q(xt,vt);J(xt,vt,St+1);const Tt=xt[vt];let It=ht-at[0]>at[0]?at[0]:ht-at[0],Bt=lt-at[1]>at[1]?at[1]:lt-at[1];It===0&&(It=ht/2),Bt===0&&(Bt=lt/2);const Ht=Math.min(It,Bt),Ut=Math.max(...Tt),Kt=[],ie=W||Ht/Ut;Tt.forEach((oe,we)=>{Kt[we]=oe*ie});const Gt=K(it,xt,ct,Kt,ie,ot,nt),ce=F(Gt),re=c(ct,Gt,ct);let Jt=re.map(([oe,we])=>({x:(isNaN(oe)?Math.random()*ct:oe)-re[vt][0],y:(isNaN(we)?Math.random()*ct:we)-re[vt][1]}));this.run(gt,Jt,ce,Gt,Kt,vt);let Dt;if(q){Dt=(0,l.uE)(I,V);const oe={nodes:it,nodeSizeFunc:Dt,positions:Jt,radii:Kt,height:lt,width:ht,strictRadial:!!j,focusIdx:vt,iterations:tt||200,k:Jt.length/4.5};Jt=h(T,oe)}const le=[];return Jt.forEach((oe,we)=>{const Ee=(0,a.u)(it[we]);Ee.data.x=oe.x+at[0],Ee.data.y=oe.y+at[1],le.push(Ee)}),B&&le.forEach(oe=>T.mergeNodeData(oe.id,{x:oe.data.x,y:oe.data.y})),{nodes:le,edges:_}})}run(B,T,z,G,U,S){for(let P=0;P<=B;P++){const X=P/B;this.oneIteration(X,T,U,G,z,S)}}oneIteration(B,T,z,G,U,S){const P=1-B;T.forEach((X,W)=>{const I=(0,u.$y)(X,{x:0,y:0}),V=I===0?0:1/I;if(W===S)return;let j=0,q=0,tt=0;T.forEach((ct,nt)=>{if(W===nt)return;const gt=(0,u.$y)(X,ct),it=gt===0?0:1/gt,_=G[nt][W];tt+=U[W][nt],j+=U[W][nt]*(ct.x+_*(X.x-ct.x)*it),q+=U[W][nt]*(ct.y+_*(X.y-ct.y)*it)});const ot=z[W]===0?0:1/z[W];tt*=P,tt+=B*ot*ot,j*=P,j+=B*ot*X.x*V,X.x=j/tt,q*=P,q+=B*ot*X.y*V,X.y=q/tt})}}const K=(L,B,T,z,G,U,S)=>{if(!L)return[];const P=[];if(B){const X={};B.forEach((W,I)=>{const V=[];W.forEach((j,q)=>{var tt,ot;if(I===q)V.push(0);else if(z[I]===z[q])if(U==="data")V.push(j*(Math.abs(I-q)*S)/(z[I]/G));else if(U){let ct,nt;if(X[L[I].id])ct=X[L[I].id];else{const gt=(U==="id"?L[I].id:(tt=L[I].data)===null||tt===void 0?void 0:tt[U])||0;(0,d.Z)(gt)?ct=gt.charCodeAt(0):ct=gt,X[L[I].id]=ct}if(X[L[q].id])nt=X[L[q].id];else{const gt=(U==="id"?L[q].id:(ot=L[q].data)===null||ot===void 0?void 0:ot[U])||0;(0,d.Z)(gt)?nt=gt.charCodeAt(0):nt=gt,X[L[q].id]=nt}V.push(j*(Math.abs(ct-nt)*S)/(z[I]/G))}else V.push(j*T/(z[I]/G));else{const ct=(T+G)/2;V.push(j*ct)}}),P.push(V)})}return P},F=L=>{const B=L.length,T=L[0].length,z=[];for(let G=0;G<B;G++){const U=[];for(let S=0;S<T;S++)L[G][S]!==0?U.push(1/(L[G][S]*L[G][S])):U.push(0);z.push(U)}return z},Z=(L,B)=>{let T=-1;return L.forEach((z,G)=>{z.id===B&&(T=G)}),Math.max(T,0)},J=(L,B,T)=>{const z=L.length;for(let G=0;G<z;G++)if(L[B][G]===1/0){L[B][G]=T,L[G][B]=T;for(let U=0;U<z;U++)L[G][U]!==1/0&&L[B][U]===1/0&&(L[B][U]=T+L[G][U],L[U][B]=T+L[G][U])}for(let G=0;G<z;G++)if(G!==B){for(let U=0;U<z;U++)if(L[G][U]===1/0){let S=Math.abs(L[B][G]-L[B][U]);S=S===0?1:S,L[G][U]=S}}},Q=(L,B)=>{let T=0;for(let z=0;z<L[B].length;z++)L[B][z]!==1/0&&(T=L[B][z]>T?L[B][z]:T);return T}},26629:function(f,b,t){"use strict";t.d(b,{_:function(){return u}});var r=t(97582);const d={center:[0,0],width:300,height:300};class u{constructor(a={}){this.options=a,this.id="random",this.options=Object.assign(Object.assign({},d),a)}execute(a,g){return(0,r.mG)(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,a,g)})}assign(a,g){return(0,r.mG)(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,a,g)})}genericRandomLayout(a,g,v){return(0,r.mG)(this,void 0,void 0,function*(){const c=Object.assign(Object.assign({},this.options),v),{center:o,width:i,height:h}=c,m=g.getAllNodes(),w=.9,M=!i&&typeof window!="undefined"?window.innerWidth:i,Y=!h&&typeof window!="undefined"?window.innerHeight:h,K=o||[M/2,Y/2],F=[];return m&&m.forEach(J=>{F.push({id:J.id,data:{x:(Math.random()-.5)*w*M+K[0],y:(Math.random()-.5)*w*Y+K[1]}})}),a&&F.forEach(J=>g.mergeNodeData(J.id,{x:J.data.x,y:J.data.y})),{nodes:F,edges:g.getAllEdges()}})}}},10779:function(f,b,t){"use strict";t.d(b,{h:function(){return r}});function r(d){return!!d.tick&&!!d.stop}},85087:function(f,b,t){"use strict";t.d(b,{k:function(){return r}});const r=Array.isArray},20464:function(f,b,t){"use strict";t.d(b,{P:function(){return r}});const r=(d,u,l)=>{const a=d.getAllNodes(),g=d.getAllEdges();if(!(a!=null&&a.length))return{nodes:[],edges:g};if(a.length===1)return u&&d.mergeNodeData(a[0].id,{x:l[0],y:l[1]}),{nodes:[Object.assign(Object.assign({},a[0]),{data:Object.assign(Object.assign({},a[0].data),{x:l[0],y:l[1]})})],edges:g}}},78732:function(f,b,t){"use strict";t.d(b,{jE:function(){return a},tO:function(){return g},uE:function(){return v}});var r=t(45607),d=t(25897),u=t(4637),l=t(94754);function a(c,o){let i;return(0,r.Z)(o)?i=o:(0,d.Z)(o)?i=()=>o:i=()=>c,i}function g(c,o,i=!0){return!o&&o!==0?h=>{const{size:m}=h.data||{};return m?Array.isArray(m)?i?Math.max(...m)||c:m:(0,u.Z)(m)&&m.width&&m.height?i?Math.max(m.width,m.height)||c:[m.width,m.height]:m:c}:(0,r.Z)(o)?o:(0,d.Z)(o)?()=>o:Array.isArray(o)?()=>i?Math.max(...o)||c:o:(0,u.Z)(o)&&o.width&&o.height?()=>i?Math.max(o.width,o.height)||c:[o.width,o.height]:()=>c}const v=(c,o,i=10)=>{let h;const m=typeof o=="function"?o:()=>o||0;return c?Array.isArray(c)?h=M=>c:(0,r.Z)(c)?h=c:h=M=>c:h=M=>{var Y,K,F;if(!((Y=M.data)===null||Y===void 0)&&Y.bboxSize)return(K=M.data)===null||K===void 0?void 0:K.bboxSize;if(!((F=M.data)===null||F===void 0)&&F.size){const Z=M.data.size;return Array.isArray(Z)?Z:(0,u.Z)(Z)?[Z.width,Z.height]:Z}return i},M=>{const Y=h(M),K=m(M);return Math.max(...(0,l._)(Y))+K}}},80628:function(f,b,t){"use strict";t.d(b,{$y:function(){return v},H0:function(){return g},_:function(){return c},nu:function(){return a},qs:function(){return u},zJ:function(){return l}});var r=t(25897),d=t(85087);const u=o=>{const i=[],h=o.length;for(let m=0;m<h;m+=1){i[m]=[];for(let w=0;w<h;w+=1)m===w?i[m][w]=0:o[m][w]===0||!o[m][w]?i[m][w]=1/0:i[m][w]=o[m][w]}for(let m=0;m<h;m+=1)for(let w=0;w<h;w+=1)for(let M=0;M<h;M+=1)i[w][M]>i[w][m]+i[m][M]&&(i[w][M]=i[w][m]+i[m][M]);return i},l=(o,i)=>{const{nodes:h,edges:m}=o,w=[],M={};if(!h)throw new Error("invalid nodes data!");return h&&h.forEach((Y,K)=>{M[Y.id]=K;const F=[];w.push(F)}),m==null||m.forEach(Y=>{const{source:K,target:F}=Y,Z=M[K],J=M[F];Z===void 0||J===void 0||(w[Z][J]=1,i||(w[J][Z]=1))}),w},a=(o,i)=>{const h=[];return o.forEach(m=>{const w=[];m.forEach(M=>{w.push(M*i)}),h.push(w)}),h},g=o=>{let i=1/0,h=1/0,m=-1/0,w=-1/0;return o.forEach(M=>{let Y=M.data.size;(0,d.k)(Y)?Y.length===1&&(Y=[Y[0],Y[0]]):(0,r.Z)(Y)?Y=[Y,Y]:(Y===void 0||isNaN(Y))&&(Y=[30,30]);const K=[Y[0]/2,Y[1]/2],F=M.data.x-K[0],Z=M.data.x+K[0],J=M.data.y-K[1],Q=M.data.y+K[1];i>F&&(i=F),h>J&&(h=J),m<Z&&(m=Z),w<Q&&(w=Q)}),{minX:i,minY:h,maxX:m,maxY:w}},v=(o,i)=>Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)),c=(o,i,h,m="TB",w,M={})=>{if(!(i!=null&&i.length))return;const{stopBranchFn:Y,stopAllFn:K}=M;for(let F=0;F<i.length;F++){const Z=i[F];if(o.hasNode(Z.id)&&!(Y!=null&&Y(Z))){if(K!=null&&K(Z))return;m==="TB"&&h(Z),c(o,o.getChildren(Z.id,w),h,m,w,M),m!=="TB"&&h(Z)}}}},98130:function(f,b,t){"use strict";t.d(b,{u:function(){return u}});var r=t(25897);const d=l=>{if(l===null)return l;if(l instanceof Date)return new Date(l.getTime());if(l instanceof Array){const a=[];return l.forEach(g=>{a.push(g)}),a.map(g=>d(g))}if(typeof l=="object"){const a={};return Object.keys(l).forEach(g=>{a[g]=d(l[g])}),a}return l},u=(l,a)=>{const g=d(l);return g.data=g.data||{},a&&((0,r.Z)(g.data.x)||(g.data.x=Math.random()*a[0]),(0,r.Z)(g.data.y)||(g.data.y=Math.random()*a[1])),g}},94754:function(f,b,t){"use strict";t.d(b,{_:function(){return d}});var r=t(25897);function d(u){if(!u)return[0,0,0];if((0,r.Z)(u))return[u,u,u];if(u.length===0)return[0,0,0];const[l,a=l,g=l]=u;return[l,a,g]}},83207:function(f,b,t){"use strict";var r=t(5199),d=function(u){if(typeof u!="object"||u===null)return u;var l;if((0,r.Z)(u)){l=[];for(var a=0,g=u.length;a<g;a++)typeof u[a]=="object"&&u[a]!=null?l[a]=d(u[a]):l[a]=u[a]}else{l={};for(var v in u)typeof u[v]=="object"&&u[v]!=null?l[v]=d(u[v]):l[v]=u[v]}return l};b.Z=d},83787:function(f,b,t){"use strict";var r=t(5199),d=t(83845),u=5;function l(v,c){if(Object.hasOwn)return Object.hasOwn(v,c);if(v==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(v),c)}function a(v,c,o,i){o=o||0,i=i||u;for(var h in c)if(l(c,h)){var m=c[h];m!==null&&(0,d.Z)(m)?((0,d.Z)(v[h])||(v[h]={}),o<i?a(v[h],m,o+1,i):v[h]=c[h]):(0,r.Z)(m)?(v[h]=[],v[h]=v[h].concat(m)):m!==void 0&&(v[h]=m)}}var g=function(v){for(var c=[],o=1;o<arguments.length;o++)c[o-1]=arguments[o];for(var i=0;i<c.length;i+=1)a(v,c[i]);return v};b.Z=g},15255:function(f,b,t){"use strict";var r=t(5199),d=t(4637);function u(l,a){if(l){var g;if((0,r.Z)(l))for(var v=0,c=l.length;v<c&&(g=a(l[v],v),g!==!1);v++);else if((0,d.Z)(l)){for(var o in l)if(l.hasOwnProperty(o)&&(g=a(l[o],o),g===!1))break}}}b.Z=u},5199:function(f,b,t){"use strict";t.d(b,{Z:function(){return r}});function r(d){return Array.isArray(d)}},45607:function(f,b,t){"use strict";t.d(b,{Z:function(){return r}});function r(d){return typeof d=="function"}},95147:function(f,b,t){"use strict";t.d(b,{Z:function(){return r}});function r(d){return d==null}},25897:function(f,b,t){"use strict";t.d(b,{Z:function(){return r}});function r(d){return typeof d=="number"}},6241:function(f,b){"use strict";var t=function(r){return typeof r=="object"&&r!==null};b.Z=t},4637:function(f,b){"use strict";b.Z=function(t){var r=typeof t;return t!==null&&r==="object"||r==="function"}},83845:function(f,b,t){"use strict";var r=t(6241),d=t(95456),u=function(l){if(!(0,r.Z)(l)||!(0,d.Z)(l,"Object"))return!1;if(Object.getPrototypeOf(l)===null)return!0;for(var a=l;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(l)===a};b.Z=u},76714:function(f,b,t){"use strict";t.d(b,{Z:function(){return r}});function r(d){return typeof d=="string"}},95456:function(f,b){"use strict";var t={}.toString,r=function(d,u){return t.call(d)==="[object "+u+"]"};b.Z=r},23413:function(f,b,t){"use strict";var r=t(15255),d=t(83845),u=Object.prototype.hasOwnProperty;b.Z=function(l,a){if(l===null||!(0,d.Z)(l))return{};var g={};return(0,r.Z)(a,function(v){u.call(l,v)&&(g[v]=l[v])}),g}},49612:function(f,b,t){"use strict";var r,d=t(28785).default,u=t(48374).default,l=t(29777).default,a=t(25457).default,g=t(33862).default,v=t(25098).default,c=t(31996).default,o=t(26037).default,i=t(80363).default,h=t(9783).default,m=t(74978).default,w=t(5574).default,M=t(64599).default,Y=t(15009).default,K=t(52677).default,F=t(12444).default,Z=t(72004).default;r={value:!0};var J=t(44091),Q=t(75823),L=" ".repeat(2),B=" ".repeat(4);function T(){return z(this)}function z(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=D.maxRows,e=p===void 0?15:p,n=D.maxColumns,s=n===void 0?10:n,E=D.maxNumSize,R=E===void 0?8:E,A=D.padMinus,C=A===void 0?"auto":A;return"".concat(N.constructor.name,` {
`).concat(L,`[
`).concat(B).concat(G(N,e,s,R,C),`
`).concat(L,`]
`).concat(L,"rows: ").concat(N.rows,`
`).concat(L,"columns: ").concat(N.columns,`
}`)}function G(N,D,p,e,n){var s=N.rows,E=N.columns,R=Math.min(s,D),A=Math.min(E,p),C=[];if(n==="auto"){n=!1;t:for(var ut=0;ut<R;ut++)for(var dt=0;dt<A;dt++)if(N.get(ut,dt)<0){n=!0;break t}}for(var wt=0;wt<R;wt++){for(var Ot=[],bt=0;bt<A;bt++)Ot.push(U(N.get(wt,bt),e,n));C.push("".concat(Ot.join(" ")))}return A!==E&&(C[C.length-1]+=" ... ".concat(E-p," more columns")),R!==s&&C.push("... ".concat(s-D," more rows")),C.join(`
`.concat(B))}function U(N,D,p){return(N>=0&&p?" ".concat(S(N,D-1)):S(N,D)).padEnd(D)}function S(N,D){var p=N.toString();if(p.length<=D)return p;var e=N.toFixed(D);if(e.length>D&&(e=N.toFixed(Math.max(0,D-(e.length-D)))),e.length<=D&&!e.startsWith("0.000")&&!e.startsWith("-0.000"))return e;var n=N.toExponential(D);return n.length>D&&(n=N.toExponential(Math.max(0,D-(n.length-D)))),n.slice(0)}function P(N,D){N.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},N.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e);return this},N.prototype.addM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e.get(n,s));return this},N.add=function(e,n){var s=new D(e);return s.add(n)},N.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},N.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e);return this},N.prototype.subM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e.get(n,s));return this},N.sub=function(e,n){var s=new D(e);return s.sub(n)},N.prototype.subtract=N.prototype.sub,N.prototype.subtractS=N.prototype.subS,N.prototype.subtractM=N.prototype.subM,N.subtract=N.sub,N.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},N.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e);return this},N.prototype.mulM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e.get(n,s));return this},N.mul=function(e,n){var s=new D(e);return s.mul(n)},N.prototype.multiply=N.prototype.mul,N.prototype.multiplyS=N.prototype.mulS,N.prototype.multiplyM=N.prototype.mulM,N.multiply=N.mul,N.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},N.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e);return this},N.prototype.divM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e.get(n,s));return this},N.div=function(e,n){var s=new D(e);return s.div(n)},N.prototype.divide=N.prototype.div,N.prototype.divideS=N.prototype.divS,N.prototype.divideM=N.prototype.divM,N.divide=N.div,N.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},N.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%e);return this},N.prototype.modM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)%e.get(n,s));return this},N.mod=function(e,n){var s=new D(e);return s.mod(n)},N.prototype.modulus=N.prototype.mod,N.prototype.modulusS=N.prototype.modS,N.prototype.modulusM=N.prototype.modM,N.modulus=N.mod,N.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},N.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&e);return this},N.prototype.andM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)&e.get(n,s));return this},N.and=function(e,n){var s=new D(e);return s.and(n)},N.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},N.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|e);return this},N.prototype.orM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)|e.get(n,s));return this},N.or=function(e,n){var s=new D(e);return s.or(n)},N.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},N.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^e);return this},N.prototype.xorM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)^e.get(n,s));return this},N.xor=function(e,n){var s=new D(e);return s.xor(n)},N.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},N.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<e);return this},N.prototype.leftShiftM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)<<e.get(n,s));return this},N.leftShift=function(e,n){var s=new D(e);return s.leftShift(n)},N.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},N.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>e);return this},N.prototype.signPropagatingRightShiftM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>e.get(n,s));return this},N.signPropagatingRightShift=function(e,n){var s=new D(e);return s.signPropagatingRightShift(n)},N.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},N.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>e);return this},N.prototype.rightShiftM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)>>>e.get(n,s));return this},N.rightShift=function(e,n){var s=new D(e);return s.rightShift(n)},N.prototype.zeroFillRightShift=N.prototype.rightShift,N.prototype.zeroFillRightShiftS=N.prototype.rightShiftS,N.prototype.zeroFillRightShiftM=N.prototype.rightShiftM,N.zeroFillRightShift=N.rightShift,N.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},N.not=function(e){var n=new D(e);return n.not()},N.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},N.abs=function(e){var n=new D(e);return n.abs()},N.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},N.acos=function(e){var n=new D(e);return n.acos()},N.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},N.acosh=function(e){var n=new D(e);return n.acosh()},N.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},N.asin=function(e){var n=new D(e);return n.asin()},N.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},N.asinh=function(e){var n=new D(e);return n.asinh()},N.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},N.atan=function(e){var n=new D(e);return n.atan()},N.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},N.atanh=function(e){var n=new D(e);return n.atanh()},N.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},N.cbrt=function(e){var n=new D(e);return n.cbrt()},N.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},N.ceil=function(e){var n=new D(e);return n.ceil()},N.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},N.clz32=function(e){var n=new D(e);return n.clz32()},N.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},N.cos=function(e){var n=new D(e);return n.cos()},N.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},N.cosh=function(e){var n=new D(e);return n.cosh()},N.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},N.exp=function(e){var n=new D(e);return n.exp()},N.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},N.expm1=function(e){var n=new D(e);return n.expm1()},N.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},N.floor=function(e){var n=new D(e);return n.floor()},N.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},N.fround=function(e){var n=new D(e);return n.fround()},N.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},N.log=function(e){var n=new D(e);return n.log()},N.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},N.log1p=function(e){var n=new D(e);return n.log1p()},N.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},N.log10=function(e){var n=new D(e);return n.log10()},N.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},N.log2=function(e){var n=new D(e);return n.log2()},N.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},N.round=function(e){var n=new D(e);return n.round()},N.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},N.sign=function(e){var n=new D(e);return n.sign()},N.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},N.sin=function(e){var n=new D(e);return n.sin()},N.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},N.sinh=function(e){var n=new D(e);return n.sinh()},N.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},N.sqrt=function(e){var n=new D(e);return n.sqrt()},N.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},N.tan=function(e){var n=new D(e);return n.tan()},N.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},N.tanh=function(e){var n=new D(e);return n.tanh()},N.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},N.trunc=function(e){var n=new D(e);return n.trunc()},N.pow=function(e,n){var s=new D(e);return s.pow(n)},N.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},N.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,Math.pow(this.get(n,s),e));return this},N.prototype.powM=function(e){if(e=D.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,Math.pow(this.get(n,s),e.get(n,s)));return this}}function X(N,D,p){var e=p?N.rows:N.rows-1;if(D<0||D>e)throw new RangeError("Row index out of range")}function W(N,D,p){var e=p?N.columns:N.columns-1;if(D<0||D>e)throw new RangeError("Column index out of range")}function I(N,D){if(D.to1DArray&&(D=D.to1DArray()),D.length!==N.columns)throw new RangeError("vector size must be the same as the number of columns");return D}function V(N,D){if(D.to1DArray&&(D=D.to1DArray()),D.length!==N.rows)throw new RangeError("vector size must be the same as the number of rows");return D}function j(N,D){if(!J.isAnyArray(D))throw new TypeError("row indices must be an array");for(var p=0;p<D.length;p++)if(D[p]<0||D[p]>=N.rows)throw new RangeError("row indices are out of range")}function q(N,D){if(!J.isAnyArray(D))throw new TypeError("column indices must be an array");for(var p=0;p<D.length;p++)if(D[p]<0||D[p]>=N.columns)throw new RangeError("column indices are out of range")}function tt(N,D,p,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ct("startRow",D),ct("endRow",p),ct("startColumn",e),ct("endColumn",n),D>p||e>n||D<0||D>=N.rows||p<0||p>=N.rows||e<0||e>=N.columns||n<0||n>=N.columns)throw new RangeError("Submatrix indices are out of range")}function ot(N){for(var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=[],e=0;e<N;e++)p.push(D);return p}function ct(N,D){if(typeof D!="number")throw new TypeError("".concat(N," must be a number"))}function nt(N){if(N.isEmpty())throw new Error("Empty matrix has no elements to index")}function gt(N){for(var D=ot(N.rows),p=0;p<N.rows;++p)for(var e=0;e<N.columns;++e)D[p]+=N.get(p,e);return D}function it(N){for(var D=ot(N.columns),p=0;p<N.rows;++p)for(var e=0;e<N.columns;++e)D[e]+=N.get(p,e);return D}function _(N){for(var D=0,p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)D+=N.get(p,e);return D}function ht(N){for(var D=ot(N.rows,1),p=0;p<N.rows;++p)for(var e=0;e<N.columns;++e)D[p]*=N.get(p,e);return D}function lt(N){for(var D=ot(N.columns,1),p=0;p<N.rows;++p)for(var e=0;e<N.columns;++e)D[e]*=N.get(p,e);return D}function at(N){for(var D=1,p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)D*=N.get(p,e);return D}function Nt(N,D,p){for(var e=N.rows,n=N.columns,s=[],E=0;E<e;E++){for(var R=0,A=0,C=0,ut=0;ut<n;ut++)C=N.get(E,ut)-p[E],R+=C,A+=C*C;D?s.push((A-R*R/n)/(n-1)):s.push((A-R*R/n)/n)}return s}function vt(N,D,p){for(var e=N.rows,n=N.columns,s=[],E=0;E<n;E++){for(var R=0,A=0,C=0,ut=0;ut<e;ut++)C=N.get(ut,E)-p[E],R+=C,A+=C*C;D?s.push((A-R*R/e)/(e-1)):s.push((A-R*R/e)/e)}return s}function mt(N,D,p){for(var e=N.rows,n=N.columns,s=e*n,E=0,R=0,A=0,C=0;C<e;C++)for(var ut=0;ut<n;ut++)A=N.get(C,ut)-p,E+=A,R+=A*A;return D?(R-E*E/s)/(s-1):(R-E*E/s)/s}function xt(N,D){for(var p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)N.set(p,e,N.get(p,e)-D[p])}function St(N,D){for(var p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)N.set(p,e,N.get(p,e)-D[e])}function Tt(N,D){for(var p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)N.set(p,e,N.get(p,e)-D)}function It(N){for(var D=[],p=0;p<N.rows;p++){for(var e=0,n=0;n<N.columns;n++)e+=Math.pow(N.get(p,n),2)/(N.columns-1);D.push(Math.sqrt(e))}return D}function Bt(N,D){for(var p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)N.set(p,e,N.get(p,e)/D[p])}function Ht(N){for(var D=[],p=0;p<N.columns;p++){for(var e=0,n=0;n<N.rows;n++)e+=Math.pow(N.get(n,p),2)/(N.rows-1);D.push(Math.sqrt(e))}return D}function Ut(N,D){for(var p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)N.set(p,e,N.get(p,e)/D[e])}function Kt(N){for(var D=N.size-1,p=0,e=0;e<N.columns;e++)for(var n=0;n<N.rows;n++)p+=Math.pow(N.get(n,e),2)/D;return Math.sqrt(p)}function ie(N,D){for(var p=0;p<N.rows;p++)for(var e=0;e<N.columns;e++)N.set(p,e,N.get(p,e)/D)}var Gt=function(N){function D(){F(this,D)}return Z(D,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e.call(this,n,s);return this}},{key:"to1DArray",value:function(){for(var e=[],n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e.push(this.get(n,s));return e}},{key:"to2DArray",value:function(){for(var e=[],n=0;n<this.rows;n++){e.push([]);for(var s=0;s<this.columns;s++)e[n].push(this.get(n,s))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var n=0;n<=e;n++)if(this.get(e,n)!==this.get(n,e))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var e=0,n=0,s=-1,E=!0,R=!1;e<this.rows&&E;){for(n=0,R=!1;n<this.columns&&R===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>s?(R=!0,s=n):(E=!1,R=!0);e++}return E}},{key:"isReducedEchelonForm",value:function(){for(var e=0,n=0,s=-1,E=!0,R=!1;e<this.rows&&E;){for(n=0,R=!1;n<this.columns&&R===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>s?(R=!0,s=n):(E=!1,R=!0);for(var A=n+1;A<this.rows;A++)this.get(e,A)!==0&&(E=!1);e++}return E}},{key:"echelonForm",value:function(){for(var e=this.clone(),n=0,s=0;n<e.rows&&s<e.columns;){for(var E=n,R=n;R<e.rows;R++)e.get(R,s)>e.get(E,s)&&(E=R);if(e.get(E,s)===0)s++;else{e.swapRows(n,E);for(var A=e.get(n,s),C=s;C<e.columns;C++)e.set(n,C,e.get(n,C)/A);for(var ut=n+1;ut<e.rows;ut++){var dt=e.get(ut,s)/e.get(n,s);e.set(ut,s,0);for(var wt=s+1;wt<e.columns;wt++)e.set(ut,wt,e.get(ut,wt)-e.get(n,wt)*dt)}n++,s++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),n=e.columns,s=e.rows,E=s-1;E>=0;)if(e.maxRow(E)===0)E--;else{for(var R=0,A=!1;R<s&&A===!1;)e.get(E,R)===1?A=!0:R++;for(var C=0;C<E;C++)for(var ut=e.get(C,R),dt=R;dt<n;dt++){var wt=e.get(C,dt)-ut*e.get(E,dt);e.set(C,dt,wt)}E--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K(e)!=="object")throw new TypeError("options must be an object");var n=e.rows,s=n===void 0?1:n,E=e.columns,R=E===void 0?1:E;if(!Number.isInteger(s)||s<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(R)||R<=0)throw new TypeError("columns must be a positive integer");for(var A=new Dt(this.rows*s,this.columns*R),C=0;C<s;C++)for(var ut=0;ut<R;ut++)A.setSubMatrix(this,this.rows*C,this.columns*ut);return A}},{key:"fill",value:function(e){for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){X(this,e);for(var n=[],s=0;s<this.columns;s++)n.push(this.get(e,s));return n}},{key:"getRowVector",value:function(e){return Dt.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,n){X(this,e),n=I(this,n);for(var s=0;s<this.columns;s++)this.set(e,s,n[s]);return this}},{key:"swapRows",value:function(e,n){X(this,e),X(this,n);for(var s=0;s<this.columns;s++){var E=this.get(e,s);this.set(e,s,this.get(n,s)),this.set(n,s,E)}return this}},{key:"getColumn",value:function(e){W(this,e);for(var n=[],s=0;s<this.rows;s++)n.push(this.get(s,e));return n}},{key:"getColumnVector",value:function(e){return Dt.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,n){W(this,e),n=V(this,n);for(var s=0;s<this.rows;s++)this.set(s,e,n[s]);return this}},{key:"swapColumns",value:function(e,n){W(this,e),W(this,n);for(var s=0;s<this.rows;s++){var E=this.get(s,e);this.set(s,e,this.get(s,n)),this.set(s,n,E)}return this}},{key:"addRowVector",value:function(e){e=I(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e[s]);return this}},{key:"subRowVector",value:function(e){e=I(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e[s]);return this}},{key:"mulRowVector",value:function(e){e=I(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e[s]);return this}},{key:"divRowVector",value:function(e){e=I(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e[s]);return this}},{key:"addColumnVector",value:function(e){e=V(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)+e[n]);return this}},{key:"subColumnVector",value:function(e){e=V(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)-e[n]);return this}},{key:"mulColumnVector",value:function(e){e=V(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)*e[n]);return this}},{key:"divColumnVector",value:function(e){e=V(this,e);for(var n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)this.set(n,s,this.get(n,s)/e[n]);return this}},{key:"mulRow",value:function(e,n){X(this,e);for(var s=0;s<this.columns;s++)this.set(e,s,this.get(e,s)*n);return this}},{key:"mulColumn",value:function(e,n){W(this,e);for(var s=0;s<this.rows;s++)this.set(s,e,this.get(s,e)*n);return this}},{key:"max",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":{for(var n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)>n[s]&&(n[s]=this.get(s,E));return n}case"column":{for(var R=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),A=0;A<this.rows;A++)for(var C=0;C<this.columns;C++)this.get(A,C)>R[C]&&(R[C]=this.get(A,C));return R}case void 0:{for(var ut=this.get(0,0),dt=0;dt<this.rows;dt++)for(var wt=0;wt<this.columns;wt++)this.get(dt,wt)>ut&&(ut=this.get(dt,wt));return ut}default:throw new Error("invalid option: ".concat(e))}}},{key:"maxIndex",value:function(){nt(this);for(var e=this.get(0,0),n=[0,0],s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)>e&&(e=this.get(s,E),n[0]=s,n[1]=E);return n}},{key:"min",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":{for(var n=new Array(this.rows).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)<n[s]&&(n[s]=this.get(s,E));return n}case"column":{for(var R=new Array(this.columns).fill(Number.POSITIVE_INFINITY),A=0;A<this.rows;A++)for(var C=0;C<this.columns;C++)this.get(A,C)<R[C]&&(R[C]=this.get(A,C));return R}case void 0:{for(var ut=this.get(0,0),dt=0;dt<this.rows;dt++)for(var wt=0;wt<this.columns;wt++)this.get(dt,wt)<ut&&(ut=this.get(dt,wt));return ut}default:throw new Error("invalid option: ".concat(e))}}},{key:"minIndex",value:function(){nt(this);for(var e=this.get(0,0),n=[0,0],s=0;s<this.rows;s++)for(var E=0;E<this.columns;E++)this.get(s,E)<e&&(e=this.get(s,E),n[0]=s,n[1]=E);return n}},{key:"maxRow",value:function(e){if(X(this,e),this.isEmpty())return NaN;for(var n=this.get(e,0),s=1;s<this.columns;s++)this.get(e,s)>n&&(n=this.get(e,s));return n}},{key:"maxRowIndex",value:function(e){X(this,e),nt(this);for(var n=this.get(e,0),s=[e,0],E=1;E<this.columns;E++)this.get(e,E)>n&&(n=this.get(e,E),s[1]=E);return s}},{key:"minRow",value:function(e){if(X(this,e),this.isEmpty())return NaN;for(var n=this.get(e,0),s=1;s<this.columns;s++)this.get(e,s)<n&&(n=this.get(e,s));return n}},{key:"minRowIndex",value:function(e){X(this,e),nt(this);for(var n=this.get(e,0),s=[e,0],E=1;E<this.columns;E++)this.get(e,E)<n&&(n=this.get(e,E),s[1]=E);return s}},{key:"maxColumn",value:function(e){if(W(this,e),this.isEmpty())return NaN;for(var n=this.get(0,e),s=1;s<this.rows;s++)this.get(s,e)>n&&(n=this.get(s,e));return n}},{key:"maxColumnIndex",value:function(e){W(this,e),nt(this);for(var n=this.get(0,e),s=[0,e],E=1;E<this.rows;E++)this.get(E,e)>n&&(n=this.get(E,e),s[0]=E);return s}},{key:"minColumn",value:function(e){if(W(this,e),this.isEmpty())return NaN;for(var n=this.get(0,e),s=1;s<this.rows;s++)this.get(s,e)<n&&(n=this.get(s,e));return n}},{key:"minColumnIndex",value:function(e){W(this,e),nt(this);for(var n=this.get(0,e),s=[0,e],E=1;E<this.rows;E++)this.get(E,e)<n&&(n=this.get(E,e),s[0]=E);return s}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),n=[],s=0;s<e;s++)n.push(this.get(s,s));return n}},{key:"norm",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(e))}}},{key:"cumulativeSum",value:function(){for(var e=0,n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e+=this.get(n,s),this.set(n,s,e);return this}},{key:"dot",value:function(e){D.isMatrix(e)&&(e=e.to1DArray());var n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");for(var s=0,E=0;E<n.length;E++)s+=n[E]*e[E];return s}},{key:"mmul",value:function(e){e=Dt.checkMatrix(e);for(var n=this.rows,s=this.columns,E=e.columns,R=new Dt(n,E),A=new Float64Array(s),C=0;C<E;C++){for(var ut=0;ut<s;ut++)A[ut]=e.get(ut,C);for(var dt=0;dt<n;dt++){for(var wt=0,Ot=0;Ot<s;Ot++)wt+=this.get(dt,Ot)*A[Ot];R.set(dt,C,wt)}}return R}},{key:"mpow",value:function(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");for(var n=Dt.eye(this.rows),s=this,E=e;E>=1;E/=2)E&1&&(n=n.mmul(s)),s=s.mmul(s);return n}},{key:"strassen2x2",value:function(e){e=Dt.checkMatrix(e);var n=new Dt(2,2),s=this.get(0,0),E=e.get(0,0),R=this.get(0,1),A=e.get(0,1),C=this.get(1,0),ut=e.get(1,0),dt=this.get(1,1),wt=e.get(1,1),Ot=(s+dt)*(E+wt),bt=(C+dt)*E,Ct=s*(A-wt),Zt=dt*(ut-E),pt=(s+R)*wt,Mt=(C-s)*(E+A),At=(R-dt)*(ut+wt),kt=Ot+Zt-pt+At,Pt=Ct+pt,te=bt+Zt,ne=Ot-bt+Ct+Mt;return n.set(0,0,kt),n.set(0,1,Pt),n.set(1,0,te),n.set(1,1,ne),n}},{key:"strassen3x3",value:function(e){e=Dt.checkMatrix(e);var n=new Dt(3,3),s=this.get(0,0),E=this.get(0,1),R=this.get(0,2),A=this.get(1,0),C=this.get(1,1),ut=this.get(1,2),dt=this.get(2,0),wt=this.get(2,1),Ot=this.get(2,2),bt=e.get(0,0),Ct=e.get(0,1),Zt=e.get(0,2),pt=e.get(1,0),Mt=e.get(1,1),At=e.get(1,2),kt=e.get(2,0),Pt=e.get(2,1),te=e.get(2,2),ne=(s+E+R-A-C-wt-Ot)*Mt,Vt=(s-A)*(-Ct+Mt),qt=C*(-bt+Ct+pt-Mt-At-kt+te),ae=(-s+A+C)*(bt-Ct+Mt),xe=(A+C)*(-bt+Ct),Lt=s*bt,Ne=(-s+dt+wt)*(bt-Zt+At),be=(-s+dt)*(Zt-At),se=(dt+wt)*(-bt+Zt),Ge=(s+E+R-C-ut-dt-wt)*At,We=wt*(-bt+Zt+pt-Mt-At-kt+Pt),ge=(-R+wt+Ot)*(Mt+kt-Pt),Be=(R-Ot)*(Mt-Pt),Pe=R*kt,Fe=(wt+Ot)*(-kt+Pt),ye=(-R+C+ut)*(At+kt-te),$e=(R-ut)*(At-te),Xe=(C+ut)*(-kt+te),Je=E*pt,Nn=ut*Pt,Qe=A*Zt,_e=dt*Ct,ee=Ot*te,Ve=Lt+Pe+Je,He=ne+ae+xe+Lt+ge+Pe+Fe,ue=Lt+Ne+se+Ge+Pe+ye+Xe,je=Vt+qt+ae+Lt+Pe+ye+$e,tn=Vt+ae+xe+Lt+Nn,en=Pe+ye+$e+Xe+Qe,qe=Lt+Ne+be+We+ge+Be+Pe,y=ge+Be+Pe+Fe+_e,x=Lt+Ne+be+se+ee;return n.set(0,0,Ve),n.set(0,1,He),n.set(0,2,ue),n.set(1,0,je),n.set(1,1,tn),n.set(1,2,en),n.set(2,0,qe),n.set(2,1,y),n.set(2,2,x),n}},{key:"mmulStrassen",value:function(e){e=Dt.checkMatrix(e);var n=this.clone(),s=n.rows,E=n.columns,R=e.rows,A=e.columns;E!==R&&console.warn("Multiplying ".concat(s," x ").concat(E," and ").concat(R," x ").concat(A," matrix: dimensions do not match."));function C(Ot,bt,Ct){var Zt=Ot.rows,pt=Ot.columns;if(Zt===bt&&pt===Ct)return Ot;var Mt=D.zeros(bt,Ct);return Mt=Mt.setSubMatrix(Ot,0,0),Mt}var ut=Math.max(s,R),dt=Math.max(E,A);n=C(n,ut,dt),e=C(e,ut,dt);function wt(Ot,bt,Ct,Zt){if(Ct<=512||Zt<=512)return Ot.mmul(bt);Ct%2===1&&Zt%2===1?(Ot=C(Ot,Ct+1,Zt+1),bt=C(bt,Ct+1,Zt+1)):Ct%2===1?(Ot=C(Ot,Ct+1,Zt),bt=C(bt,Ct+1,Zt)):Zt%2===1&&(Ot=C(Ot,Ct,Zt+1),bt=C(bt,Ct,Zt+1));var pt=parseInt(Ot.rows/2,10),Mt=parseInt(Ot.columns/2,10),At=Ot.subMatrix(0,pt-1,0,Mt-1),kt=bt.subMatrix(0,pt-1,0,Mt-1),Pt=Ot.subMatrix(0,pt-1,Mt,Ot.columns-1),te=bt.subMatrix(0,pt-1,Mt,bt.columns-1),ne=Ot.subMatrix(pt,Ot.rows-1,0,Mt-1),Vt=bt.subMatrix(pt,bt.rows-1,0,Mt-1),qt=Ot.subMatrix(pt,Ot.rows-1,Mt,Ot.columns-1),ae=bt.subMatrix(pt,bt.rows-1,Mt,bt.columns-1),xe=wt(D.add(At,qt),D.add(kt,ae),pt,Mt),Lt=wt(D.add(ne,qt),kt,pt,Mt),Ne=wt(At,D.sub(te,ae),pt,Mt),be=wt(qt,D.sub(Vt,kt),pt,Mt),se=wt(D.add(At,Pt),ae,pt,Mt),Ge=wt(D.sub(ne,At),D.add(kt,te),pt,Mt),We=wt(D.sub(Pt,qt),D.add(Vt,ae),pt,Mt),ge=D.add(xe,be);ge.sub(se),ge.add(We);var Be=D.add(Ne,se),Pe=D.add(Lt,be),Fe=D.sub(xe,Lt);Fe.add(Ne),Fe.add(Ge);var ye=D.zeros(2*ge.rows,2*ge.columns);return ye=ye.setSubMatrix(ge,0,0),ye=ye.setSubMatrix(Be,ge.rows,0),ye=ye.setSubMatrix(Pe,0,ge.columns),ye=ye.setSubMatrix(Fe,ge.rows,ge.columns),ye.subMatrix(0,Ct-1,0,Zt-1)}return wt(n,e,ut,dt)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K(e)!=="object")throw new TypeError("options must be an object");var n=e.min,s=n===void 0?0:n,E=e.max,R=E===void 0?1:E;if(!Number.isFinite(s))throw new TypeError("min must be a number");if(!Number.isFinite(R))throw new TypeError("max must be a number");if(s>=R)throw new RangeError("min must be smaller than max");for(var A=new Dt(this.rows,this.columns),C=0;C<this.rows;C++){var ut=this.getRow(C);ut.length>0&&Q(ut,{min:s,max:R,output:ut}),A.setRow(C,ut)}return A}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K(e)!=="object")throw new TypeError("options must be an object");var n=e.min,s=n===void 0?0:n,E=e.max,R=E===void 0?1:E;if(!Number.isFinite(s))throw new TypeError("min must be a number");if(!Number.isFinite(R))throw new TypeError("max must be a number");if(s>=R)throw new RangeError("min must be smaller than max");for(var A=new Dt(this.rows,this.columns),C=0;C<this.columns;C++){var ut=this.getColumn(C);ut.length&&Q(ut,{min:s,max:R,output:ut}),A.setColumn(C,ut)}return A}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),n=0;n<this.rows;n++)for(var s=0;s<e;s++){var E=this.get(n,s),R=this.get(n,this.columns-1-s);this.set(n,s,R),this.set(n,this.columns-1-s,E)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),n=0;n<this.columns;n++)for(var s=0;s<e;s++){var E=this.get(s,n),R=this.get(this.rows-1-s,n);this.set(s,n,R),this.set(this.rows-1-s,n,E)}return this}},{key:"kroneckerProduct",value:function(e){e=Dt.checkMatrix(e);for(var n=this.rows,s=this.columns,E=e.rows,R=e.columns,A=new Dt(n*E,s*R),C=0;C<n;C++)for(var ut=0;ut<s;ut++)for(var dt=0;dt<E;dt++)for(var wt=0;wt<R;wt++)A.set(E*C+dt,R*ut+wt,this.get(C,ut)*e.get(dt,wt));return A}},{key:"kroneckerSum",value:function(e){if(e=Dt.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var n=this.rows,s=e.rows,E=this.kroneckerProduct(Dt.eye(s,s)),R=Dt.eye(n,n).kroneckerProduct(e);return E.add(R)}},{key:"transpose",value:function(){for(var e=new Dt(this.columns,this.rows),n=0;n<this.rows;n++)for(var s=0;s<this.columns;s++)e.set(s,n,this.get(n,s));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce,n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce,n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(e));return this}},{key:"subMatrix",value:function(e,n,s,E){tt(this,e,n,s,E);for(var R=new Dt(n-e+1,E-s+1),A=e;A<=n;A++)for(var C=s;C<=E;C++)R.set(A-e,C-s,this.get(A,C));return R}},{key:"subMatrixRow",value:function(e,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.columns-1),n>s||n<0||n>=this.columns||s<0||s>=this.columns)throw new RangeError("Argument out of range");for(var E=new Dt(e.length,s-n+1),R=0;R<e.length;R++)for(var A=n;A<=s;A++){if(e[R]<0||e[R]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[R]));E.set(R,A-n,this.get(e[R],A))}return E}},{key:"subMatrixColumn",value:function(e,n,s){if(n===void 0&&(n=0),s===void 0&&(s=this.rows-1),n>s||n<0||n>=this.rows||s<0||s>=this.rows)throw new RangeError("Argument out of range");for(var E=new Dt(s-n+1,e.length),R=0;R<e.length;R++)for(var A=n;A<=s;A++){if(e[R]<0||e[R]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[R]));E.set(A-n,R,this.get(A,e[R]))}return E}},{key:"setSubMatrix",value:function(e,n,s){if(e=Dt.checkMatrix(e),e.isEmpty())return this;var E=n+e.rows-1,R=s+e.columns-1;tt(this,n,E,s,R);for(var A=0;A<e.rows;A++)for(var C=0;C<e.columns;C++)this.set(n+A,s+C,e.get(A,C));return this}},{key:"selection",value:function(e,n){j(this,e),q(this,n);for(var s=new Dt(e.length,n.length),E=0;E<e.length;E++)for(var R=e[E],A=0;A<n.length;A++){var C=n[A];s.set(E,A,this.get(R,C))}return s}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),n=0,s=0;s<e;s++)n+=this.get(s,s);return n}},{key:"clone",value:function(){return this.constructor.copy(this,new Dt(this.rows,this.columns))}},{key:"sum",value:function(e){switch(e){case"row":return gt(this);case"column":return it(this);case void 0:return _(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return ht(this);case"column":return lt(this);case void 0:return at(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var n=this.sum(e);switch(e){case"row":{for(var s=0;s<this.rows;s++)n[s]/=this.columns;return n}case"column":{for(var E=0;E<this.columns;E++)n[E]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(e)==="object"&&(n=e,e=void 0),K(n)!=="object")throw new TypeError("options must be an object");var s=n,E=s.unbiased,R=E===void 0?!0:E,A=s.mean,C=A===void 0?this.mean(e):A;if(typeof R!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!J.isAnyArray(C))throw new TypeError("mean must be an array");return Nt(this,R,C)}case"column":{if(!J.isAnyArray(C))throw new TypeError("mean must be an array");return vt(this,R,C)}case void 0:{if(typeof C!="number")throw new TypeError("mean must be a number");return mt(this,R,C)}default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,n){K(e)==="object"&&(n=e,e=void 0);var s=this.variance(e,n);if(e===void 0)return Math.sqrt(s);for(var E=0;E<s.length;E++)s[E]=Math.sqrt(s[E]);return s}},{key:"center",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(e)==="object"&&(n=e,e=void 0),K(n)!=="object")throw new TypeError("options must be an object");var s=n,E=s.center,R=E===void 0?this.mean(e):E;switch(e){case"row":{if(!J.isAnyArray(R))throw new TypeError("center must be an array");return xt(this,R),this}case"column":{if(!J.isAnyArray(R))throw new TypeError("center must be an array");return St(this,R),this}case void 0:{if(typeof R!="number")throw new TypeError("center must be a number");return Tt(this,R),this}default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(e)==="object"&&(n=e,e=void 0),K(n)!=="object")throw new TypeError("options must be an object");var s=n.scale;switch(e){case"row":{if(s===void 0)s=It(this);else if(!J.isAnyArray(s))throw new TypeError("scale must be an array");return Bt(this,s),this}case"column":{if(s===void 0)s=Ht(this);else if(!J.isAnyArray(s))throw new TypeError("scale must be an array");return Ut(this,s),this}case void 0:{if(s===void 0)s=Kt(this);else if(typeof s!="number")throw new TypeError("scale must be a number");return ie(this,s),this}default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return z(this,e)}},{key:N,value:function(){return this.entries()}},{key:"entries",value:Y().mark(function p(){var e,n;return Y().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:e=0;case 1:if(!(e<this.rows)){E.next=12;break}n=0;case 3:if(!(n<this.columns)){E.next=9;break}return E.next=6,[e,n,this.get(e,n)];case 6:n++,E.next=3;break;case 9:e++,E.next=1;break;case 12:case"end":return E.stop()}},p,this)})},{key:"values",value:Y().mark(function p(){var e,n;return Y().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:e=0;case 1:if(!(e<this.rows)){E.next=12;break}n=0;case 3:if(!(n<this.columns)){E.next=9;break}return E.next=6,this.get(e,n);case 6:n++,E.next=3;break;case 9:e++,E.next=1;break;case 12:case"end":return E.stop()}},p,this)})}],[{key:"from1DArray",value:function(e,n,s){var E=e*n;if(E!==s.length)throw new RangeError("data length does not match given dimensions");for(var R=new Dt(e,n),A=0;A<e;A++)for(var C=0;C<n;C++)R.set(A,C,s[A*n+C]);return R}},{key:"rowVector",value:function(e){for(var n=new Dt(1,e.length),s=0;s<e.length;s++)n.set(0,s,e[s]);return n}},{key:"columnVector",value:function(e){for(var n=new Dt(e.length,1),s=0;s<e.length;s++)n.set(s,0,e[s]);return n}},{key:"zeros",value:function(e,n){return new Dt(e,n)}},{key:"ones",value:function(e,n){return new Dt(e,n).fill(1)}},{key:"rand",value:function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(K(s)!=="object")throw new TypeError("options must be an object");for(var E=s.random,R=E===void 0?Math.random:E,A=new Dt(e,n),C=0;C<e;C++)for(var ut=0;ut<n;ut++)A.set(C,ut,R());return A}},{key:"randInt",value:function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(K(s)!=="object")throw new TypeError("options must be an object");var E=s.min,R=E===void 0?0:E,A=s.max,C=A===void 0?1e3:A,ut=s.random,dt=ut===void 0?Math.random:ut;if(!Number.isInteger(R))throw new TypeError("min must be an integer");if(!Number.isInteger(C))throw new TypeError("max must be an integer");if(R>=C)throw new RangeError("min must be smaller than max");for(var wt=C-R,Ot=new Dt(e,n),bt=0;bt<e;bt++)for(var Ct=0;Ct<n;Ct++){var Zt=R+Math.round(dt()*wt);Ot.set(bt,Ct,Zt)}return Ot}},{key:"eye",value:function(e,n,s){n===void 0&&(n=e),s===void 0&&(s=1);for(var E=Math.min(e,n),R=this.zeros(e,n),A=0;A<E;A++)R.set(A,A,s);return R}},{key:"diag",value:function(e,n,s){var E=e.length;n===void 0&&(n=E),s===void 0&&(s=n);for(var R=Math.min(E,n,s),A=this.zeros(n,s),C=0;C<R;C++)A.set(C,C,e[C]);return A}},{key:"min",value:function(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);for(var s=e.rows,E=e.columns,R=new Dt(s,E),A=0;A<s;A++)for(var C=0;C<E;C++)R.set(A,C,Math.min(e.get(A,C),n.get(A,C)));return R}},{key:"max",value:function(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);for(var s=e.rows,E=e.columns,R=new this(s,E),A=0;A<s;A++)for(var C=0;C<E;C++)R.set(A,C,Math.max(e.get(A,C),n.get(A,C)));return R}},{key:"checkMatrix",value:function(e){return D.isMatrix(e)?e:new Dt(e)}},{key:"isMatrix",value:function(e){return e!=null&&e.klass==="Matrix"}},{key:"copy",value:function(e,n){var s=M(e.entries()),E;try{for(s.s();!(E=s.n()).done;){var R=w(E.value,3),A=R[0],C=R[1],ut=R[2];n.set(A,C,ut)}}catch(dt){s.e(dt)}finally{s.f()}return n}}]),D}(Symbol.iterator);Gt.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=T);function ce(N,D){return N-D}function re(N){return N.every(function(D){return typeof D=="number"})}Gt.random=Gt.rand,Gt.randomInt=Gt.randInt,Gt.diagonal=Gt.diag,Gt.prototype.diagonal=Gt.prototype.diag,Gt.identity=Gt.eye,Gt.prototype.negate=Gt.prototype.neg,Gt.prototype.tensorProduct=Gt.prototype.kroneckerProduct;var Jt=new WeakSet,Dt=function(N){c(p,N);var D=o(p);function p(e,n){var s;if(F(this,p),s=D.call(this),i(v(s),Jt),h(v(s),"data",void 0),p.isMatrix(e))m(v(s),Jt,le).call(v(s),e.rows,e.columns),p.copy(e,v(s));else if(Number.isInteger(e)&&e>=0)m(v(s),Jt,le).call(v(s),e,n);else if(J.isAnyArray(e)){var E=e;if(e=E.length,n=e?E[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");s.data=[];for(var R=0;R<e;R++){if(E[R].length!==n)throw new RangeError("Inconsistent array dimensions");if(!re(E[R]))throw new TypeError("Input data contains non-numeric values");s.data.push(Float64Array.from(E[R]))}s.rows=e,s.columns=n}else throw new TypeError("First argument must be a positive number or an array");return s}return Z(p,[{key:"set",value:function(n,s,E){return this.data[n][s]=E,this}},{key:"get",value:function(n,s){return this.data[n][s]}},{key:"removeRow",value:function(n){return X(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,s){return s===void 0&&(s=n,n=this.rows),X(this,n,!0),s=Float64Array.from(I(this,s)),this.data.splice(n,0,s),this.rows+=1,this}},{key:"removeColumn",value:function(n){W(this,n);for(var s=0;s<this.rows;s++){for(var E=new Float64Array(this.columns-1),R=0;R<n;R++)E[R]=this.data[s][R];for(var A=n+1;A<this.columns;A++)E[A-1]=this.data[s][A];this.data[s]=E}return this.columns-=1,this}},{key:"addColumn",value:function(n,s){typeof s=="undefined"&&(s=n,n=this.columns),W(this,n,!0),s=V(this,s);for(var E=0;E<this.rows;E++){for(var R=new Float64Array(this.columns+1),A=0;A<n;A++)R[A]=this.data[E][A];for(R[A++]=s[E];A<this.columns+1;A++)R[A]=this.data[E][A-1];this.data[E]=R}return this.columns+=1,this}}]),p}(Gt);function le(N,D){if(this.data=[],Number.isInteger(D)&&D>=0)for(var p=0;p<N;p++)this.data.push(new Float64Array(D));else throw new TypeError("nColumns must be a positive integer");this.rows=N,this.columns=D}P(Gt,Dt);var me=new WeakMap,oe=function(N){c(p,N);var D=o(p);function p(e){var n;if(F(this,p),n=D.call(this),l(v(n),me,{writable:!0,value:void 0}),Dt.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");a(v(n),me,Dt.copy(e,new Dt(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)a(v(n),me,new Dt(e,e));else if(a(v(n),me,new Dt(e)),!n.isSymmetric())throw new TypeError("not symmetric data");return n}return Z(p,[{key:"size",get:function(){return g(this,me).size}},{key:"rows",get:function(){return g(this,me).rows}},{key:"columns",get:function(){return g(this,me).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var n=new p(this.diagonalSize),s=M(this.upperRightEntries()),E;try{for(s.s();!(E=s.n()).done;){var R=w(E.value,3),A=R[0],C=R[1],ut=R[2];n.set(A,C,ut)}}catch(dt){s.e(dt)}finally{s.f()}return n}},{key:"toMatrix",value:function(){return new Dt(this)}},{key:"get",value:function(n,s){return g(this,me).get(n,s)}},{key:"set",value:function(n,s,E){return g(this,me).set(n,s,E),g(this,me).set(s,n,E),this}},{key:"removeCross",value:function(n){return g(this,me).removeRow(n),g(this,me).removeColumn(n),this}},{key:"addCross",value:function(n,s){s===void 0&&(s=n,n=this.diagonalSize);var E=s.slice();return E.splice(n,1),g(this,me).addRow(n,E),g(this,me).addColumn(n,s),this}},{key:"applyMask",value:function(n){if(n.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var s=[],E=M(n.entries()),R;try{for(E.s();!(R=E.n()).done;){var A=w(R.value,2),C=A[0],ut=A[1];ut||s.push(C)}}catch(bt){E.e(bt)}finally{E.f()}s.reverse();for(var dt=0,wt=s;dt<wt.length;dt++){var Ot=wt[dt];this.removeCross(Ot)}return this}},{key:"toCompact",value:function(){for(var n=this.diagonalSize,s=new Array(n*(n+1)/2),E=0,R=0,A=0;A<s.length;A++)s[A]=this.get(R,E),++E>=n&&(E=++R);return s}},{key:"upperRightEntries",value:Y().mark(function e(){var n,s,E;return Y().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:n=0,s=0;case 1:if(!(n<this.diagonalSize)){A.next=9;break}return E=this.get(n,s),A.next=5,[n,s,E];case 5:++s>=this.diagonalSize&&(s=++n);case 6:A.next=1;break;case 9:case"end":return A.stop()}},e,this)})},{key:"upperRightValues",value:Y().mark(function e(){var n,s,E;return Y().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:n=0,s=0;case 1:if(!(n<this.diagonalSize)){A.next=9;break}return E=this.get(n,s),A.next=5,E;case 5:++s>=this.diagonalSize&&(s=++n);case 6:A.next=1;break;case 9:case"end":return A.stop()}},e,this)})}],[{key:"isSymmetricMatrix",value:function(n){return Dt.isMatrix(n)&&n.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(n){return new this(n)}},{key:"ones",value:function(n){return new this(n).fill(1)}},{key:"fromCompact",value:function(n){var s=n.length,E=(Math.sqrt(8*s+1)-1)/2;if(!Number.isInteger(E))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(n)));for(var R=new p(E),A=0,C=0,ut=0;ut<s;ut++)R.set(A,C,n[ut]),++A>=E&&(A=++C);return R}}]),p}(Gt);oe.prototype.klassType="SymmetricMatrix";var we=function(N){c(p,N);var D=o(p);function p(e){var n;if(F(this,p),n=D.call(this,e),!n.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return n}return Z(p,[{key:"set",value:function(n,s,E){return n===s&&(E=0),d(u(p.prototype),"set",this).call(this,n,s,E)}},{key:"addCross",value:function(n,s){return s===void 0&&(s=n,n=this.diagonalSize),s=s.slice(),s[n]=0,d(u(p.prototype),"addCross",this).call(this,n,s)}},{key:"toSymmetricMatrix",value:function(){return new oe(this)}},{key:"clone",value:function(){var n=new p(this.diagonalSize),s=M(this.upperRightEntries()),E;try{for(s.s();!(E=s.n()).done;){var R=w(E.value,3),A=R[0],C=R[1],ut=R[2];A!==C&&n.set(A,C,ut)}}catch(dt){s.e(dt)}finally{s.f()}return n}},{key:"toCompact",value:function(){for(var n=this.diagonalSize,s=(n-1)*n/2,E=new Array(s),R=1,A=0,C=0;C<E.length;C++)E[C]=this.get(A,R),++R>=n&&(R=++A+1);return E}}],[{key:"isDistanceMatrix",value:function(n){return oe.isSymmetricMatrix(n)&&n.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(n){var s=n.length;if(s===0)return new this(0);var E=(Math.sqrt(8*s+1)+1)/2;if(!Number.isInteger(E))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(n)));for(var R=new this(E),A=1,C=0,ut=0;ut<s;ut++)R.set(A,C,n[ut]),++A>=E&&(A=++C+1);return R}}]),p}(oe);we.prototype.klassSubType="DistanceMatrix";var Ee=function(N){c(p,N);var D=o(p);function p(e,n,s){var E;return F(this,p),E=D.call(this),E.matrix=e,E.rows=n,E.columns=s,E}return Z(p)}(Gt),an=function(N){c(p,N);var D=o(p);function p(e,n){var s;return F(this,p),W(e,n),s=D.call(this,e,e.rows,1),s.column=n,s}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(n,this.column,E),this}},{key:"get",value:function(n){return this.matrix.get(n,this.column)}}]),p}(Ee),un=function(N){c(p,N);var D=o(p);function p(e,n){var s;return F(this,p),q(e,n),s=D.call(this,e,e.rows,n.length),s.columnIndices=n,s}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(n,this.columnIndices[s],E),this}},{key:"get",value:function(n,s){return this.matrix.get(n,this.columnIndices[s])}}]),p}(Ee),dn=function(N){c(p,N);var D=o(p);function p(e){return F(this,p),D.call(this,e,e.rows,e.columns)}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(n,this.columns-s-1,E),this}},{key:"get",value:function(n,s){return this.matrix.get(n,this.columns-s-1)}}]),p}(Ee),Ce=function(N){c(p,N);var D=o(p);function p(e){return F(this,p),D.call(this,e,e.rows,e.columns)}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(this.rows-n-1,s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.rows-n-1,s)}}]),p}(Ee),ze=function(N){c(p,N);var D=o(p);function p(e,n){var s;return F(this,p),X(e,n),s=D.call(this,e,1,e.columns),s.row=n,s}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(this.row,s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.row,s)}}]),p}(Ee),zn=function(N){c(p,N);var D=o(p);function p(e,n){var s;return F(this,p),j(e,n),s=D.call(this,e,n.length,e.columns),s.rowIndices=n,s}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(this.rowIndices[n],s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.rowIndices[n],s)}}]),p}(Ee),fn=function(N){c(p,N);var D=o(p);function p(e,n,s){var E;return F(this,p),j(e,n),q(e,s),E=D.call(this,e,n.length,s.length),E.rowIndices=n,E.columnIndices=s,E}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(this.rowIndices[n],this.columnIndices[s],E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.rowIndices[n],this.columnIndices[s])}}]),p}(Ee),An=function(N){c(p,N);var D=o(p);function p(e,n,s,E,R){var A;return F(this,p),tt(e,n,s,E,R),A=D.call(this,e,s-n+1,R-E+1),A.startRow=n,A.startColumn=E,A}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(this.startRow+n,this.startColumn+s,E),this}},{key:"get",value:function(n,s){return this.matrix.get(this.startRow+n,this.startColumn+s)}}]),p}(Ee),Pn=function(N){c(p,N);var D=o(p);function p(e){return F(this,p),D.call(this,e,e.columns,e.rows)}return Z(p,[{key:"set",value:function(n,s,E){return this.matrix.set(s,n,E),this}},{key:"get",value:function(n,s){return this.matrix.get(s,n)}}]),p}(Ee),cn=function(N){c(p,N);var D=o(p);function p(e){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,p);var E=s.rows,R=E===void 0?1:E;if(e.length%R!==0)throw new Error("the data length is not divisible by the number of rows");return n=D.call(this),n.rows=R,n.columns=e.length/R,n.data=e,n}return Z(p,[{key:"set",value:function(n,s,E){var R=this._calculateIndex(n,s);return this.data[R]=E,this}},{key:"get",value:function(n,s){var E=this._calculateIndex(n,s);return this.data[E]}},{key:"_calculateIndex",value:function(n,s){return n*this.columns+s}}]),p}(Gt),Ae=function(N){c(p,N);var D=o(p);function p(e){var n;return F(this,p),n=D.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return Z(p,[{key:"set",value:function(n,s,E){return this.data[n][s]=E,this}},{key:"get",value:function(n,s){return this.data[n][s]}}]),p}(Gt);function kn(N,D){if(J.isAnyArray(N))return N[0]&&J.isAnyArray(N[0])?new Ae(N):new cn(N,D);throw new Error("the argument is not an array")}var hn=function(){function N(D){F(this,N),D=Ae.checkMatrix(D);var p=D.clone(),e=p.rows,n=p.columns,s=new Float64Array(e),E=1,R,A,C,ut,dt,wt,Ot,bt,Ct;for(R=0;R<e;R++)s[R]=R;for(bt=new Float64Array(e),A=0;A<n;A++){for(R=0;R<e;R++)bt[R]=p.get(R,A);for(R=0;R<e;R++){for(Ct=Math.min(R,A),dt=0,C=0;C<Ct;C++)dt+=p.get(R,C)*bt[C];bt[R]-=dt,p.set(R,A,bt[R])}for(ut=A,R=A+1;R<e;R++)Math.abs(bt[R])>Math.abs(bt[ut])&&(ut=R);if(ut!==A){for(C=0;C<n;C++)wt=p.get(ut,C),p.set(ut,C,p.get(A,C)),p.set(A,C,wt);Ot=s[ut],s[ut]=s[A],s[A]=Ot,E=-E}if(A<e&&p.get(A,A)!==0)for(R=A+1;R<e;R++)p.set(R,A,p.get(R,A)/p.get(A,A))}this.LU=p,this.pivotVector=s,this.pivotSign=E}return Z(N,[{key:"isSingular",value:function(){for(var p=this.LU,e=p.columns,n=0;n<e;n++)if(p.get(n,n)===0)return!0;return!1}},{key:"solve",value:function(p){p=Dt.checkMatrix(p);var e=this.LU,n=e.rows;if(n!==p.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var s=p.columns,E=p.subMatrixRow(this.pivotVector,0,s-1),R=e.columns,A,C,ut;for(ut=0;ut<R;ut++)for(A=ut+1;A<R;A++)for(C=0;C<s;C++)E.set(A,C,E.get(A,C)-E.get(ut,C)*e.get(A,ut));for(ut=R-1;ut>=0;ut--){for(C=0;C<s;C++)E.set(ut,C,E.get(ut,C)/e.get(ut,ut));for(A=0;A<ut;A++)for(C=0;C<s;C++)E.set(A,C,E.get(A,C)-E.get(ut,C)*e.get(A,ut))}return E}},{key:"determinant",get:function(){var p=this.LU;if(!p.isSquare())throw new Error("Matrix must be square");for(var e=this.pivotSign,n=p.columns,s=0;s<n;s++)e*=p.get(s,s);return e}},{key:"lowerTriangularMatrix",get:function(){for(var p=this.LU,e=p.rows,n=p.columns,s=new Dt(e,n),E=0;E<e;E++)for(var R=0;R<n;R++)E>R?s.set(E,R,p.get(E,R)):E===R?s.set(E,R,1):s.set(E,R,0);return s}},{key:"upperTriangularMatrix",get:function(){for(var p=this.LU,e=p.rows,n=p.columns,s=new Dt(e,n),E=0;E<e;E++)for(var R=0;R<n;R++)E<=R?s.set(E,R,p.get(E,R)):s.set(E,R,0);return s}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),N}();function ke(N,D){var p=0;return Math.abs(N)>Math.abs(D)?(p=D/N,Math.abs(N)*Math.sqrt(1+p*p)):D!==0?(p=N/D,Math.abs(D)*Math.sqrt(1+p*p)):0}var ln=function(){function N(D){F(this,N),D=Ae.checkMatrix(D);var p=D.clone(),e=D.rows,n=D.columns,s=new Float64Array(n),E,R,A,C;for(A=0;A<n;A++){var ut=0;for(E=A;E<e;E++)ut=ke(ut,p.get(E,A));if(ut!==0){for(p.get(A,A)<0&&(ut=-ut),E=A;E<e;E++)p.set(E,A,p.get(E,A)/ut);for(p.set(A,A,p.get(A,A)+1),R=A+1;R<n;R++){for(C=0,E=A;E<e;E++)C+=p.get(E,A)*p.get(E,R);for(C=-C/p.get(A,A),E=A;E<e;E++)p.set(E,R,p.get(E,R)+C*p.get(E,A))}}s[A]=-ut}this.QR=p,this.Rdiag=s}return Z(N,[{key:"solve",value:function(p){p=Dt.checkMatrix(p);var e=this.QR,n=e.rows;if(p.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var s=p.columns,E=p.clone(),R=e.columns,A,C,ut,dt;for(ut=0;ut<R;ut++)for(C=0;C<s;C++){for(dt=0,A=ut;A<n;A++)dt+=e.get(A,ut)*E.get(A,C);for(dt=-dt/e.get(ut,ut),A=ut;A<n;A++)E.set(A,C,E.get(A,C)+dt*e.get(A,ut))}for(ut=R-1;ut>=0;ut--){for(C=0;C<s;C++)E.set(ut,C,E.get(ut,C)/this.Rdiag[ut]);for(A=0;A<ut;A++)for(C=0;C<s;C++)E.set(A,C,E.get(A,C)-E.get(ut,C)*e.get(A,ut))}return E.subMatrix(0,R-1,0,s-1)}},{key:"isFullRank",value:function(){for(var p=this.QR.columns,e=0;e<p;e++)if(this.Rdiag[e]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var p=this.QR,e=p.columns,n=new Dt(e,e),s,E;for(s=0;s<e;s++)for(E=0;E<e;E++)s<E?n.set(s,E,p.get(s,E)):s===E?n.set(s,E,this.Rdiag[s]):n.set(s,E,0);return n}},{key:"orthogonalMatrix",get:function(){var p=this.QR,e=p.rows,n=p.columns,s=new Dt(e,n),E,R,A,C;for(A=n-1;A>=0;A--){for(E=0;E<e;E++)s.set(E,A,0);for(s.set(A,A,1),R=A;R<n;R++)if(p.get(A,A)!==0){for(C=0,E=A;E<e;E++)C+=p.get(E,A)*s.get(E,R);for(C=-C/p.get(A,A),E=A;E<e;E++)s.set(E,R,s.get(E,R)+C*p.get(E,A))}}return s}}]),N}(),Ye=function(){function N(D){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(F(this,N),D=Ae.checkMatrix(D),D.isEmpty())throw new Error("Matrix must be non-empty");var e=D.rows,n=D.columns,s=p.computeLeftSingularVectors,E=s===void 0?!0:s,R=p.computeRightSingularVectors,A=R===void 0?!0:R,C=p.autoTranspose,ut=C===void 0?!1:C,dt=!!E,wt=!!A,Ot=!1,bt;if(e<n)if(!ut)bt=D.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{bt=D.transpose(),e=bt.rows,n=bt.columns,Ot=!0;var Ct=dt;dt=wt,wt=Ct}else bt=D.clone();for(var Zt=Math.min(e,n),pt=Math.min(e+1,n),Mt=new Float64Array(pt),At=new Dt(e,Zt),kt=new Dt(n,n),Pt=new Float64Array(n),te=new Float64Array(e),ne=new Float64Array(pt),Vt=0;Vt<pt;Vt++)ne[Vt]=Vt;for(var qt=Math.min(e-1,n),ae=Math.max(0,Math.min(n-2,e)),xe=Math.max(qt,ae),Lt=0;Lt<xe;Lt++){if(Lt<qt){Mt[Lt]=0;for(var Ne=Lt;Ne<e;Ne++)Mt[Lt]=ke(Mt[Lt],bt.get(Ne,Lt));if(Mt[Lt]!==0){bt.get(Lt,Lt)<0&&(Mt[Lt]=-Mt[Lt]);for(var be=Lt;be<e;be++)bt.set(be,Lt,bt.get(be,Lt)/Mt[Lt]);bt.set(Lt,Lt,bt.get(Lt,Lt)+1)}Mt[Lt]=-Mt[Lt]}for(var se=Lt+1;se<n;se++){if(Lt<qt&&Mt[Lt]!==0){for(var Ge=0,We=Lt;We<e;We++)Ge+=bt.get(We,Lt)*bt.get(We,se);Ge=-Ge/bt.get(Lt,Lt);for(var ge=Lt;ge<e;ge++)bt.set(ge,se,bt.get(ge,se)+Ge*bt.get(ge,Lt))}Pt[se]=bt.get(Lt,se)}if(dt&&Lt<qt)for(var Be=Lt;Be<e;Be++)At.set(Be,Lt,bt.get(Be,Lt));if(Lt<ae){Pt[Lt]=0;for(var Pe=Lt+1;Pe<n;Pe++)Pt[Lt]=ke(Pt[Lt],Pt[Pe]);if(Pt[Lt]!==0){Pt[Lt+1]<0&&(Pt[Lt]=0-Pt[Lt]);for(var Fe=Lt+1;Fe<n;Fe++)Pt[Fe]/=Pt[Lt];Pt[Lt+1]+=1}if(Pt[Lt]=-Pt[Lt],Lt+1<e&&Pt[Lt]!==0){for(var ye=Lt+1;ye<e;ye++)te[ye]=0;for(var $e=Lt+1;$e<e;$e++)for(var Xe=Lt+1;Xe<n;Xe++)te[$e]+=Pt[Xe]*bt.get($e,Xe);for(var Je=Lt+1;Je<n;Je++)for(var Nn=-Pt[Je]/Pt[Lt+1],Qe=Lt+1;Qe<e;Qe++)bt.set(Qe,Je,bt.get(Qe,Je)+Nn*te[Qe])}if(wt)for(var _e=Lt+1;_e<n;_e++)kt.set(_e,Lt,Pt[_e])}}var ee=Math.min(n,e+1);if(qt<n&&(Mt[qt]=bt.get(qt,qt)),e<ee&&(Mt[ee-1]=0),ae+1<ee&&(Pt[ae]=bt.get(ae,ee-1)),Pt[ee-1]=0,dt){for(var Ve=qt;Ve<Zt;Ve++){for(var He=0;He<e;He++)At.set(He,Ve,0);At.set(Ve,Ve,1)}for(var ue=qt-1;ue>=0;ue--)if(Mt[ue]!==0){for(var je=ue+1;je<Zt;je++){for(var tn=0,en=ue;en<e;en++)tn+=At.get(en,ue)*At.get(en,je);tn=-tn/At.get(ue,ue);for(var qe=ue;qe<e;qe++)At.set(qe,je,At.get(qe,je)+tn*At.get(qe,ue))}for(var y=ue;y<e;y++)At.set(y,ue,-At.get(y,ue));At.set(ue,ue,1+At.get(ue,ue));for(var x=0;x<ue-1;x++)At.set(x,ue,0)}else{for(var O=0;O<e;O++)At.set(O,ue,0);At.set(ue,ue,1)}}if(wt)for(var k=n-1;k>=0;k--){if(k<ae&&Pt[k]!==0)for(var $=k+1;$<n;$++){for(var H=0,et=k+1;et<n;et++)H+=kt.get(et,k)*kt.get(et,$);H=-H/kt.get(k+1,k);for(var rt=k+1;rt<n;rt++)kt.set(rt,$,kt.get(rt,$)+H*kt.get(rt,k))}for(var st=0;st<n;st++)kt.set(st,k,0);kt.set(k,k,1)}for(var ft=ee-1,yt=Number.EPSILON;ee>0;){var Et=void 0,Rt=void 0;for(Et=ee-2;Et>=-1&&Et!==-1;Et--){var Ft=Number.MIN_VALUE+yt*Math.abs(Mt[Et]+Math.abs(Mt[Et+1]));if(Math.abs(Pt[Et])<=Ft||Number.isNaN(Pt[Et])){Pt[Et]=0;break}}if(Et===ee-2)Rt=4;else{var zt=void 0;for(zt=ee-1;zt>=Et&&zt!==Et;zt--){var Yt=(zt!==ee?Math.abs(Pt[zt]):0)+(zt!==Et+1?Math.abs(Pt[zt-1]):0);if(Math.abs(Mt[zt])<=yt*Yt){Mt[zt]=0;break}}zt===Et?Rt=3:zt===ee-1?Rt=1:(Rt=2,Et=zt)}switch(Et++,Rt){case 1:{var $t=Pt[ee-2];Pt[ee-2]=0;for(var Wt=ee-2;Wt>=Et;Wt--){var _t=ke(Mt[Wt],$t),ve=Mt[Wt]/_t,de=$t/_t;if(Mt[Wt]=_t,Wt!==Et&&($t=-de*Pt[Wt-1],Pt[Wt-1]=ve*Pt[Wt-1]),wt)for(var Ue=0;Ue<n;Ue++)_t=ve*kt.get(Ue,Wt)+de*kt.get(Ue,ee-1),kt.set(Ue,ee-1,-de*kt.get(Ue,Wt)+ve*kt.get(Ue,ee-1)),kt.set(Ue,Wt,_t)}break}case 2:{var pn=Pt[Et-1];Pt[Et-1]=0;for(var Ie=Et;Ie<ee;Ie++){var nn=ke(Mt[Ie],pn),On=Mt[Ie]/nn,mn=pn/nn;if(Mt[Ie]=nn,pn=-mn*Pt[Ie],Pt[Ie]=On*Pt[Ie],dt)for(var Ze=0;Ze<e;Ze++)nn=On*At.get(Ze,Ie)+mn*At.get(Ze,Et-1),At.set(Ze,Et-1,-mn*At.get(Ze,Ie)+On*At.get(Ze,Et-1)),At.set(Ze,Ie,nn)}break}case 3:{var rn=Math.max(Math.abs(Mt[ee-1]),Math.abs(Mt[ee-2]),Math.abs(Pt[ee-2]),Math.abs(Mt[Et]),Math.abs(Pt[Et])),Le=Mt[ee-1]/rn,on=Mt[ee-2]/rn,sn=Pt[ee-2]/rn,yn=Mt[Et]/rn,Xn=Pt[Et]/rn,Qt=((on+Le)*(on-Le)+sn*sn)/2,Me=Le*sn*(Le*sn),Oe=0;(Qt!==0||Me!==0)&&(Qt<0?Oe=0-Math.sqrt(Qt*Qt+Me):Oe=Math.sqrt(Qt*Qt+Me),Oe=Me/(Qt+Oe));for(var Te=(yn+Le)*(yn-Le)+Oe,Se=yn*Xn,jt=Et;jt<ee-1;jt++){var Xt=ke(Te,Se);Xt===0&&(Xt=Number.MIN_VALUE);var fe=Te/Xt,pe=Se/Xt;if(jt!==Et&&(Pt[jt-1]=Xt),Te=fe*Mt[jt]+pe*Pt[jt],Pt[jt]=fe*Pt[jt]-pe*Mt[jt],Se=pe*Mt[jt+1],Mt[jt+1]=fe*Mt[jt+1],wt)for(var Re=0;Re<n;Re++)Xt=fe*kt.get(Re,jt)+pe*kt.get(Re,jt+1),kt.set(Re,jt+1,-pe*kt.get(Re,jt)+fe*kt.get(Re,jt+1)),kt.set(Re,jt,Xt);if(Xt=ke(Te,Se),Xt===0&&(Xt=Number.MIN_VALUE),fe=Te/Xt,pe=Se/Xt,Mt[jt]=Xt,Te=fe*Pt[jt]+pe*Mt[jt+1],Mt[jt+1]=-pe*Pt[jt]+fe*Mt[jt+1],Se=pe*Pt[jt+1],Pt[jt+1]=fe*Pt[jt+1],dt&&jt<e-1)for(var De=0;De<e;De++)Xt=fe*At.get(De,jt)+pe*At.get(De,jt+1),At.set(De,jt+1,-pe*At.get(De,jt)+fe*At.get(De,jt+1)),At.set(De,jt,Xt)}Pt[ee-2]=Te;break}case 4:{if(Mt[Et]<=0&&(Mt[Et]=Mt[Et]<0?-Mt[Et]:0,wt))for(var Ke=0;Ke<=ft;Ke++)kt.set(Ke,Et,-kt.get(Ke,Et));for(;Et<ft&&!(Mt[Et]>=Mt[Et+1]);){var Sn=Mt[Et];if(Mt[Et]=Mt[Et+1],Mt[Et+1]=Sn,wt&&Et<n-1)for(var wn=0;wn<n;wn++)Sn=kt.get(wn,Et+1),kt.set(wn,Et+1,kt.get(wn,Et)),kt.set(wn,Et,Sn);if(dt&&Et<e-1)for(var En=0;En<e;En++)Sn=At.get(En,Et+1),At.set(En,Et+1,At.get(En,Et)),At.set(En,Et,Sn);Et++}ee--;break}}}if(Ot){var Qn=kt;kt=At,At=Qn}this.m=e,this.n=n,this.s=Mt,this.U=At,this.V=kt}return Z(N,[{key:"solve",value:function(p){for(var e=p,n=this.threshold,s=this.s.length,E=Dt.zeros(s,s),R=0;R<s;R++)Math.abs(this.s[R])<=n?E.set(R,R,0):E.set(R,R,1/this.s[R]);for(var A=this.U,C=this.rightSingularVectors,ut=C.mmul(E),dt=C.rows,wt=A.rows,Ot=Dt.zeros(dt,wt),bt=0;bt<dt;bt++)for(var Ct=0;Ct<wt;Ct++){for(var Zt=0,pt=0;pt<s;pt++)Zt+=ut.get(bt,pt)*A.get(Ct,pt);Ot.set(bt,Ct,Zt)}return Ot.mmul(e)}},{key:"solveForDiagonal",value:function(p){return this.solve(Dt.diag(p))}},{key:"inverse",value:function(){for(var p=this.V,e=this.threshold,n=p.rows,s=p.columns,E=new Dt(n,this.s.length),R=0;R<n;R++)for(var A=0;A<s;A++)Math.abs(this.s[A])>e&&E.set(R,A,p.get(R,A)/this.s[A]);for(var C=this.U,ut=C.rows,dt=C.columns,wt=new Dt(n,ut),Ot=0;Ot<n;Ot++)for(var bt=0;bt<ut;bt++){for(var Ct=0,Zt=0;Zt<dt;Zt++)Ct+=E.get(Ot,Zt)*C.get(bt,Zt);wt.set(Ot,bt,Ct)}return wt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var p=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,s=0,E=n.length;s<E;s++)n[s]>p&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Dt.diag(this.s)}}]),N}();function Bn(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return N=Ae.checkMatrix(N),D?new Ye(N).inverse():bn(N,Dt.eye(N.rows))}function bn(N,D){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return N=Ae.checkMatrix(N),D=Ae.checkMatrix(D),p?new Ye(N).solve(D):N.isSquare()?new hn(N).solve(D):new ln(N).solve(D)}function gn(N){if(N=Dt.checkMatrix(N),N.isSquare()){if(N.columns===0)return 1;var D,p,e,n;if(N.columns===2)return D=N.get(0,0),p=N.get(0,1),e=N.get(1,0),n=N.get(1,1),D*n-p*e;if(N.columns===3){var s,E,R;return s=new fn(N,[1,2],[1,2]),E=new fn(N,[1,2],[0,2]),R=new fn(N,[1,2],[0,1]),D=N.get(0,0),p=N.get(0,1),e=N.get(0,2),D*gn(s)-p*gn(E)+e*gn(R)}else return new hn(N).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Tn(N,D){for(var p=[],e=0;e<N;e++)e!==D&&p.push(e);return p}function In(N,D,p){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(N>n)return new Array(D.rows+1).fill(0);for(var s=D.addRow(p,[0]),E=0;E<s.rows;E++)Math.abs(s.get(E,0))<e&&s.set(E,0,0);return s.to1DArray()}function Un(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=D.thresholdValue,e=p===void 0?1e-9:p,n=D.thresholdError,s=n===void 0?1e-9:n;N=Dt.checkMatrix(N);for(var E=N.rows,R=new Dt(E,E),A=0;A<E;A++){var C=Dt.columnVector(N.getRow(A)),ut=N.subMatrixRow(Tn(E,A)).transpose(),dt=new Ye(ut),wt=dt.solve(C),Ot=Dt.sub(C,ut.mmul(wt)).abs().max();R.setRow(A,In(Ot,wt,A,e,s))}return R}function Rn(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(N=Dt.checkMatrix(N),N.isEmpty())return N.transpose();for(var p=new Ye(N,{autoTranspose:!0}),e=p.leftSingularVectors,n=p.rightSingularVectors,s=p.diagonal,E=0;E<s.length;E++)Math.abs(s[E])>D?s[E]=1/s[E]:s[E]=0;return n.mmul(Dt.diag(s).mmul(e.transpose()))}function Dn(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};N=new Dt(N);var e=!1;if(K(D)==="object"&&!Dt.isMatrix(D)&&!J.isAnyArray(D)?(p=D,D=N,e=!0):D=new Dt(D),N.rows!==D.rows)throw new TypeError("Both matrices must have the same number of rows");var n=p,s=n.center,E=s===void 0?!0:s;E&&(N=N.center("column"),e||(D=D.center("column")));for(var R=N.transpose().mmul(D),A=0;A<R.rows;A++)for(var C=0;C<R.columns;C++)R.set(A,C,R.get(A,C)*(1/(N.rows-1)));return R}function Cn(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};N=new Dt(N);var e=!1;if(K(D)==="object"&&!Dt.isMatrix(D)&&!J.isAnyArray(D)?(p=D,D=N,e=!0):D=new Dt(D),N.rows!==D.rows)throw new TypeError("Both matrices must have the same number of rows");var n=p,s=n.center,E=s===void 0?!0:s,R=n.scale,A=R===void 0?!0:R;E&&(N.center("column"),e||D.center("column")),A&&(N.scale("column"),e||D.scale("column"));for(var C=N.standardDeviation("column",{unbiased:!0}),ut=e?C:D.standardDeviation("column",{unbiased:!0}),dt=N.transpose().mmul(D),wt=0;wt<dt.rows;wt++)for(var Ot=0;Ot<dt.columns;Ot++)dt.set(wt,Ot,dt.get(wt,Ot)*(1/(C[wt]*ut[Ot]))*(1/(N.rows-1)));return dt}var Gn=function(){function N(D){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,N);var e=p.assumeSymmetric,n=e===void 0?!1:e;if(D=Ae.checkMatrix(D),!D.isSquare())throw new Error("Matrix is not a square matrix");if(D.isEmpty())throw new Error("Matrix must be non-empty");var s=D.columns,E=new Dt(s,s),R=new Float64Array(s),A=new Float64Array(s),C=D,ut,dt,wt=!1;if(n?wt=!0:wt=D.isSymmetric(),wt){for(ut=0;ut<s;ut++)for(dt=0;dt<s;dt++)E.set(ut,dt,C.get(ut,dt));Wn(s,A,R,E),Vn(s,A,R,E)}else{var Ot=new Dt(s,s),bt=new Float64Array(s);for(dt=0;dt<s;dt++)for(ut=0;ut<s;ut++)Ot.set(ut,dt,C.get(ut,dt));Zn(s,Ot,bt,E),Kn(s,A,R,E,Ot)}this.n=s,this.e=A,this.d=R,this.V=E}return Z(N,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var p=this.n,e=this.e,n=this.d,s=new Dt(p,p),E,R;for(E=0;E<p;E++){for(R=0;R<p;R++)s.set(E,R,0);s.set(E,E,n[E]),e[E]>0?s.set(E,E+1,e[E]):e[E]<0&&s.set(E,E-1,e[E])}return s}}]),N}();function Wn(N,D,p,e){var n,s,E,R,A,C,ut,dt;for(A=0;A<N;A++)p[A]=e.get(N-1,A);for(R=N-1;R>0;R--){for(dt=0,E=0,C=0;C<R;C++)dt=dt+Math.abs(p[C]);if(dt===0)for(D[R]=p[R-1],A=0;A<R;A++)p[A]=e.get(R-1,A),e.set(R,A,0),e.set(A,R,0);else{for(C=0;C<R;C++)p[C]/=dt,E+=p[C]*p[C];for(n=p[R-1],s=Math.sqrt(E),n>0&&(s=-s),D[R]=dt*s,E=E-n*s,p[R-1]=n-s,A=0;A<R;A++)D[A]=0;for(A=0;A<R;A++){for(n=p[A],e.set(A,R,n),s=D[A]+e.get(A,A)*n,C=A+1;C<=R-1;C++)s+=e.get(C,A)*p[C],D[C]+=e.get(C,A)*n;D[A]=s}for(n=0,A=0;A<R;A++)D[A]/=E,n+=D[A]*p[A];for(ut=n/(E+E),A=0;A<R;A++)D[A]-=ut*p[A];for(A=0;A<R;A++){for(n=p[A],s=D[A],C=A;C<=R-1;C++)e.set(C,A,e.get(C,A)-(n*D[C]+s*p[C]));p[A]=e.get(R-1,A),e.set(R,A,0)}}p[R]=E}for(R=0;R<N-1;R++){if(e.set(N-1,R,e.get(R,R)),e.set(R,R,1),E=p[R+1],E!==0){for(C=0;C<=R;C++)p[C]=e.get(C,R+1)/E;for(A=0;A<=R;A++){for(s=0,C=0;C<=R;C++)s+=e.get(C,R+1)*e.get(C,A);for(C=0;C<=R;C++)e.set(C,A,e.get(C,A)-s*p[C])}}for(C=0;C<=R;C++)e.set(C,R+1,0)}for(A=0;A<N;A++)p[A]=e.get(N-1,A),e.set(N-1,A,0);e.set(N-1,N-1,1),D[0]=0}function Vn(N,D,p,e){var n,s,E,R,A,C,ut,dt,wt,Ot,bt,Ct,Zt,pt,Mt,At;for(E=1;E<N;E++)D[E-1]=D[E];D[N-1]=0;var kt=0,Pt=0,te=Number.EPSILON;for(C=0;C<N;C++){for(Pt=Math.max(Pt,Math.abs(p[C])+Math.abs(D[C])),ut=C;ut<N&&!(Math.abs(D[ut])<=te*Pt);)ut++;if(ut>C)do{for(n=p[C],dt=(p[C+1]-n)/(2*D[C]),wt=ke(dt,1),dt<0&&(wt=-wt),p[C]=D[C]/(dt+wt),p[C+1]=D[C]*(dt+wt),Ot=p[C+1],s=n-p[C],E=C+2;E<N;E++)p[E]-=s;for(kt=kt+s,dt=p[ut],bt=1,Ct=bt,Zt=bt,pt=D[C+1],Mt=0,At=0,E=ut-1;E>=C;E--)for(Zt=Ct,Ct=bt,At=Mt,n=bt*D[E],s=bt*dt,wt=ke(dt,D[E]),D[E+1]=Mt*wt,Mt=D[E]/wt,bt=dt/wt,dt=bt*p[E]-Mt*n,p[E+1]=s+Mt*(bt*n+Mt*p[E]),A=0;A<N;A++)s=e.get(A,E+1),e.set(A,E+1,Mt*e.get(A,E)+bt*s),e.set(A,E,bt*e.get(A,E)-Mt*s);dt=-Mt*At*Zt*pt*D[C]/Ot,D[C]=Mt*dt,p[C]=bt*dt}while(Math.abs(D[C])>te*Pt);p[C]=p[C]+kt,D[C]=0}for(E=0;E<N-1;E++){for(A=E,dt=p[E],R=E+1;R<N;R++)p[R]<dt&&(A=R,dt=p[R]);if(A!==E)for(p[A]=p[E],p[E]=dt,R=0;R<N;R++)dt=e.get(R,E),e.set(R,E,e.get(R,A)),e.set(R,A,dt)}}function Zn(N,D,p,e){var n=0,s=N-1,E,R,A,C,ut,dt,wt;for(dt=n+1;dt<=s-1;dt++){for(wt=0,C=dt;C<=s;C++)wt=wt+Math.abs(D.get(C,dt-1));if(wt!==0){for(A=0,C=s;C>=dt;C--)p[C]=D.get(C,dt-1)/wt,A+=p[C]*p[C];for(R=Math.sqrt(A),p[dt]>0&&(R=-R),A=A-p[dt]*R,p[dt]=p[dt]-R,ut=dt;ut<N;ut++){for(E=0,C=s;C>=dt;C--)E+=p[C]*D.get(C,ut);for(E=E/A,C=dt;C<=s;C++)D.set(C,ut,D.get(C,ut)-E*p[C])}for(C=0;C<=s;C++){for(E=0,ut=s;ut>=dt;ut--)E+=p[ut]*D.get(C,ut);for(E=E/A,ut=dt;ut<=s;ut++)D.set(C,ut,D.get(C,ut)-E*p[ut])}p[dt]=wt*p[dt],D.set(dt,dt-1,wt*R)}}for(C=0;C<N;C++)for(ut=0;ut<N;ut++)e.set(C,ut,C===ut?1:0);for(dt=s-1;dt>=n+1;dt--)if(D.get(dt,dt-1)!==0){for(C=dt+1;C<=s;C++)p[C]=D.get(C,dt-1);for(ut=dt;ut<=s;ut++){for(R=0,C=dt;C<=s;C++)R+=p[C]*e.get(C,ut);for(R=R/p[dt]/D.get(dt,dt-1),C=dt;C<=s;C++)e.set(C,ut,e.get(C,ut)+R*p[C])}}}function Kn(N,D,p,e,n){var s=N-1,E=0,R=N-1,A=Number.EPSILON,C=0,ut=0,dt=0,wt=0,Ot=0,bt=0,Ct=0,Zt=0,pt,Mt,At,kt,Pt,te,ne,Vt,qt,ae,xe,Lt,Ne,be,se;for(pt=0;pt<N;pt++)for((pt<E||pt>R)&&(p[pt]=n.get(pt,pt),D[pt]=0),Mt=Math.max(pt-1,0);Mt<N;Mt++)ut=ut+Math.abs(n.get(pt,Mt));for(;s>=E;){for(kt=s;kt>E&&(bt=Math.abs(n.get(kt-1,kt-1))+Math.abs(n.get(kt,kt)),bt===0&&(bt=ut),!(Math.abs(n.get(kt,kt-1))<A*bt));)kt--;if(kt===s)n.set(s,s,n.get(s,s)+C),p[s]=n.get(s,s),D[s]=0,s--,Zt=0;else if(kt===s-1){if(ne=n.get(s,s-1)*n.get(s-1,s),dt=(n.get(s-1,s-1)-n.get(s,s))/2,wt=dt*dt+ne,Ct=Math.sqrt(Math.abs(wt)),n.set(s,s,n.get(s,s)+C),n.set(s-1,s-1,n.get(s-1,s-1)+C),Vt=n.get(s,s),wt>=0){for(Ct=dt>=0?dt+Ct:dt-Ct,p[s-1]=Vt+Ct,p[s]=p[s-1],Ct!==0&&(p[s]=Vt-ne/Ct),D[s-1]=0,D[s]=0,Vt=n.get(s,s-1),bt=Math.abs(Vt)+Math.abs(Ct),dt=Vt/bt,wt=Ct/bt,Ot=Math.sqrt(dt*dt+wt*wt),dt=dt/Ot,wt=wt/Ot,Mt=s-1;Mt<N;Mt++)Ct=n.get(s-1,Mt),n.set(s-1,Mt,wt*Ct+dt*n.get(s,Mt)),n.set(s,Mt,wt*n.get(s,Mt)-dt*Ct);for(pt=0;pt<=s;pt++)Ct=n.get(pt,s-1),n.set(pt,s-1,wt*Ct+dt*n.get(pt,s)),n.set(pt,s,wt*n.get(pt,s)-dt*Ct);for(pt=E;pt<=R;pt++)Ct=e.get(pt,s-1),e.set(pt,s-1,wt*Ct+dt*e.get(pt,s)),e.set(pt,s,wt*e.get(pt,s)-dt*Ct)}else p[s-1]=Vt+dt,p[s]=Vt+dt,D[s-1]=Ct,D[s]=-Ct;s=s-2,Zt=0}else{if(Vt=n.get(s,s),qt=0,ne=0,kt<s&&(qt=n.get(s-1,s-1),ne=n.get(s,s-1)*n.get(s-1,s)),Zt===10){for(C+=Vt,pt=E;pt<=s;pt++)n.set(pt,pt,n.get(pt,pt)-Vt);bt=Math.abs(n.get(s,s-1))+Math.abs(n.get(s-1,s-2)),Vt=qt=.75*bt,ne=-.4375*bt*bt}if(Zt===30&&(bt=(qt-Vt)/2,bt=bt*bt+ne,bt>0)){for(bt=Math.sqrt(bt),qt<Vt&&(bt=-bt),bt=Vt-ne/((qt-Vt)/2+bt),pt=E;pt<=s;pt++)n.set(pt,pt,n.get(pt,pt)-bt);C+=bt,Vt=qt=ne=.964}for(Zt=Zt+1,Pt=s-2;Pt>=kt&&(Ct=n.get(Pt,Pt),Ot=Vt-Ct,bt=qt-Ct,dt=(Ot*bt-ne)/n.get(Pt+1,Pt)+n.get(Pt,Pt+1),wt=n.get(Pt+1,Pt+1)-Ct-Ot-bt,Ot=n.get(Pt+2,Pt+1),bt=Math.abs(dt)+Math.abs(wt)+Math.abs(Ot),dt=dt/bt,wt=wt/bt,Ot=Ot/bt,!(Pt===kt||Math.abs(n.get(Pt,Pt-1))*(Math.abs(wt)+Math.abs(Ot))<A*(Math.abs(dt)*(Math.abs(n.get(Pt-1,Pt-1))+Math.abs(Ct)+Math.abs(n.get(Pt+1,Pt+1))))));)Pt--;for(pt=Pt+2;pt<=s;pt++)n.set(pt,pt-2,0),pt>Pt+2&&n.set(pt,pt-3,0);for(At=Pt;At<=s-1&&(be=At!==s-1,At!==Pt&&(dt=n.get(At,At-1),wt=n.get(At+1,At-1),Ot=be?n.get(At+2,At-1):0,Vt=Math.abs(dt)+Math.abs(wt)+Math.abs(Ot),Vt!==0&&(dt=dt/Vt,wt=wt/Vt,Ot=Ot/Vt)),Vt!==0);At++)if(bt=Math.sqrt(dt*dt+wt*wt+Ot*Ot),dt<0&&(bt=-bt),bt!==0){for(At!==Pt?n.set(At,At-1,-bt*Vt):kt!==Pt&&n.set(At,At-1,-n.get(At,At-1)),dt=dt+bt,Vt=dt/bt,qt=wt/bt,Ct=Ot/bt,wt=wt/dt,Ot=Ot/dt,Mt=At;Mt<N;Mt++)dt=n.get(At,Mt)+wt*n.get(At+1,Mt),be&&(dt=dt+Ot*n.get(At+2,Mt),n.set(At+2,Mt,n.get(At+2,Mt)-dt*Ct)),n.set(At,Mt,n.get(At,Mt)-dt*Vt),n.set(At+1,Mt,n.get(At+1,Mt)-dt*qt);for(pt=0;pt<=Math.min(s,At+3);pt++)dt=Vt*n.get(pt,At)+qt*n.get(pt,At+1),be&&(dt=dt+Ct*n.get(pt,At+2),n.set(pt,At+2,n.get(pt,At+2)-dt*Ot)),n.set(pt,At,n.get(pt,At)-dt),n.set(pt,At+1,n.get(pt,At+1)-dt*wt);for(pt=E;pt<=R;pt++)dt=Vt*e.get(pt,At)+qt*e.get(pt,At+1),be&&(dt=dt+Ct*e.get(pt,At+2),e.set(pt,At+2,e.get(pt,At+2)-dt*Ot)),e.set(pt,At,e.get(pt,At)-dt),e.set(pt,At+1,e.get(pt,At+1)-dt*wt)}}}if(ut!==0){for(s=N-1;s>=0;s--)if(dt=p[s],wt=D[s],wt===0)for(kt=s,n.set(s,s,1),pt=s-1;pt>=0;pt--){for(ne=n.get(pt,pt)-dt,Ot=0,Mt=kt;Mt<=s;Mt++)Ot=Ot+n.get(pt,Mt)*n.get(Mt,s);if(D[pt]<0)Ct=ne,bt=Ot;else if(kt=pt,D[pt]===0?n.set(pt,s,ne!==0?-Ot/ne:-Ot/(A*ut)):(Vt=n.get(pt,pt+1),qt=n.get(pt+1,pt),wt=(p[pt]-dt)*(p[pt]-dt)+D[pt]*D[pt],te=(Vt*bt-Ct*Ot)/wt,n.set(pt,s,te),n.set(pt+1,s,Math.abs(Vt)>Math.abs(Ct)?(-Ot-ne*te)/Vt:(-bt-qt*te)/Ct)),te=Math.abs(n.get(pt,s)),A*te*te>1)for(Mt=pt;Mt<=s;Mt++)n.set(Mt,s,n.get(Mt,s)/te)}else if(wt<0)for(kt=s-1,Math.abs(n.get(s,s-1))>Math.abs(n.get(s-1,s))?(n.set(s-1,s-1,wt/n.get(s,s-1)),n.set(s-1,s,-(n.get(s,s)-dt)/n.get(s,s-1))):(se=vn(0,-n.get(s-1,s),n.get(s-1,s-1)-dt,wt),n.set(s-1,s-1,se[0]),n.set(s-1,s,se[1])),n.set(s,s-1,0),n.set(s,s,1),pt=s-2;pt>=0;pt--){for(ae=0,xe=0,Mt=kt;Mt<=s;Mt++)ae=ae+n.get(pt,Mt)*n.get(Mt,s-1),xe=xe+n.get(pt,Mt)*n.get(Mt,s);if(ne=n.get(pt,pt)-dt,D[pt]<0)Ct=ne,Ot=ae,bt=xe;else if(kt=pt,D[pt]===0?(se=vn(-ae,-xe,ne,wt),n.set(pt,s-1,se[0]),n.set(pt,s,se[1])):(Vt=n.get(pt,pt+1),qt=n.get(pt+1,pt),Lt=(p[pt]-dt)*(p[pt]-dt)+D[pt]*D[pt]-wt*wt,Ne=(p[pt]-dt)*2*wt,Lt===0&&Ne===0&&(Lt=A*ut*(Math.abs(ne)+Math.abs(wt)+Math.abs(Vt)+Math.abs(qt)+Math.abs(Ct))),se=vn(Vt*Ot-Ct*ae+wt*xe,Vt*bt-Ct*xe-wt*ae,Lt,Ne),n.set(pt,s-1,se[0]),n.set(pt,s,se[1]),Math.abs(Vt)>Math.abs(Ct)+Math.abs(wt)?(n.set(pt+1,s-1,(-ae-ne*n.get(pt,s-1)+wt*n.get(pt,s))/Vt),n.set(pt+1,s,(-xe-ne*n.get(pt,s)-wt*n.get(pt,s-1))/Vt)):(se=vn(-Ot-qt*n.get(pt,s-1),-bt-qt*n.get(pt,s),Ct,wt),n.set(pt+1,s-1,se[0]),n.set(pt+1,s,se[1]))),te=Math.max(Math.abs(n.get(pt,s-1)),Math.abs(n.get(pt,s))),A*te*te>1)for(Mt=pt;Mt<=s;Mt++)n.set(Mt,s-1,n.get(Mt,s-1)/te),n.set(Mt,s,n.get(Mt,s)/te)}for(pt=0;pt<N;pt++)if(pt<E||pt>R)for(Mt=pt;Mt<N;Mt++)e.set(pt,Mt,n.get(pt,Mt));for(Mt=N-1;Mt>=E;Mt--)for(pt=E;pt<=R;pt++){for(Ct=0,At=E;At<=Math.min(Mt,R);At++)Ct=Ct+e.get(pt,At)*n.get(At,Mt);e.set(pt,Mt,Ct)}}}function vn(N,D,p,e){var n,s;return Math.abs(p)>Math.abs(e)?(n=e/p,s=p+n*e,[(N+n*D)/s,(D-n*N)/s]):(n=p/e,s=e+n*p,[(n*N+D)/s,(n*D-N)/s])}var Mn=function(){function N(D){if(F(this,N),D=Ae.checkMatrix(D),!D.isSymmetric())throw new Error("Matrix is not symmetric");var p=D,e=p.rows,n=new Dt(e,e),s=!0,E,R,A;for(R=0;R<e;R++){var C=0;for(A=0;A<R;A++){var ut=0;for(E=0;E<A;E++)ut+=n.get(A,E)*n.get(R,E);ut=(p.get(R,A)-ut)/n.get(A,A),n.set(R,A,ut),C=C+ut*ut}for(C=p.get(R,R)-C,s&&(s=C>0),n.set(R,R,Math.sqrt(Math.max(C,0))),A=R+1;A<e;A++)n.set(R,A,0)}this.L=n,this.positiveDefinite=s}return Z(N,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(p){p=Ae.checkMatrix(p);var e=this.L,n=e.rows;if(p.rows!==n)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var s=p.columns,E=p.clone(),R,A,C;for(C=0;C<n;C++)for(A=0;A<s;A++){for(R=0;R<C;R++)E.set(C,A,E.get(C,A)-E.get(R,A)*e.get(C,R));E.set(C,A,E.get(C,A)/e.get(C,C))}for(C=n-1;C>=0;C--)for(A=0;A<s;A++){for(R=C+1;R<n;R++)E.set(C,A,E.get(C,A)-E.get(R,A)*e.get(R,C));E.set(C,A,E.get(C,A)/e.get(C,C))}return E}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),N}(),Ln=Z(function N(D){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,N),D=Ae.checkMatrix(D);var e=p.Y,n=p.scaleScores,s=n===void 0?!1:n,E=p.maxIterations,R=E===void 0?1e3:E,A=p.terminationCriteria,C=A===void 0?1e-10:A,ut;if(e){if(J.isAnyArray(e)&&typeof e[0]=="number"?e=Dt.columnVector(e):e=Ae.checkMatrix(e),e.rows!==D.rows)throw new Error("Y should have the same number of rows as X");ut=e.getColumnVector(0)}else ut=D.getColumnVector(0);for(var dt=1,wt,Ot,bt,Ct,Zt=0;Zt<R&&dt>C;Zt++)bt=D.transpose().mmul(ut).div(ut.transpose().mmul(ut).get(0,0)),bt=bt.div(bt.norm()),wt=D.mmul(bt).div(bt.transpose().mmul(bt).get(0,0)),Zt>0&&(dt=wt.clone().sub(Ct).pow(2).sum()),Ct=wt.clone(),e?(Ot=e.transpose().mmul(wt).div(wt.transpose().mmul(wt).get(0,0)),Ot=Ot.div(Ot.norm()),ut=e.mmul(Ot).div(Ot.transpose().mmul(Ot).get(0,0))):ut=wt;if(e){var pt=D.transpose().mmul(wt).div(wt.transpose().mmul(wt).get(0,0));pt=pt.div(pt.norm());var Mt=D.clone().sub(wt.clone().mmul(pt.transpose())),At=ut.transpose().mmul(wt).div(wt.transpose().mmul(wt).get(0,0)),kt=e.clone().sub(wt.clone().mulS(At.get(0,0)).mmul(Ot.transpose()));this.t=wt,this.p=pt.transpose(),this.w=bt.transpose(),this.q=Ot,this.u=ut,this.s=wt.transpose().mmul(wt),this.xResidual=Mt,this.yResidual=kt,this.betas=At}else this.w=bt.transpose(),this.s=wt.transpose().mmul(wt).sqrt(),s?this.t=wt.clone().div(this.s.get(0,0)):this.t=wt,this.xResidual=D.sub(wt.mmul(bt.transpose()))});b.XA=Gt,b.a_=Mn,b.yQ=Mn,b.Hs=we,b.Ec=Gn,b.dx=Gn,b.LU=hn,b.Rm=hn,b.y3=Dt,b.qK=un,b.pb=an,b.j=dn,b.sO=Ce,b.BZ=zn,b.EK=ze,b.Db=fn,b.Fx=An,b.tU=Pn,b.Ym=Ln,b.rs=Ln,b.QR=ln,b.TB=ln,b.oH=Ye,b.Sc=Ye,b.BN=oe,b.it=cn,b.$r=Ae,b.QM=Cn,b.AV=Dn,r=Dt,b.GH=gn,b.SO=Bn,b.uZ=Un,b.yU=Rn,b.F1=bn,b.re=kn},70681:function(f,b,t){f.exports={graphlib:t(70574),layout:t(98123),debug:t(27570),util:{time:t(11138).time,notime:t(11138).notime},version:t(88177)}},92188:function(f,b,t){"use strict";var r=t(38436),d=t(74079);f.exports={run:u,undo:a};function u(g){var v=g.graph().acyclicer==="greedy"?d(g,c(g)):l(g);r.forEach(v,function(o){var i=g.edge(o);g.removeEdge(o),i.forwardName=o.name,i.reversed=!0,g.setEdge(o.w,o.v,i,r.uniqueId("rev"))});function c(o){return function(i){return o.edge(i).weight}}}function l(g){var v=[],c={},o={};function i(h){r.has(o,h)||(o[h]=!0,c[h]=!0,r.forEach(g.outEdges(h),function(m){r.has(c,m.w)?v.push(m):i(m.w)}),delete c[h])}return r.forEach(g.nodes(),i),v}function a(g){r.forEach(g.edges(),function(v){var c=g.edge(v);if(c.reversed){g.removeEdge(v);var o=c.forwardName;delete c.reversed,delete c.forwardName,g.setEdge(v.w,v.v,c,o)}})}},61133:function(f,b,t){var r=t(38436),d=t(11138);f.exports=u;function u(a){function g(v){var c=a.children(v),o=a.node(v);if(c.length&&r.forEach(c,g),r.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,h=o.maxRank+1;i<h;++i)l(a,"borderLeft","_bl",v,o,i),l(a,"borderRight","_br",v,o,i)}}r.forEach(a.children(),g)}function l(a,g,v,c,o,i){var h={width:0,height:0,rank:i,borderType:g},m=o[g][i-1],w=d.addDummyNode(a,"border",h,v);o[g][i]=w,a.setParent(w,c),m&&a.setEdge(m,w,{weight:1})}},53258:function(f,b,t){"use strict";var r=t(38436);f.exports={adjust:d,undo:u};function d(i){var h=i.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&l(i)}function u(i){var h=i.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&g(i),(h==="lr"||h==="rl")&&(c(i),l(i))}function l(i){r.forEach(i.nodes(),function(h){a(i.node(h))}),r.forEach(i.edges(),function(h){a(i.edge(h))})}function a(i){var h=i.width;i.width=i.height,i.height=h}function g(i){r.forEach(i.nodes(),function(h){v(i.node(h))}),r.forEach(i.edges(),function(h){var m=i.edge(h);r.forEach(m.points,v),r.has(m,"y")&&v(m)})}function v(i){i.y=-i.y}function c(i){r.forEach(i.nodes(),function(h){o(i.node(h))}),r.forEach(i.edges(),function(h){var m=i.edge(h);r.forEach(m.points,o),r.has(m,"x")&&o(m)})}function o(i){var h=i.x;i.x=i.y,i.y=h}},77822:function(f){f.exports=b;function b(){var d={};d._next=d._prev=d,this._sentinel=d}b.prototype.dequeue=function(){var d=this._sentinel,u=d._prev;if(u!==d)return t(u),u},b.prototype.enqueue=function(d){var u=this._sentinel;d._prev&&d._next&&t(d),d._next=u._next,u._next._prev=d,u._next=d,d._prev=u},b.prototype.toString=function(){for(var d=[],u=this._sentinel,l=u._prev;l!==u;)d.push(JSON.stringify(l,r)),l=l._prev;return"["+d.join(", ")+"]"};function t(d){d._prev._next=d._next,d._next._prev=d._prev,delete d._next,delete d._prev}function r(d,u){if(d!=="_next"&&d!=="_prev")return u}},27570:function(f,b,t){var r=t(38436),d=t(11138),u=t(70574).Graph;f.exports={debugOrdering:l};function l(a){var g=d.buildLayerMatrix(a),v=new u({compound:!0,multigraph:!0}).setGraph({});return r.forEach(a.nodes(),function(c){v.setNode(c,{label:c}),v.setParent(c,"layer"+a.node(c).rank)}),r.forEach(a.edges(),function(c){v.setEdge(c.v,c.w,{},c.name)}),r.forEach(g,function(c,o){var i="layer"+o;v.setNode(i,{rank:"same"}),r.reduce(c,function(h,m){return v.setEdge(h,m,{style:"invis"}),m})}),v}},70574:function(f,b,t){var r;try{r=t(28282)}catch(d){}r||(r=window.graphlib),f.exports=r},74079:function(f,b,t){var r=t(38436),d=t(70574).Graph,u=t(77822);f.exports=a;var l=r.constant(1);function a(i,h){if(i.nodeCount()<=1)return[];var m=c(i,h||l),w=g(m.graph,m.buckets,m.zeroIdx);return r.flatten(r.map(w,function(M){return i.outEdges(M.v,M.w)}),!0)}function g(i,h,m){for(var w=[],M=h[h.length-1],Y=h[0],K;i.nodeCount();){for(;K=Y.dequeue();)v(i,h,m,K);for(;K=M.dequeue();)v(i,h,m,K);if(i.nodeCount()){for(var F=h.length-2;F>0;--F)if(K=h[F].dequeue(),K){w=w.concat(v(i,h,m,K,!0));break}}}return w}function v(i,h,m,w,M){var Y=M?[]:void 0;return r.forEach(i.inEdges(w.v),function(K){var F=i.edge(K),Z=i.node(K.v);M&&Y.push({v:K.v,w:K.w}),Z.out-=F,o(h,m,Z)}),r.forEach(i.outEdges(w.v),function(K){var F=i.edge(K),Z=K.w,J=i.node(Z);J.in-=F,o(h,m,J)}),i.removeNode(w.v),Y}function c(i,h){var m=new d,w=0,M=0;r.forEach(i.nodes(),function(F){m.setNode(F,{v:F,in:0,out:0})}),r.forEach(i.edges(),function(F){var Z=m.edge(F.v,F.w)||0,J=h(F),Q=Z+J;m.setEdge(F.v,F.w,Q),M=Math.max(M,m.node(F.v).out+=J),w=Math.max(w,m.node(F.w).in+=J)});var Y=r.range(M+w+3).map(function(){return new u}),K=w+1;return r.forEach(m.nodes(),function(F){o(Y,K,m.node(F))}),{graph:m,buckets:Y,zeroIdx:K}}function o(i,h,m){m.out?m.in?i[m.out-m.in+h].enqueue(m):i[i.length-1].enqueue(m):i[0].enqueue(m)}},98123:function(f,b,t){"use strict";var r=t(38436),d=t(92188),u=t(45995),l=t(78093),a=t(11138).normalizeRanks,g=t(24219),v=t(11138).removeEmptyRanks,c=t(72981),o=t(61133),i=t(53258),h=t(53408),m=t(17873),w=t(11138),M=t(70574).Graph;f.exports=Y;function Y(_,ht){var lt=ht&&ht.debugTiming?w.time:w.notime;lt("layout",function(){var at=lt("  buildLayoutGraph",function(){return U(_)});lt("  runLayout",function(){K(at,lt)}),lt("  updateInputGraph",function(){F(_,at)})})}function K(_,ht){ht("    makeSpaceForEdgeLabels",function(){S(_)}),ht("    removeSelfEdges",function(){ot(_)}),ht("    acyclic",function(){d.run(_)}),ht("    nestingGraph.run",function(){c.run(_)}),ht("    rank",function(){l(w.asNonCompoundGraph(_))}),ht("    injectEdgeLabelProxies",function(){P(_)}),ht("    removeEmptyRanks",function(){v(_)}),ht("    nestingGraph.cleanup",function(){c.cleanup(_)}),ht("    normalizeRanks",function(){a(_)}),ht("    assignRankMinMax",function(){X(_)}),ht("    removeEdgeLabelProxies",function(){W(_)}),ht("    normalize.run",function(){u.run(_)}),ht("    parentDummyChains",function(){g(_)}),ht("    addBorderSegments",function(){o(_)}),ht("    order",function(){h(_)}),ht("    insertSelfEdges",function(){ct(_)}),ht("    adjustCoordinateSystem",function(){i.adjust(_)}),ht("    position",function(){m(_)}),ht("    positionSelfEdges",function(){nt(_)}),ht("    removeBorderNodes",function(){tt(_)}),ht("    normalize.undo",function(){u.undo(_)}),ht("    fixupEdgeLabelCoords",function(){j(_)}),ht("    undoCoordinateSystem",function(){i.undo(_)}),ht("    translateGraph",function(){I(_)}),ht("    assignNodeIntersects",function(){V(_)}),ht("    reversePoints",function(){q(_)}),ht("    acyclic.undo",function(){d.undo(_)})}function F(_,ht){r.forEach(_.nodes(),function(lt){var at=_.node(lt),Nt=ht.node(lt);at&&(at.x=Nt.x,at.y=Nt.y,ht.children(lt).length&&(at.width=Nt.width,at.height=Nt.height))}),r.forEach(_.edges(),function(lt){var at=_.edge(lt),Nt=ht.edge(lt);at.points=Nt.points,r.has(Nt,"x")&&(at.x=Nt.x,at.y=Nt.y)}),_.graph().width=ht.graph().width,_.graph().height=ht.graph().height}var Z=["nodesep","edgesep","ranksep","marginx","marginy"],J={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Q=["acyclicer","ranker","rankdir","align"],L=["width","height"],B={width:0,height:0},T=["minlen","weight","width","height","labeloffset"],z={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},G=["labelpos"];function U(_){var ht=new M({multigraph:!0,compound:!0}),lt=it(_.graph());return ht.setGraph(r.merge({},J,gt(lt,Z),r.pick(lt,Q))),r.forEach(_.nodes(),function(at){var Nt=it(_.node(at));ht.setNode(at,r.defaults(gt(Nt,L),B)),ht.setParent(at,_.parent(at))}),r.forEach(_.edges(),function(at){var Nt=it(_.edge(at));ht.setEdge(at,r.merge({},z,gt(Nt,T),r.pick(Nt,G)))}),ht}function S(_){var ht=_.graph();ht.ranksep/=2,r.forEach(_.edges(),function(lt){var at=_.edge(lt);at.minlen*=2,at.labelpos.toLowerCase()!=="c"&&(ht.rankdir==="TB"||ht.rankdir==="BT"?at.width+=at.labeloffset:at.height+=at.labeloffset)})}function P(_){r.forEach(_.edges(),function(ht){var lt=_.edge(ht);if(lt.width&&lt.height){var at=_.node(ht.v),Nt=_.node(ht.w),vt={rank:(Nt.rank-at.rank)/2+at.rank,e:ht};w.addDummyNode(_,"edge-proxy",vt,"_ep")}})}function X(_){var ht=0;r.forEach(_.nodes(),function(lt){var at=_.node(lt);at.borderTop&&(at.minRank=_.node(at.borderTop).rank,at.maxRank=_.node(at.borderBottom).rank,ht=r.max(ht,at.maxRank))}),_.graph().maxRank=ht}function W(_){r.forEach(_.nodes(),function(ht){var lt=_.node(ht);lt.dummy==="edge-proxy"&&(_.edge(lt.e).labelRank=lt.rank,_.removeNode(ht))})}function I(_){var ht=Number.POSITIVE_INFINITY,lt=0,at=Number.POSITIVE_INFINITY,Nt=0,vt=_.graph(),mt=vt.marginx||0,xt=vt.marginy||0;function St(Tt){var It=Tt.x,Bt=Tt.y,Ht=Tt.width,Ut=Tt.height;ht=Math.min(ht,It-Ht/2),lt=Math.max(lt,It+Ht/2),at=Math.min(at,Bt-Ut/2),Nt=Math.max(Nt,Bt+Ut/2)}r.forEach(_.nodes(),function(Tt){St(_.node(Tt))}),r.forEach(_.edges(),function(Tt){var It=_.edge(Tt);r.has(It,"x")&&St(It)}),ht-=mt,at-=xt,r.forEach(_.nodes(),function(Tt){var It=_.node(Tt);It.x-=ht,It.y-=at}),r.forEach(_.edges(),function(Tt){var It=_.edge(Tt);r.forEach(It.points,function(Bt){Bt.x-=ht,Bt.y-=at}),r.has(It,"x")&&(It.x-=ht),r.has(It,"y")&&(It.y-=at)}),vt.width=lt-ht+mt,vt.height=Nt-at+xt}function V(_){r.forEach(_.edges(),function(ht){var lt=_.edge(ht),at=_.node(ht.v),Nt=_.node(ht.w),vt,mt;lt.points?(vt=lt.points[0],mt=lt.points[lt.points.length-1]):(lt.points=[],vt=Nt,mt=at),lt.points.unshift(w.intersectRect(at,vt)),lt.points.push(w.intersectRect(Nt,mt))})}function j(_){r.forEach(_.edges(),function(ht){var lt=_.edge(ht);if(r.has(lt,"x"))switch((lt.labelpos==="l"||lt.labelpos==="r")&&(lt.width-=lt.labeloffset),lt.labelpos){case"l":lt.x-=lt.width/2+lt.labeloffset;break;case"r":lt.x+=lt.width/2+lt.labeloffset;break}})}function q(_){r.forEach(_.edges(),function(ht){var lt=_.edge(ht);lt.reversed&&lt.points.reverse()})}function tt(_){r.forEach(_.nodes(),function(ht){if(_.children(ht).length){var lt=_.node(ht),at=_.node(lt.borderTop),Nt=_.node(lt.borderBottom),vt=_.node(r.last(lt.borderLeft)),mt=_.node(r.last(lt.borderRight));lt.width=Math.abs(mt.x-vt.x),lt.height=Math.abs(Nt.y-at.y),lt.x=vt.x+lt.width/2,lt.y=at.y+lt.height/2}}),r.forEach(_.nodes(),function(ht){_.node(ht).dummy==="border"&&_.removeNode(ht)})}function ot(_){r.forEach(_.edges(),function(ht){if(ht.v===ht.w){var lt=_.node(ht.v);lt.selfEdges||(lt.selfEdges=[]),lt.selfEdges.push({e:ht,label:_.edge(ht)}),_.removeEdge(ht)}})}function ct(_){var ht=w.buildLayerMatrix(_);r.forEach(ht,function(lt){var at=0;r.forEach(lt,function(Nt,vt){var mt=_.node(Nt);mt.order=vt+at,r.forEach(mt.selfEdges,function(xt){w.addDummyNode(_,"selfedge",{width:xt.label.width,height:xt.label.height,rank:mt.rank,order:vt+ ++at,e:xt.e,label:xt.label},"_se")}),delete mt.selfEdges})})}function nt(_){r.forEach(_.nodes(),function(ht){var lt=_.node(ht);if(lt.dummy==="selfedge"){var at=_.node(lt.e.v),Nt=at.x+at.width/2,vt=at.y,mt=lt.x-Nt,xt=at.height/2;_.setEdge(lt.e,lt.label),_.removeNode(ht),lt.label.points=[{x:Nt+2*mt/3,y:vt-xt},{x:Nt+5*mt/6,y:vt-xt},{x:Nt+mt,y:vt},{x:Nt+5*mt/6,y:vt+xt},{x:Nt+2*mt/3,y:vt+xt}],lt.label.x=lt.x,lt.label.y=lt.y}})}function gt(_,ht){return r.mapValues(r.pick(_,ht),Number)}function it(_){var ht={};return r.forEach(_,function(lt,at){ht[at.toLowerCase()]=lt}),ht}},38436:function(f,b,t){var r;try{r={cloneDeep:t(50361),constant:t(75703),defaults:t(91747),each:t(66073),filter:t(63105),find:t(13311),flatten:t(85564),forEach:t(84486),forIn:t(62620),has:t(18721),isUndefined:t(52353),last:t(10928),map:t(35161),mapValues:t(66604),max:t(6162),merge:t(82492),min:t(53632),minBy:t(22762),now:t(7771),pick:t(78718),range:t(96026),reduce:t(54061),sortBy:t(89734),uniqueId:t(73955),values:t(52628),zipObject:t(7287)}}catch(d){}r||(r=window._),f.exports=r},72981:function(f,b,t){var r=t(38436),d=t(11138);f.exports={run:u,cleanup:v};function u(c){var o=d.addDummyNode(c,"root",{},"_root"),i=a(c),h=r.max(r.values(i))-1,m=2*h+1;c.graph().nestingRoot=o,r.forEach(c.edges(),function(M){c.edge(M).minlen*=m});var w=g(c)+1;r.forEach(c.children(),function(M){l(c,o,m,w,h,i,M)}),c.graph().nodeRankFactor=m}function l(c,o,i,h,m,w,M){var Y=c.children(M);if(!Y.length){M!==o&&c.setEdge(o,M,{weight:0,minlen:i});return}var K=d.addBorderNode(c,"_bt"),F=d.addBorderNode(c,"_bb"),Z=c.node(M);c.setParent(K,M),Z.borderTop=K,c.setParent(F,M),Z.borderBottom=F,r.forEach(Y,function(J){l(c,o,i,h,m,w,J);var Q=c.node(J),L=Q.borderTop?Q.borderTop:J,B=Q.borderBottom?Q.borderBottom:J,T=Q.borderTop?h:2*h,z=L!==B?1:m-w[M]+1;c.setEdge(K,L,{weight:T,minlen:z,nestingEdge:!0}),c.setEdge(B,F,{weight:T,minlen:z,nestingEdge:!0})}),c.parent(M)||c.setEdge(o,K,{weight:0,minlen:m+w[M]})}function a(c){var o={};function i(h,m){var w=c.children(h);w&&w.length&&r.forEach(w,function(M){i(M,m+1)}),o[h]=m}return r.forEach(c.children(),function(h){i(h,1)}),o}function g(c){return r.reduce(c.edges(),function(o,i){return o+c.edge(i).weight},0)}function v(c){var o=c.graph();c.removeNode(o.nestingRoot),delete o.nestingRoot,r.forEach(c.edges(),function(i){var h=c.edge(i);h.nestingEdge&&c.removeEdge(i)})}},45995:function(f,b,t){"use strict";var r=t(38436),d=t(11138);f.exports={run:u,undo:a};function u(g){g.graph().dummyChains=[],r.forEach(g.edges(),function(v){l(g,v)})}function l(g,v){var c=v.v,o=g.node(c).rank,i=v.w,h=g.node(i).rank,m=v.name,w=g.edge(v),M=w.labelRank;if(h!==o+1){g.removeEdge(v);var Y,K,F;for(F=0,++o;o<h;++F,++o)w.points=[],K={width:0,height:0,edgeLabel:w,edgeObj:v,rank:o},Y=d.addDummyNode(g,"edge",K,"_d"),o===M&&(K.width=w.width,K.height=w.height,K.dummy="edge-label",K.labelpos=w.labelpos),g.setEdge(c,Y,{weight:w.weight},m),F===0&&g.graph().dummyChains.push(Y),c=Y;g.setEdge(c,i,{weight:w.weight},m)}}function a(g){r.forEach(g.graph().dummyChains,function(v){var c=g.node(v),o=c.edgeLabel,i;for(g.setEdge(c.edgeObj,o);c.dummy;)i=g.successors(v)[0],g.removeNode(v),o.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(o.x=c.x,o.y=c.y,o.width=c.width,o.height=c.height),v=i,c=g.node(v)})}},55093:function(f,b,t){var r=t(38436);f.exports=d;function d(u,l,a){var g={},v;r.forEach(a,function(c){for(var o=u.parent(c),i,h;o;){if(i=u.parent(o),i?(h=g[i],g[i]=o):(h=v,v=o),h&&h!==o){l.setEdge(h,o);return}o=i}})}},35439:function(f,b,t){var r=t(38436);f.exports=d;function d(u,l){return r.map(l,function(a){var g=u.inEdges(a);if(g.length){var v=r.reduce(g,function(c,o){var i=u.edge(o),h=u.node(o.v);return{sum:c.sum+i.weight*h.order,weight:c.weight+i.weight}},{sum:0,weight:0});return{v:a,barycenter:v.sum/v.weight,weight:v.weight}}else return{v:a}})}},23128:function(f,b,t){var r=t(38436),d=t(70574).Graph;f.exports=u;function u(a,g,v){var c=l(a),o=new d({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(i){return a.node(i)});return r.forEach(a.nodes(),function(i){var h=a.node(i),m=a.parent(i);(h.rank===g||h.minRank<=g&&g<=h.maxRank)&&(o.setNode(i),o.setParent(i,m||c),r.forEach(a[v](i),function(w){var M=w.v===i?w.w:w.v,Y=o.edge(M,i),K=r.isUndefined(Y)?0:Y.weight;o.setEdge(M,i,{weight:a.edge(w).weight+K})}),r.has(h,"minRank")&&o.setNode(i,{borderLeft:h.borderLeft[g],borderRight:h.borderRight[g]}))}),o}function l(a){for(var g;a.hasNode(g=r.uniqueId("_root")););return g}},56630:function(f,b,t){"use strict";var r=t(38436);f.exports=d;function d(l,a){for(var g=0,v=1;v<a.length;++v)g+=u(l,a[v-1],a[v]);return g}function u(l,a,g){for(var v=r.zipObject(g,r.map(g,function(w,M){return M})),c=r.flatten(r.map(a,function(w){return r.sortBy(r.map(l.outEdges(w),function(M){return{pos:v[M.w],weight:l.edge(M).weight}}),"pos")}),!0),o=1;o<g.length;)o<<=1;var i=2*o-1;o-=1;var h=r.map(new Array(i),function(){return 0}),m=0;return r.forEach(c.forEach(function(w){var M=w.pos+o;h[M]+=w.weight;for(var Y=0;M>0;)M%2&&(Y+=h[M+1]),M=M-1>>1,h[M]+=w.weight;m+=w.weight*Y})),m}},53408:function(f,b,t){"use strict";var r=t(38436),d=t(2588),u=t(56630),l=t(61026),a=t(23128),g=t(55093),v=t(70574).Graph,c=t(11138);f.exports=o;function o(w){var M=c.maxRank(w),Y=i(w,r.range(1,M+1),"inEdges"),K=i(w,r.range(M-1,-1,-1),"outEdges"),F=d(w);m(w,F);for(var Z=Number.POSITIVE_INFINITY,J,Q=0,L=0;L<4;++Q,++L){h(Q%2?Y:K,Q%4>=2),F=c.buildLayerMatrix(w);var B=u(w,F);B<Z&&(L=0,J=r.cloneDeep(F),Z=B)}m(w,J)}function i(w,M,Y){return r.map(M,function(K){return a(w,K,Y)})}function h(w,M){var Y=new v;r.forEach(w,function(K){var F=K.graph().root,Z=l(K,F,Y,M);r.forEach(Z.vs,function(J,Q){K.node(J).order=Q}),g(K,Y,Z.vs)})}function m(w,M){r.forEach(M,function(Y){r.forEach(Y,function(K,F){w.node(K).order=F})})}},2588:function(f,b,t){"use strict";var r=t(38436);f.exports=d;function d(u){var l={},a=r.filter(u.nodes(),function(i){return!u.children(i).length}),g=r.max(r.map(a,function(i){return u.node(i).rank})),v=r.map(r.range(g+1),function(){return[]});function c(i){if(!r.has(l,i)){l[i]=!0;var h=u.node(i);v[h.rank].push(i),r.forEach(u.successors(i),c)}}var o=r.sortBy(a,function(i){return u.node(i).rank});return r.forEach(o,c),v}},83678:function(f,b,t){"use strict";var r=t(38436);f.exports=d;function d(a,g){var v={};r.forEach(a,function(o,i){var h=v[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};r.isUndefined(o.barycenter)||(h.barycenter=o.barycenter,h.weight=o.weight)}),r.forEach(g.edges(),function(o){var i=v[o.v],h=v[o.w];!r.isUndefined(i)&&!r.isUndefined(h)&&(h.indegree++,i.out.push(v[o.w]))});var c=r.filter(v,function(o){return!o.indegree});return u(c)}function u(a){var g=[];function v(i){return function(h){h.merged||(r.isUndefined(h.barycenter)||r.isUndefined(i.barycenter)||h.barycenter>=i.barycenter)&&l(i,h)}}function c(i){return function(h){h.in.push(i),--h.indegree===0&&a.push(h)}}for(;a.length;){var o=a.pop();g.push(o),r.forEach(o.in.reverse(),v(o)),r.forEach(o.out,c(o))}return r.map(r.filter(g,function(i){return!i.merged}),function(i){return r.pick(i,["vs","i","barycenter","weight"])})}function l(a,g){var v=0,c=0;a.weight&&(v+=a.barycenter*a.weight,c+=a.weight),g.weight&&(v+=g.barycenter*g.weight,c+=g.weight),a.vs=g.vs.concat(a.vs),a.barycenter=v/c,a.weight=c,a.i=Math.min(g.i,a.i),g.merged=!0}},61026:function(f,b,t){var r=t(38436),d=t(35439),u=t(83678),l=t(87304);f.exports=a;function a(c,o,i,h){var m=c.children(o),w=c.node(o),M=w?w.borderLeft:void 0,Y=w?w.borderRight:void 0,K={};M&&(m=r.filter(m,function(B){return B!==M&&B!==Y}));var F=d(c,m);r.forEach(F,function(B){if(c.children(B.v).length){var T=a(c,B.v,i,h);K[B.v]=T,r.has(T,"barycenter")&&v(B,T)}});var Z=u(F,i);g(Z,K);var J=l(Z,h);if(M&&(J.vs=r.flatten([M,J.vs,Y],!0),c.predecessors(M).length)){var Q=c.node(c.predecessors(M)[0]),L=c.node(c.predecessors(Y)[0]);r.has(J,"barycenter")||(J.barycenter=0,J.weight=0),J.barycenter=(J.barycenter*J.weight+Q.order+L.order)/(J.weight+2),J.weight+=2}return J}function g(c,o){r.forEach(c,function(i){i.vs=r.flatten(i.vs.map(function(h){return o[h]?o[h].vs:h}),!0)})}function v(c,o){r.isUndefined(c.barycenter)?(c.barycenter=o.barycenter,c.weight=o.weight):(c.barycenter=(c.barycenter*c.weight+o.barycenter*o.weight)/(c.weight+o.weight),c.weight+=o.weight)}},87304:function(f,b,t){var r=t(38436),d=t(11138);f.exports=u;function u(g,v){var c=d.partition(g,function(K){return r.has(K,"barycenter")}),o=c.lhs,i=r.sortBy(c.rhs,function(K){return-K.i}),h=[],m=0,w=0,M=0;o.sort(a(!!v)),M=l(h,i,M),r.forEach(o,function(K){M+=K.vs.length,h.push(K.vs),m+=K.barycenter*K.weight,w+=K.weight,M=l(h,i,M)});var Y={vs:r.flatten(h,!0)};return w&&(Y.barycenter=m/w,Y.weight=w),Y}function l(g,v,c){for(var o;v.length&&(o=r.last(v)).i<=c;)v.pop(),g.push(o.vs),c++;return c}function a(g){return function(v,c){return v.barycenter<c.barycenter?-1:v.barycenter>c.barycenter?1:g?c.i-v.i:v.i-c.i}}},24219:function(f,b,t){var r=t(38436);f.exports=d;function d(a){var g=l(a);r.forEach(a.graph().dummyChains,function(v){for(var c=a.node(v),o=c.edgeObj,i=u(a,g,o.v,o.w),h=i.path,m=i.lca,w=0,M=h[w],Y=!0;v!==o.w;){if(c=a.node(v),Y){for(;(M=h[w])!==m&&a.node(M).maxRank<c.rank;)w++;M===m&&(Y=!1)}if(!Y){for(;w<h.length-1&&a.node(M=h[w+1]).minRank<=c.rank;)w++;M=h[w]}a.setParent(v,M),v=a.successors(v)[0]}})}function u(a,g,v,c){var o=[],i=[],h=Math.min(g[v].low,g[c].low),m=Math.max(g[v].lim,g[c].lim),w,M;w=v;do w=a.parent(w),o.push(w);while(w&&(g[w].low>h||m>g[w].lim));for(M=w,w=c;(w=a.parent(w))!==M;)i.push(w);return{path:o.concat(i.reverse()),lca:M}}function l(a){var g={},v=0;function c(o){var i=v;r.forEach(a.children(o),c),g[o]={low:i,lim:v++}}return r.forEach(a.children(),c),g}},3573:function(f,b,t){"use strict";var r=t(38436),d=t(70574).Graph,u=t(11138);f.exports={positionX:Y,findType1Conflicts:l,findType2Conflicts:a,addConflict:v,hasConflict:c,verticalAlignment:o,horizontalCompaction:i,alignCoordinates:w,findSmallestWidthAlignment:m,balance:M};function l(Z,J){var Q={};function L(B,T){var z=0,G=0,U=B.length,S=r.last(T);return r.forEach(T,function(P,X){var W=g(Z,P),I=W?Z.node(W).order:U;(W||P===S)&&(r.forEach(T.slice(G,X+1),function(V){r.forEach(Z.predecessors(V),function(j){var q=Z.node(j),tt=q.order;(tt<z||I<tt)&&!(q.dummy&&Z.node(V).dummy)&&v(Q,j,V)})}),G=X+1,z=I)}),T}return r.reduce(J,L),Q}function a(Z,J){var Q={};function L(T,z,G,U,S){var P;r.forEach(r.range(z,G),function(X){P=T[X],Z.node(P).dummy&&r.forEach(Z.predecessors(P),function(W){var I=Z.node(W);I.dummy&&(I.order<U||I.order>S)&&v(Q,W,P)})})}function B(T,z){var G=-1,U,S=0;return r.forEach(z,function(P,X){if(Z.node(P).dummy==="border"){var W=Z.predecessors(P);W.length&&(U=Z.node(W[0]).order,L(z,S,X,G,U),S=X,G=U)}L(z,S,z.length,U,T.length)}),z}return r.reduce(J,B),Q}function g(Z,J){if(Z.node(J).dummy)return r.find(Z.predecessors(J),function(Q){return Z.node(Q).dummy})}function v(Z,J,Q){if(J>Q){var L=J;J=Q,Q=L}var B=Z[J];B||(Z[J]=B={}),B[Q]=!0}function c(Z,J,Q){if(J>Q){var L=J;J=Q,Q=L}return r.has(Z[J],Q)}function o(Z,J,Q,L){var B={},T={},z={};return r.forEach(J,function(G){r.forEach(G,function(U,S){B[U]=U,T[U]=U,z[U]=S})}),r.forEach(J,function(G){var U=-1;r.forEach(G,function(S){var P=L(S);if(P.length){P=r.sortBy(P,function(j){return z[j]});for(var X=(P.length-1)/2,W=Math.floor(X),I=Math.ceil(X);W<=I;++W){var V=P[W];T[S]===S&&U<z[V]&&!c(Q,S,V)&&(T[V]=S,T[S]=B[S]=B[V],U=z[V])}}})}),{root:B,align:T}}function i(Z,J,Q,L,B){var T={},z=h(Z,J,Q,B),G=B?"borderLeft":"borderRight";function U(X,W){for(var I=z.nodes(),V=I.pop(),j={};V;)j[V]?X(V):(j[V]=!0,I.push(V),I=I.concat(W(V))),V=I.pop()}function S(X){T[X]=z.inEdges(X).reduce(function(W,I){return Math.max(W,T[I.v]+z.edge(I))},0)}function P(X){var W=z.outEdges(X).reduce(function(V,j){return Math.min(V,T[j.w]-z.edge(j))},Number.POSITIVE_INFINITY),I=Z.node(X);W!==Number.POSITIVE_INFINITY&&I.borderType!==G&&(T[X]=Math.max(T[X],W))}return U(S,z.predecessors.bind(z)),U(P,z.successors.bind(z)),r.forEach(L,function(X){T[X]=T[Q[X]]}),T}function h(Z,J,Q,L){var B=new d,T=Z.graph(),z=K(T.nodesep,T.edgesep,L);return r.forEach(J,function(G){var U;r.forEach(G,function(S){var P=Q[S];if(B.setNode(P),U){var X=Q[U],W=B.edge(X,P);B.setEdge(X,P,Math.max(z(Z,S,U),W||0))}U=S})}),B}function m(Z,J){return r.minBy(r.values(J),function(Q){var L=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY;return r.forIn(Q,function(T,z){var G=F(Z,z)/2;L=Math.max(T+G,L),B=Math.min(T-G,B)}),L-B})}function w(Z,J){var Q=r.values(J),L=r.min(Q),B=r.max(Q);r.forEach(["u","d"],function(T){r.forEach(["l","r"],function(z){var G=T+z,U=Z[G],S;if(U!==J){var P=r.values(U);S=z==="l"?L-r.min(P):B-r.max(P),S&&(Z[G]=r.mapValues(U,function(X){return X+S}))}})})}function M(Z,J){return r.mapValues(Z.ul,function(Q,L){if(J)return Z[J.toLowerCase()][L];var B=r.sortBy(r.map(Z,L));return(B[1]+B[2])/2})}function Y(Z){var J=u.buildLayerMatrix(Z),Q=r.merge(l(Z,J),a(Z,J)),L={},B;r.forEach(["u","d"],function(z){B=z==="u"?J:r.values(J).reverse(),r.forEach(["l","r"],function(G){G==="r"&&(B=r.map(B,function(X){return r.values(X).reverse()}));var U=(z==="u"?Z.predecessors:Z.successors).bind(Z),S=o(Z,B,Q,U),P=i(Z,B,S.root,S.align,G==="r");G==="r"&&(P=r.mapValues(P,function(X){return-X})),L[z+G]=P})});var T=m(Z,L);return w(L,T),M(L,Z.graph().align)}function K(Z,J,Q){return function(L,B,T){var z=L.node(B),G=L.node(T),U=0,S;if(U+=z.width/2,r.has(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":S=-z.width/2;break;case"r":S=z.width/2;break}if(S&&(U+=Q?S:-S),S=0,U+=(z.dummy?J:Z)/2,U+=(G.dummy?J:Z)/2,U+=G.width/2,r.has(G,"labelpos"))switch(G.labelpos.toLowerCase()){case"l":S=G.width/2;break;case"r":S=-G.width/2;break}return S&&(U+=Q?S:-S),S=0,U}}function F(Z,J){return Z.node(J).width}},17873:function(f,b,t){"use strict";var r=t(38436),d=t(11138),u=t(3573).positionX;f.exports=l;function l(g){g=d.asNonCompoundGraph(g),a(g),r.forEach(u(g),function(v,c){g.node(c).x=v})}function a(g){var v=d.buildLayerMatrix(g),c=g.graph().ranksep,o=0;r.forEach(v,function(i){var h=r.max(r.map(i,function(m){return g.node(m).height}));r.forEach(i,function(m){g.node(m).y=o+h/2}),o+=h+c})}},8457:function(f,b,t){"use strict";var r=t(38436),d=t(70574).Graph,u=t(76681).slack;f.exports=l;function l(c){var o=new d({directed:!1}),i=c.nodes()[0],h=c.nodeCount();o.setNode(i,{});for(var m,w;a(o,c)<h;)m=g(o,c),w=o.hasNode(m.v)?u(c,m):-u(c,m),v(o,c,w);return o}function a(c,o){function i(h){r.forEach(o.nodeEdges(h),function(m){var w=m.v,M=h===w?m.w:w;!c.hasNode(M)&&!u(o,m)&&(c.setNode(M,{}),c.setEdge(h,M,{}),i(M))})}return r.forEach(c.nodes(),i),c.nodeCount()}function g(c,o){return r.minBy(o.edges(),function(i){if(c.hasNode(i.v)!==c.hasNode(i.w))return u(o,i)})}function v(c,o,i){r.forEach(c.nodes(),function(h){o.node(h).rank+=i})}},78093:function(f,b,t){"use strict";var r=t(76681),d=r.longestPath,u=t(8457),l=t(42472);f.exports=a;function a(o){switch(o.graph().ranker){case"network-simplex":c(o);break;case"tight-tree":v(o);break;case"longest-path":g(o);break;default:c(o)}}var g=d;function v(o){d(o),u(o)}function c(o){l(o)}},42472:function(f,b,t){"use strict";var r=t(38436),d=t(8457),u=t(76681).slack,l=t(76681).longestPath,a=t(70574).alg.preorder,g=t(70574).alg.postorder,v=t(11138).simplify;f.exports=c,c.initLowLimValues=m,c.initCutValues=o,c.calcCutValue=h,c.leaveEdge=M,c.enterEdge=Y,c.exchangeEdges=K;function c(Q){Q=v(Q),l(Q);var L=d(Q);m(L),o(L,Q);for(var B,T;B=M(L);)T=Y(L,Q,B),K(L,Q,B,T)}function o(Q,L){var B=g(Q,Q.nodes());B=B.slice(0,B.length-1),r.forEach(B,function(T){i(Q,L,T)})}function i(Q,L,B){var T=Q.node(B),z=T.parent;Q.edge(B,z).cutvalue=h(Q,L,B)}function h(Q,L,B){var T=Q.node(B),z=T.parent,G=!0,U=L.edge(B,z),S=0;return U||(G=!1,U=L.edge(z,B)),S=U.weight,r.forEach(L.nodeEdges(B),function(P){var X=P.v===B,W=X?P.w:P.v;if(W!==z){var I=X===G,V=L.edge(P).weight;if(S+=I?V:-V,Z(Q,B,W)){var j=Q.edge(B,W).cutvalue;S+=I?-j:j}}}),S}function m(Q,L){arguments.length<2&&(L=Q.nodes()[0]),w(Q,{},1,L)}function w(Q,L,B,T,z){var G=B,U=Q.node(T);return L[T]=!0,r.forEach(Q.neighbors(T),function(S){r.has(L,S)||(B=w(Q,L,B,S,T))}),U.low=G,U.lim=B++,z?U.parent=z:delete U.parent,B}function M(Q){return r.find(Q.edges(),function(L){return Q.edge(L).cutvalue<0})}function Y(Q,L,B){var T=B.v,z=B.w;L.hasEdge(T,z)||(T=B.w,z=B.v);var G=Q.node(T),U=Q.node(z),S=G,P=!1;G.lim>U.lim&&(S=U,P=!0);var X=r.filter(L.edges(),function(W){return P===J(Q,Q.node(W.v),S)&&P!==J(Q,Q.node(W.w),S)});return r.minBy(X,function(W){return u(L,W)})}function K(Q,L,B,T){var z=B.v,G=B.w;Q.removeEdge(z,G),Q.setEdge(T.v,T.w,{}),m(Q),o(Q,L),F(Q,L)}function F(Q,L){var B=r.find(Q.nodes(),function(z){return!L.node(z).parent}),T=a(Q,B);T=T.slice(1),r.forEach(T,function(z){var G=Q.node(z).parent,U=L.edge(z,G),S=!1;U||(U=L.edge(G,z),S=!0),L.node(z).rank=L.node(G).rank+(S?U.minlen:-U.minlen)})}function Z(Q,L,B){return Q.hasEdge(L,B)}function J(Q,L,B){return B.low<=L.lim&&L.lim<=B.lim}},76681:function(f,b,t){"use strict";var r=t(38436);f.exports={longestPath:d,slack:u};function d(l){var a={};function g(v){var c=l.node(v);if(r.has(a,v))return c.rank;a[v]=!0;var o=r.min(r.map(l.outEdges(v),function(i){return g(i.w)-l.edge(i).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),c.rank=o}r.forEach(l.sources(),g)}function u(l,a){return l.node(a.w).rank-l.node(a.v).rank-l.edge(a).minlen}},11138:function(f,b,t){"use strict";var r=t(38436),d=t(70574).Graph;f.exports={addDummyNode:u,simplify:l,asNonCompoundGraph:a,successorWeights:g,predecessorWeights:v,intersectRect:c,buildLayerMatrix:o,normalizeRanks:i,removeEmptyRanks:h,addBorderNode:m,maxRank:w,partition:M,time:Y,notime:K};function u(F,Z,J,Q){var L;do L=r.uniqueId(Q);while(F.hasNode(L));return J.dummy=Z,F.setNode(L,J),L}function l(F){var Z=new d().setGraph(F.graph());return r.forEach(F.nodes(),function(J){Z.setNode(J,F.node(J))}),r.forEach(F.edges(),function(J){var Q=Z.edge(J.v,J.w)||{weight:0,minlen:1},L=F.edge(J);Z.setEdge(J.v,J.w,{weight:Q.weight+L.weight,minlen:Math.max(Q.minlen,L.minlen)})}),Z}function a(F){var Z=new d({multigraph:F.isMultigraph()}).setGraph(F.graph());return r.forEach(F.nodes(),function(J){F.children(J).length||Z.setNode(J,F.node(J))}),r.forEach(F.edges(),function(J){Z.setEdge(J,F.edge(J))}),Z}function g(F){var Z=r.map(F.nodes(),function(J){var Q={};return r.forEach(F.outEdges(J),function(L){Q[L.w]=(Q[L.w]||0)+F.edge(L).weight}),Q});return r.zipObject(F.nodes(),Z)}function v(F){var Z=r.map(F.nodes(),function(J){var Q={};return r.forEach(F.inEdges(J),function(L){Q[L.v]=(Q[L.v]||0)+F.edge(L).weight}),Q});return r.zipObject(F.nodes(),Z)}function c(F,Z){var J=F.x,Q=F.y,L=Z.x-J,B=Z.y-Q,T=F.width/2,z=F.height/2;if(!L&&!B)throw new Error("Not possible to find intersection inside of the rectangle");var G,U;return Math.abs(B)*T>Math.abs(L)*z?(B<0&&(z=-z),G=z*L/B,U=z):(L<0&&(T=-T),G=T,U=T*B/L),{x:J+G,y:Q+U}}function o(F){var Z=r.map(r.range(w(F)+1),function(){return[]});return r.forEach(F.nodes(),function(J){var Q=F.node(J),L=Q.rank;r.isUndefined(L)||(Z[L][Q.order]=J)}),Z}function i(F){var Z=r.min(r.map(F.nodes(),function(J){return F.node(J).rank}));r.forEach(F.nodes(),function(J){var Q=F.node(J);r.has(Q,"rank")&&(Q.rank-=Z)})}function h(F){var Z=r.min(r.map(F.nodes(),function(B){return F.node(B).rank})),J=[];r.forEach(F.nodes(),function(B){var T=F.node(B).rank-Z;J[T]||(J[T]=[]),J[T].push(B)});var Q=0,L=F.graph().nodeRankFactor;r.forEach(J,function(B,T){r.isUndefined(B)&&T%L!==0?--Q:Q&&r.forEach(B,function(z){F.node(z).rank+=Q})})}function m(F,Z,J,Q){var L={width:0,height:0};return arguments.length>=4&&(L.rank=J,L.order=Q),u(F,"border",L,Z)}function w(F){return r.max(r.map(F.nodes(),function(Z){var J=F.node(Z).rank;if(!r.isUndefined(J))return J}))}function M(F,Z){var J={lhs:[],rhs:[]};return r.forEach(F,function(Q){Z(Q)?J.lhs.push(Q):J.rhs.push(Q)}),J}function Y(F,Z){var J=r.now();try{return Z()}finally{console.log(F+" time: "+(r.now()-J)+"ms")}}function K(F,Z){return Z()}},88177:function(f){f.exports="0.8.5"},28282:function(f,b,t){var r=t(82354);f.exports={Graph:r.Graph,json:t(28974),alg:t(12440),version:r.version}},2842:function(f,b,t){var r=t(89126);f.exports=d;function d(u){var l={},a=[],g;function v(c){r.has(l,c)||(l[c]=!0,g.push(c),r.each(u.successors(c),v),r.each(u.predecessors(c),v))}return r.each(u.nodes(),function(c){g=[],v(c),g.length&&a.push(g)}),a}},53984:function(f,b,t){var r=t(89126);f.exports=d;function d(l,a,g){r.isArray(a)||(a=[a]);var v=(l.isDirected()?l.successors:l.neighbors).bind(l),c=[],o={};return r.each(a,function(i){if(!l.hasNode(i))throw new Error("Graph does not have node: "+i);u(l,i,g==="post",o,v,c)}),c}function u(l,a,g,v,c,o){r.has(v,a)||(v[a]=!0,g||o.push(a),r.each(c(a),function(i){u(l,i,g,v,c,o)}),g&&o.push(a))}},84847:function(f,b,t){var r=t(63763),d=t(89126);f.exports=u;function u(l,a,g){return d.transform(l.nodes(),function(v,c){v[c]=r(l,c,a,g)},{})}},63763:function(f,b,t){var r=t(89126),d=t(75639);f.exports=l;var u=r.constant(1);function l(g,v,c,o){return a(g,String(v),c||u,o||function(i){return g.outEdges(i)})}function a(g,v,c,o){var i={},h=new d,m,w,M=function(Y){var K=Y.v!==m?Y.v:Y.w,F=i[K],Z=c(Y),J=w.distance+Z;if(Z<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Y+" Weight: "+Z);J<F.distance&&(F.distance=J,F.predecessor=m,h.decrease(K,J))};for(g.nodes().forEach(function(Y){var K=Y===v?0:Number.POSITIVE_INFINITY;i[Y]={distance:K},h.add(Y,K)});h.size()>0&&(m=h.removeMin(),w=i[m],w.distance!==Number.POSITIVE_INFINITY);)o(m).forEach(M);return i}},9096:function(f,b,t){var r=t(89126),d=t(5023);f.exports=u;function u(l){return r.filter(d(l),function(a){return a.length>1||a.length===1&&l.hasEdge(a[0],a[0])})}},38924:function(f,b,t){var r=t(89126);f.exports=u;var d=r.constant(1);function u(a,g,v){return l(a,g||d,v||function(c){return a.outEdges(c)})}function l(a,g,v){var c={},o=a.nodes();return o.forEach(function(i){c[i]={},c[i][i]={distance:0},o.forEach(function(h){i!==h&&(c[i][h]={distance:Number.POSITIVE_INFINITY})}),v(i).forEach(function(h){var m=h.v===i?h.w:h.v,w=g(h);c[i][m]={distance:w,predecessor:i}})}),o.forEach(function(i){var h=c[i];o.forEach(function(m){var w=c[m];o.forEach(function(M){var Y=w[i],K=h[M],F=w[M],Z=Y.distance+K.distance;Z<F.distance&&(F.distance=Z,F.predecessor=K.predecessor)})})}),c}},12440:function(f,b,t){f.exports={components:t(2842),dijkstra:t(63763),dijkstraAll:t(84847),findCycles:t(9096),floydWarshall:t(38924),isAcyclic:t(62707),postorder:t(63308),preorder:t(92648),prim:t(80514),tarjan:t(5023),topsort:t(2166)}},62707:function(f,b,t){var r=t(2166);f.exports=d;function d(u){try{r(u)}catch(l){if(l instanceof r.CycleException)return!1;throw l}return!0}},63308:function(f,b,t){var r=t(53984);f.exports=d;function d(u,l){return r(u,l,"post")}},92648:function(f,b,t){var r=t(53984);f.exports=d;function d(u,l){return r(u,l,"pre")}},80514:function(f,b,t){var r=t(89126),d=t(30771),u=t(75639);f.exports=l;function l(a,g){var v=new d,c={},o=new u,i;function h(w){var M=w.v===i?w.w:w.v,Y=o.priority(M);if(Y!==void 0){var K=g(w);K<Y&&(c[M]=i,o.decrease(M,K))}}if(a.nodeCount()===0)return v;r.each(a.nodes(),function(w){o.add(w,Number.POSITIVE_INFINITY),v.setNode(w)}),o.decrease(a.nodes()[0],0);for(var m=!1;o.size()>0;){if(i=o.removeMin(),r.has(c,i))v.setEdge(i,c[i]);else{if(m)throw new Error("Input graph is not connected: "+a);m=!0}a.nodeEdges(i).forEach(h)}return v}},5023:function(f,b,t){var r=t(89126);f.exports=d;function d(u){var l=0,a=[],g={},v=[];function c(o){var i=g[o]={onStack:!0,lowlink:l,index:l++};if(a.push(o),u.successors(o).forEach(function(w){r.has(g,w)?g[w].onStack&&(i.lowlink=Math.min(i.lowlink,g[w].index)):(c(w),i.lowlink=Math.min(i.lowlink,g[w].lowlink))}),i.lowlink===i.index){var h=[],m;do m=a.pop(),g[m].onStack=!1,h.push(m);while(o!==m);v.push(h)}}return u.nodes().forEach(function(o){r.has(g,o)||c(o)}),v}},2166:function(f,b,t){var r=t(89126);f.exports=d,d.CycleException=u;function d(l){var a={},g={},v=[];function c(o){if(r.has(g,o))throw new u;r.has(a,o)||(g[o]=!0,a[o]=!0,r.each(l.predecessors(o),c),delete g[o],v.push(o))}if(r.each(l.sinks(),c),r.size(a)!==l.nodeCount())throw new u;return v}function u(){}u.prototype=new Error},75639:function(f,b,t){var r=t(89126);f.exports=d;function d(){this._arr=[],this._keyIndices={}}d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(u){return u.key})},d.prototype.has=function(u){return r.has(this._keyIndices,u)},d.prototype.priority=function(u){var l=this._keyIndices[u];if(l!==void 0)return this._arr[l].priority},d.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(u,l){var a=this._keyIndices;if(u=String(u),!r.has(a,u)){var g=this._arr,v=g.length;return a[u]=v,g.push({key:u,priority:l}),this._decrease(v),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var u=this._arr.pop();return delete this._keyIndices[u.key],this._heapify(0),u.key},d.prototype.decrease=function(u,l){var a=this._keyIndices[u];if(l>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+u+" Old: "+this._arr[a].priority+" New: "+l);this._arr[a].priority=l,this._decrease(a)},d.prototype._heapify=function(u){var l=this._arr,a=2*u,g=a+1,v=u;a<l.length&&(v=l[a].priority<l[v].priority?a:v,g<l.length&&(v=l[g].priority<l[v].priority?g:v),v!==u&&(this._swap(u,v),this._heapify(v)))},d.prototype._decrease=function(u){for(var l=this._arr,a=l[u].priority,g;u!==0&&(g=u>>1,!(l[g].priority<a));)this._swap(u,g),u=g},d.prototype._swap=function(u,l){var a=this._arr,g=this._keyIndices,v=a[u],c=a[l];a[u]=c,a[l]=v,g[c.key]=u,g[v.key]=l}},30771:function(f,b,t){"use strict";var r=t(89126);f.exports=a;var d="\0",u="\0",l="";function a(h){this._isDirected=r.has(h,"directed")?h.directed:!0,this._isMultigraph=r.has(h,"multigraph")?h.multigraph:!1,this._isCompound=r.has(h,"compound")?h.compound:!1,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[u]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(h){return this._label=h,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(h){return r.isFunction(h)||(h=r.constant(h)),this._defaultNodeLabelFn=h,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return r.keys(this._nodes)},a.prototype.sources=function(){var h=this;return r.filter(this.nodes(),function(m){return r.isEmpty(h._in[m])})},a.prototype.sinks=function(){var h=this;return r.filter(this.nodes(),function(m){return r.isEmpty(h._out[m])})},a.prototype.setNodes=function(h,m){var w=arguments,M=this;return r.each(h,function(Y){w.length>1?M.setNode(Y,m):M.setNode(Y)}),this},a.prototype.setNode=function(h,m){return r.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=m),this):(this._nodes[h]=arguments.length>1?m:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=u,this._children[h]={},this._children[u][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},a.prototype.node=function(h){return this._nodes[h]},a.prototype.hasNode=function(h){return r.has(this._nodes,h)},a.prototype.removeNode=function(h){var m=this;if(r.has(this._nodes,h)){var w=function(M){m.removeEdge(m._edgeObjs[M])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],r.each(this.children(h),function(M){m.setParent(M)}),delete this._children[h]),r.each(r.keys(this._in[h]),w),delete this._in[h],delete this._preds[h],r.each(r.keys(this._out[h]),w),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},a.prototype.setParent=function(h,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(m))m=u;else{m+="";for(var w=m;!r.isUndefined(w);w=this.parent(w))if(w===h)throw new Error("Setting "+m+" as parent of "+h+" would create a cycle");this.setNode(m)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=m,this._children[m][h]=!0,this},a.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},a.prototype.parent=function(h){if(this._isCompound){var m=this._parent[h];if(m!==u)return m}},a.prototype.children=function(h){if(r.isUndefined(h)&&(h=u),this._isCompound){var m=this._children[h];if(m)return r.keys(m)}else{if(h===u)return this.nodes();if(this.hasNode(h))return[]}},a.prototype.predecessors=function(h){var m=this._preds[h];if(m)return r.keys(m)},a.prototype.successors=function(h){var m=this._sucs[h];if(m)return r.keys(m)},a.prototype.neighbors=function(h){var m=this.predecessors(h);if(m)return r.union(m,this.successors(h))},a.prototype.isLeaf=function(h){var m;return this.isDirected()?m=this.successors(h):m=this.neighbors(h),m.length===0},a.prototype.filterNodes=function(h){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var w=this;r.each(this._nodes,function(K,F){h(F)&&m.setNode(F,K)}),r.each(this._edgeObjs,function(K){m.hasNode(K.v)&&m.hasNode(K.w)&&m.setEdge(K,w.edge(K))});var M={};function Y(K){var F=w.parent(K);return F===void 0||m.hasNode(F)?(M[K]=F,F):F in M?M[F]:Y(F)}return this._isCompound&&r.each(m.nodes(),function(K){m.setParent(K,Y(K))}),m},a.prototype.setDefaultEdgeLabel=function(h){return r.isFunction(h)||(h=r.constant(h)),this._defaultEdgeLabelFn=h,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return r.values(this._edgeObjs)},a.prototype.setPath=function(h,m){var w=this,M=arguments;return r.reduce(h,function(Y,K){return M.length>1?w.setEdge(Y,K,m):w.setEdge(Y,K),K}),this},a.prototype.setEdge=function(){var h,m,w,M,Y=!1,K=arguments[0];typeof K=="object"&&K!==null&&"v"in K?(h=K.v,m=K.w,w=K.name,arguments.length===2&&(M=arguments[1],Y=!0)):(h=K,m=arguments[1],w=arguments[3],arguments.length>2&&(M=arguments[2],Y=!0)),h=""+h,m=""+m,r.isUndefined(w)||(w=""+w);var F=c(this._isDirected,h,m,w);if(r.has(this._edgeLabels,F))return Y&&(this._edgeLabels[F]=M),this;if(!r.isUndefined(w)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(m),this._edgeLabels[F]=Y?M:this._defaultEdgeLabelFn(h,m,w);var Z=o(this._isDirected,h,m,w);return h=Z.v,m=Z.w,Object.freeze(Z),this._edgeObjs[F]=Z,g(this._preds[m],h),g(this._sucs[h],m),this._in[m][F]=Z,this._out[h][F]=Z,this._edgeCount++,this},a.prototype.edge=function(h,m,w){var M=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,h,m,w);return this._edgeLabels[M]},a.prototype.hasEdge=function(h,m,w){var M=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,h,m,w);return r.has(this._edgeLabels,M)},a.prototype.removeEdge=function(h,m,w){var M=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,h,m,w),Y=this._edgeObjs[M];return Y&&(h=Y.v,m=Y.w,delete this._edgeLabels[M],delete this._edgeObjs[M],v(this._preds[m],h),v(this._sucs[h],m),delete this._in[m][M],delete this._out[h][M],this._edgeCount--),this},a.prototype.inEdges=function(h,m){var w=this._in[h];if(w){var M=r.values(w);return m?r.filter(M,function(Y){return Y.v===m}):M}},a.prototype.outEdges=function(h,m){var w=this._out[h];if(w){var M=r.values(w);return m?r.filter(M,function(Y){return Y.w===m}):M}},a.prototype.nodeEdges=function(h,m){var w=this.inEdges(h,m);if(w)return w.concat(this.outEdges(h,m))};function g(h,m){h[m]?h[m]++:h[m]=1}function v(h,m){--h[m]||delete h[m]}function c(h,m,w,M){var Y=""+m,K=""+w;if(!h&&Y>K){var F=Y;Y=K,K=F}return Y+l+K+l+(r.isUndefined(M)?d:M)}function o(h,m,w,M){var Y=""+m,K=""+w;if(!h&&Y>K){var F=Y;Y=K,K=F}var Z={v:Y,w:K};return M&&(Z.name=M),Z}function i(h,m){return c(h,m.v,m.w,m.name)}},82354:function(f,b,t){f.exports={Graph:t(30771),version:t(49631)}},28974:function(f,b,t){var r=t(89126),d=t(30771);f.exports={write:u,read:g};function u(v){var c={options:{directed:v.isDirected(),multigraph:v.isMultigraph(),compound:v.isCompound()},nodes:l(v),edges:a(v)};return r.isUndefined(v.graph())||(c.value=r.clone(v.graph())),c}function l(v){return r.map(v.nodes(),function(c){var o=v.node(c),i=v.parent(c),h={v:c};return r.isUndefined(o)||(h.value=o),r.isUndefined(i)||(h.parent=i),h})}function a(v){return r.map(v.edges(),function(c){var o=v.edge(c),i={v:c.v,w:c.w};return r.isUndefined(c.name)||(i.name=c.name),r.isUndefined(o)||(i.value=o),i})}function g(v){var c=new d(v.options).setGraph(v.value);return r.each(v.nodes,function(o){c.setNode(o.v,o.value),o.parent&&c.setParent(o.v,o.parent)}),r.each(v.edges,function(o){c.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),c}},89126:function(f,b,t){var r;try{r={clone:t(66678),constant:t(75703),each:t(66073),filter:t(63105),has:t(18721),isArray:t(1469),isEmpty:t(41609),isFunction:t(23560),isUndefined:t(52353),keys:t(3674),map:t(35161),reduce:t(54061),size:t(84238),transform:t(68718),union:t(93386),values:t(52628)}}catch(d){}r||(r=window._),f.exports=r},49631:function(f){f.exports="2.1.8"},44091:function(f,b,t){"use strict";t.r(b),t.d(b,{isAnyArray:function(){return d}});const r=Object.prototype.toString;function d(u){const l=r.call(u);return l.endsWith("Array]")&&!l.includes("Big")}},18552:function(f,b,t){var r=t(10852),d=t(55639),u=r(d,"DataView");f.exports=u},1989:function(f,b,t){var r=t(51789),d=t(80401),u=t(57667),l=t(21327),a=t(81866);function g(v){var c=-1,o=v==null?0:v.length;for(this.clear();++c<o;){var i=v[c];this.set(i[0],i[1])}}g.prototype.clear=r,g.prototype.delete=d,g.prototype.get=u,g.prototype.has=l,g.prototype.set=a,f.exports=g},38407:function(f,b,t){var r=t(27040),d=t(14125),u=t(82117),l=t(67518),a=t(54705);function g(v){var c=-1,o=v==null?0:v.length;for(this.clear();++c<o;){var i=v[c];this.set(i[0],i[1])}}g.prototype.clear=r,g.prototype.delete=d,g.prototype.get=u,g.prototype.has=l,g.prototype.set=a,f.exports=g},57071:function(f,b,t){var r=t(10852),d=t(55639),u=r(d,"Map");f.exports=u},83369:function(f,b,t){var r=t(24785),d=t(11285),u=t(96e3),l=t(49916),a=t(95265);function g(v){var c=-1,o=v==null?0:v.length;for(this.clear();++c<o;){var i=v[c];this.set(i[0],i[1])}}g.prototype.clear=r,g.prototype.delete=d,g.prototype.get=u,g.prototype.has=l,g.prototype.set=a,f.exports=g},53818:function(f,b,t){var r=t(10852),d=t(55639),u=r(d,"Promise");f.exports=u},58525:function(f,b,t){var r=t(10852),d=t(55639),u=r(d,"Set");f.exports=u},88668:function(f,b,t){var r=t(83369),d=t(90619),u=t(72385);function l(a){var g=-1,v=a==null?0:a.length;for(this.__data__=new r;++g<v;)this.add(a[g])}l.prototype.add=l.prototype.push=d,l.prototype.has=u,f.exports=l},46384:function(f,b,t){var r=t(38407),d=t(37465),u=t(63779),l=t(67599),a=t(44758),g=t(34309);function v(c){var o=this.__data__=new r(c);this.size=o.size}v.prototype.clear=d,v.prototype.delete=u,v.prototype.get=l,v.prototype.has=a,v.prototype.set=g,f.exports=v},11149:function(f,b,t){var r=t(55639),d=r.Uint8Array;f.exports=d},70577:function(f,b,t){var r=t(10852),d=t(55639),u=r(d,"WeakMap");f.exports=u},96874:function(f){function b(t,r,d){switch(d.length){case 0:return t.call(r);case 1:return t.call(r,d[0]);case 2:return t.call(r,d[0],d[1]);case 3:return t.call(r,d[0],d[1],d[2])}return t.apply(r,d)}f.exports=b},77412:function(f){function b(t,r){for(var d=-1,u=t==null?0:t.length;++d<u&&r(t[d],d,t)!==!1;);return t}f.exports=b},34963:function(f){function b(t,r){for(var d=-1,u=t==null?0:t.length,l=0,a=[];++d<u;){var g=t[d];r(g,d,t)&&(a[l++]=g)}return a}f.exports=b},47443:function(f,b,t){var r=t(42118);function d(u,l){var a=u==null?0:u.length;return!!a&&r(u,l,0)>-1}f.exports=d},1196:function(f){function b(t,r,d){for(var u=-1,l=t==null?0:t.length;++u<l;)if(d(r,t[u]))return!0;return!1}f.exports=b},14636:function(f,b,t){var r=t(22545),d=t(35694),u=t(1469),l=t(44144),a=t(65776),g=t(36719),v=Object.prototype,c=v.hasOwnProperty;function o(i,h){var m=u(i),w=!m&&d(i),M=!m&&!w&&l(i),Y=!m&&!w&&!M&&g(i),K=m||w||M||Y,F=K?r(i.length,String):[],Z=F.length;for(var J in i)(h||c.call(i,J))&&!(K&&(J=="length"||M&&(J=="offset"||J=="parent")||Y&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||a(J,Z)))&&F.push(J);return F}f.exports=o},29932:function(f){function b(t,r){for(var d=-1,u=t==null?0:t.length,l=Array(u);++d<u;)l[d]=r(t[d],d,t);return l}f.exports=b},62488:function(f){function b(t,r){for(var d=-1,u=r.length,l=t.length;++d<u;)t[l+d]=r[d];return t}f.exports=b},62663:function(f){function b(t,r,d,u){var l=-1,a=t==null?0:t.length;for(u&&a&&(d=t[++l]);++l<a;)d=r(d,t[l],l,t);return d}f.exports=b},82908:function(f){function b(t,r){for(var d=-1,u=t==null?0:t.length;++d<u;)if(r(t[d],d,t))return!0;return!1}f.exports=b},48983:function(f,b,t){var r=t(40371),d=r("length");f.exports=d},86556:function(f,b,t){var r=t(89465),d=t(77813);function u(l,a,g){(g!==void 0&&!d(l[a],g)||g===void 0&&!(a in l))&&r(l,a,g)}f.exports=u},34865:function(f,b,t){var r=t(89465),d=t(77813),u=Object.prototype,l=u.hasOwnProperty;function a(g,v,c){var o=g[v];(!(l.call(g,v)&&d(o,c))||c===void 0&&!(v in g))&&r(g,v,c)}f.exports=a},18470:function(f,b,t){var r=t(77813);function d(u,l){for(var a=u.length;a--;)if(r(u[a][0],l))return a;return-1}f.exports=d},44037:function(f,b,t){var r=t(98363),d=t(3674);function u(l,a){return l&&r(a,d(a),l)}f.exports=u},63886:function(f,b,t){var r=t(98363),d=t(81704);function u(l,a){return l&&r(a,d(a),l)}f.exports=u},89465:function(f,b,t){var r=t(38777);function d(u,l,a){l=="__proto__"&&r?r(u,l,{configurable:!0,enumerable:!0,value:a,writable:!0}):u[l]=a}f.exports=d},85990:function(f,b,t){var r=t(46384),d=t(77412),u=t(34865),l=t(44037),a=t(63886),g=t(64626),v=t(6450),c=t(18805),o=t(1911),i=t(58234),h=t(46904),m=t(64160),w=t(43824),M=t(29148),Y=t(38517),K=t(1469),F=t(44144),Z=t(56688),J=t(13218),Q=t(72928),L=t(3674),B=t(81704),T=1,z=2,G=4,U="[object Arguments]",S="[object Array]",P="[object Boolean]",X="[object Date]",W="[object Error]",I="[object Function]",V="[object GeneratorFunction]",j="[object Map]",q="[object Number]",tt="[object Object]",ot="[object RegExp]",ct="[object Set]",nt="[object String]",gt="[object Symbol]",it="[object WeakMap]",_="[object ArrayBuffer]",ht="[object DataView]",lt="[object Float32Array]",at="[object Float64Array]",Nt="[object Int8Array]",vt="[object Int16Array]",mt="[object Int32Array]",xt="[object Uint8Array]",St="[object Uint8ClampedArray]",Tt="[object Uint16Array]",It="[object Uint32Array]",Bt={};Bt[U]=Bt[S]=Bt[_]=Bt[ht]=Bt[P]=Bt[X]=Bt[lt]=Bt[at]=Bt[Nt]=Bt[vt]=Bt[mt]=Bt[j]=Bt[q]=Bt[tt]=Bt[ot]=Bt[ct]=Bt[nt]=Bt[gt]=Bt[xt]=Bt[St]=Bt[Tt]=Bt[It]=!0,Bt[W]=Bt[I]=Bt[it]=!1;function Ht(Ut,Kt,ie,Gt,ce,re){var Jt,Dt=Kt&T,le=Kt&z,me=Kt&G;if(ie&&(Jt=ce?ie(Ut,Gt,ce,re):ie(Ut)),Jt!==void 0)return Jt;if(!J(Ut))return Ut;var oe=K(Ut);if(oe){if(Jt=w(Ut),!Dt)return v(Ut,Jt)}else{var we=m(Ut),Ee=we==I||we==V;if(F(Ut))return g(Ut,Dt);if(we==tt||we==U||Ee&&!ce){if(Jt=le||Ee?{}:Y(Ut),!Dt)return le?o(Ut,a(Jt,Ut)):c(Ut,l(Jt,Ut))}else{if(!Bt[we])return ce?Ut:{};Jt=M(Ut,we,Dt)}}re||(re=new r);var an=re.get(Ut);if(an)return an;re.set(Ut,Jt),Q(Ut)?Ut.forEach(function(Ce){Jt.add(Ht(Ce,Kt,ie,Ce,Ut,re))}):Z(Ut)&&Ut.forEach(function(Ce,ze){Jt.set(ze,Ht(Ce,Kt,ie,ze,Ut,re))});var un=me?le?h:i:le?B:L,dn=oe?void 0:un(Ut);return d(dn||Ut,function(Ce,ze){dn&&(ze=Ce,Ce=Ut[ze]),u(Jt,ze,Ht(Ce,Kt,ie,ze,Ut,re))}),Jt}f.exports=Ht},3118:function(f,b,t){var r=t(13218),d=Object.create,u=function(){function l(){}return function(a){if(!r(a))return{};if(d)return d(a);l.prototype=a;var g=new l;return l.prototype=void 0,g}}();f.exports=u},89881:function(f,b,t){var r=t(47816),d=t(99291),u=d(r);f.exports=u},56029:function(f,b,t){var r=t(33448);function d(u,l,a){for(var g=-1,v=u.length;++g<v;){var c=u[g],o=l(c);if(o!=null&&(i===void 0?o===o&&!r(o):a(o,i)))var i=o,h=c}return h}f.exports=d},80760:function(f,b,t){var r=t(89881);function d(u,l){var a=[];return r(u,function(g,v,c){l(g,v,c)&&a.push(g)}),a}f.exports=d},41848:function(f){function b(t,r,d,u){for(var l=t.length,a=d+(u?1:-1);u?a--:++a<l;)if(r(t[a],a,t))return a;return-1}f.exports=b},21078:function(f,b,t){var r=t(62488),d=t(37285);function u(l,a,g,v,c){var o=-1,i=l.length;for(g||(g=d),c||(c=[]);++o<i;){var h=l[o];a>0&&g(h)?a>1?u(h,a-1,g,v,c):r(c,h):v||(c[c.length]=h)}return c}f.exports=u},28483:function(f,b,t){var r=t(25063),d=r();f.exports=d},47816:function(f,b,t){var r=t(28483),d=t(3674);function u(l,a){return l&&r(l,a,d)}f.exports=u},97786:function(f,b,t){var r=t(71811),d=t(40327);function u(l,a){a=r(a,l);for(var g=0,v=a.length;l!=null&&g<v;)l=l[d(a[g++])];return g&&g==v?l:void 0}f.exports=u},68866:function(f,b,t){var r=t(62488),d=t(1469);function u(l,a,g){var v=a(l);return d(l)?v:r(v,g(l))}f.exports=u},53325:function(f){function b(t,r){return t>r}f.exports=b},78565:function(f){var b=Object.prototype,t=b.hasOwnProperty;function r(d,u){return d!=null&&t.call(d,u)}f.exports=r},13:function(f){function b(t,r){return t!=null&&r in Object(t)}f.exports=b},42118:function(f,b,t){var r=t(41848),d=t(62722),u=t(39375);function l(a,g,v){return g===g?u(a,g,v):r(a,d,v)}f.exports=l},9454:function(f,b,t){var r=t(44239),d=t(37005),u="[object Arguments]";function l(a){return d(a)&&r(a)==u}f.exports=l},90939:function(f,b,t){var r=t(2492),d=t(37005);function u(l,a,g,v,c){return l===a?!0:l==null||a==null||!d(l)&&!d(a)?l!==l&&a!==a:r(l,a,g,v,u,c)}f.exports=u},2492:function(f,b,t){var r=t(46384),d=t(67114),u=t(18351),l=t(16096),a=t(64160),g=t(1469),v=t(44144),c=t(36719),o=1,i="[object Arguments]",h="[object Array]",m="[object Object]",w=Object.prototype,M=w.hasOwnProperty;function Y(K,F,Z,J,Q,L){var B=g(K),T=g(F),z=B?h:a(K),G=T?h:a(F);z=z==i?m:z,G=G==i?m:G;var U=z==m,S=G==m,P=z==G;if(P&&v(K)){if(!v(F))return!1;B=!0,U=!1}if(P&&!U)return L||(L=new r),B||c(K)?d(K,F,Z,J,Q,L):u(K,F,z,Z,J,Q,L);if(!(Z&o)){var X=U&&M.call(K,"__wrapped__"),W=S&&M.call(F,"__wrapped__");if(X||W){var I=X?K.value():K,V=W?F.value():F;return L||(L=new r),Q(I,V,Z,J,L)}}return P?(L||(L=new r),l(K,F,Z,J,Q,L)):!1}f.exports=Y},25588:function(f,b,t){var r=t(64160),d=t(37005),u="[object Map]";function l(a){return d(a)&&r(a)==u}f.exports=l},2958:function(f,b,t){var r=t(46384),d=t(90939),u=1,l=2;function a(g,v,c,o){var i=c.length,h=i,m=!o;if(g==null)return!h;for(g=Object(g);i--;){var w=c[i];if(m&&w[2]?w[1]!==g[w[0]]:!(w[0]in g))return!1}for(;++i<h;){w=c[i];var M=w[0],Y=g[M],K=w[1];if(m&&w[2]){if(Y===void 0&&!(M in g))return!1}else{var F=new r;if(o)var Z=o(Y,K,M,g,v,F);if(!(Z===void 0?d(K,Y,u|l,o,F):Z))return!1}}return!0}f.exports=a},62722:function(f){function b(t){return t!==t}f.exports=b},28458:function(f,b,t){var r=t(23560),d=t(15346),u=t(13218),l=t(80346),a=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,v=Function.prototype,c=Object.prototype,o=v.toString,i=c.hasOwnProperty,h=RegExp("^"+o.call(i).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(w){if(!u(w)||d(w))return!1;var M=r(w)?h:g;return M.test(l(w))}f.exports=m},29221:function(f,b,t){var r=t(64160),d=t(37005),u="[object Set]";function l(a){return d(a)&&r(a)==u}f.exports=l},38749:function(f,b,t){var r=t(44239),d=t(41780),u=t(37005),l="[object Arguments]",a="[object Array]",g="[object Boolean]",v="[object Date]",c="[object Error]",o="[object Function]",i="[object Map]",h="[object Number]",m="[object Object]",w="[object RegExp]",M="[object Set]",Y="[object String]",K="[object WeakMap]",F="[object ArrayBuffer]",Z="[object DataView]",J="[object Float32Array]",Q="[object Float64Array]",L="[object Int8Array]",B="[object Int16Array]",T="[object Int32Array]",z="[object Uint8Array]",G="[object Uint8ClampedArray]",U="[object Uint16Array]",S="[object Uint32Array]",P={};P[J]=P[Q]=P[L]=P[B]=P[T]=P[z]=P[G]=P[U]=P[S]=!0,P[l]=P[a]=P[F]=P[g]=P[Z]=P[v]=P[c]=P[o]=P[i]=P[h]=P[m]=P[w]=P[M]=P[Y]=P[K]=!1;function X(W){return u(W)&&d(W.length)&&!!P[r(W)]}f.exports=X},67206:function(f,b,t){var r=t(91573),d=t(16432),u=t(6557),l=t(1469),a=t(39601);function g(v){return typeof v=="function"?v:v==null?u:typeof v=="object"?l(v)?d(v[0],v[1]):r(v):a(v)}f.exports=g},280:function(f,b,t){var r=t(27360),d=t(86916),u=Object.prototype,l=u.hasOwnProperty;function a(g){if(!r(g))return d(g);var v=[];for(var c in Object(g))l.call(g,c)&&c!="constructor"&&v.push(c);return v}f.exports=a},10313:function(f,b,t){var r=t(13218),d=t(27360),u=t(33498),l=Object.prototype,a=l.hasOwnProperty;function g(v){if(!r(v))return u(v);var c=d(v),o=[];for(var i in v)i=="constructor"&&(c||!a.call(v,i))||o.push(i);return o}f.exports=g},70433:function(f){function b(t,r){return t<r}f.exports=b},69199:function(f,b,t){var r=t(89881),d=t(98612);function u(l,a){var g=-1,v=d(l)?Array(l.length):[];return r(l,function(c,o,i){v[++g]=a(c,o,i)}),v}f.exports=u},91573:function(f,b,t){var r=t(2958),d=t(1499),u=t(42634);function l(a){var g=d(a);return g.length==1&&g[0][2]?u(g[0][0],g[0][1]):function(v){return v===a||r(v,a,g)}}f.exports=l},16432:function(f,b,t){var r=t(90939),d=t(27361),u=t(79095),l=t(15403),a=t(89162),g=t(42634),v=t(40327),c=1,o=2;function i(h,m){return l(h)&&a(m)?g(v(h),m):function(w){var M=d(w,h);return M===void 0&&M===m?u(w,h):r(m,M,c|o)}}f.exports=i},42980:function(f,b,t){var r=t(46384),d=t(86556),u=t(28483),l=t(59783),a=t(13218),g=t(81704),v=t(36390);function c(o,i,h,m,w){o!==i&&u(i,function(M,Y){if(w||(w=new r),a(M))l(o,i,Y,h,c,m,w);else{var K=m?m(v(o,Y),M,Y+"",o,i,w):void 0;K===void 0&&(K=M),d(o,Y,K)}},g)}f.exports=c},59783:function(f,b,t){var r=t(86556),d=t(64626),u=t(77133),l=t(6450),a=t(38517),g=t(35694),v=t(1469),c=t(29246),o=t(44144),i=t(23560),h=t(13218),m=t(68630),w=t(36719),M=t(36390),Y=t(59881);function K(F,Z,J,Q,L,B,T){var z=M(F,J),G=M(Z,J),U=T.get(G);if(U){r(F,J,U);return}var S=B?B(z,G,J+"",F,Z,T):void 0,P=S===void 0;if(P){var X=v(G),W=!X&&o(G),I=!X&&!W&&w(G);S=G,X||W||I?v(z)?S=z:c(z)?S=l(z):W?(P=!1,S=d(G,!0)):I?(P=!1,S=u(G,!0)):S=[]:m(G)||g(G)?(S=z,g(z)?S=Y(z):(!h(z)||i(z))&&(S=a(G))):P=!1}P&&(T.set(G,S),L(S,G,Q,B,T),T.delete(G)),r(F,J,S)}f.exports=K},82689:function(f,b,t){var r=t(29932),d=t(97786),u=t(67206),l=t(69199),a=t(71131),g=t(51717),v=t(85022),c=t(6557),o=t(1469);function i(h,m,w){m.length?m=r(m,function(K){return o(K)?function(F){return d(F,K.length===1?K[0]:K)}:K}):m=[c];var M=-1;m=r(m,g(u));var Y=l(h,function(K,F,Z){var J=r(m,function(Q){return Q(K)});return{criteria:J,index:++M,value:K}});return a(Y,function(K,F){return v(K,F,w)})}f.exports=i},25970:function(f,b,t){var r=t(63012),d=t(79095);function u(l,a){return r(l,a,function(g,v){return d(l,v)})}f.exports=u},63012:function(f,b,t){var r=t(97786),d=t(10611),u=t(71811);function l(a,g,v){for(var c=-1,o=g.length,i={};++c<o;){var h=g[c],m=r(a,h);v(m,h)&&d(i,u(h,a),m)}return i}f.exports=l},40371:function(f){function b(t){return function(r){return r==null?void 0:r[t]}}f.exports=b},79152:function(f,b,t){var r=t(97786);function d(u){return function(l){return r(l,u)}}f.exports=d},40098:function(f){var b=Math.ceil,t=Math.max;function r(d,u,l,a){for(var g=-1,v=t(b((u-d)/(l||1)),0),c=Array(v);v--;)c[a?v:++g]=d,d+=l;return c}f.exports=r},10107:function(f){function b(t,r,d,u,l){return l(t,function(a,g,v){d=u?(u=!1,a):r(d,a,g,v)}),d}f.exports=b},5976:function(f,b,t){var r=t(6557),d=t(45357),u=t(30061);function l(a,g){return u(d(a,g,r),a+"")}f.exports=l},10611:function(f,b,t){var r=t(34865),d=t(71811),u=t(65776),l=t(13218),a=t(40327);function g(v,c,o,i){if(!l(v))return v;c=d(c,v);for(var h=-1,m=c.length,w=m-1,M=v;M!=null&&++h<m;){var Y=a(c[h]),K=o;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return v;if(h!=w){var F=M[Y];K=i?i(F,Y,M):void 0,K===void 0&&(K=l(F)?F:u(c[h+1])?[]:{})}r(M,Y,K),M=M[Y]}return v}f.exports=g},56560:function(f,b,t){var r=t(75703),d=t(38777),u=t(6557),l=d?function(a,g){return d(a,"toString",{configurable:!0,enumerable:!1,value:r(g),writable:!0})}:u;f.exports=l},71131:function(f){function b(t,r){var d=t.length;for(t.sort(r);d--;)t[d]=t[d].value;return t}f.exports=b},22545:function(f){function b(t,r){for(var d=-1,u=Array(t);++d<t;)u[d]=r(d);return u}f.exports=b},80531:function(f,b,t){var r=t(62705),d=t(29932),u=t(1469),l=t(33448),a=1/0,g=r?r.prototype:void 0,v=g?g.toString:void 0;function c(o){if(typeof o=="string")return o;if(u(o))return d(o,c)+"";if(l(o))return v?v.call(o):"";var i=o+"";return i=="0"&&1/o==-a?"-0":i}f.exports=c},51717:function(f){function b(t){return function(r){return t(r)}}f.exports=b},45652:function(f,b,t){var r=t(88668),d=t(47443),u=t(1196),l=t(74757),a=t(23593),g=t(21814),v=200;function c(o,i,h){var m=-1,w=d,M=o.length,Y=!0,K=[],F=K;if(h)Y=!1,w=u;else if(M>=v){var Z=i?null:a(o);if(Z)return g(Z);Y=!1,w=l,F=new r}else F=i?[]:K;t:for(;++m<M;){var J=o[m],Q=i?i(J):J;if(J=h||J!==0?J:0,Y&&Q===Q){for(var L=F.length;L--;)if(F[L]===Q)continue t;i&&F.push(Q),K.push(J)}else w(F,Q,h)||(F!==K&&F.push(Q),K.push(J))}return K}f.exports=c},47415:function(f,b,t){var r=t(29932);function d(u,l){return r(l,function(a){return u[a]})}f.exports=d},1757:function(f){function b(t,r,d){for(var u=-1,l=t.length,a=r.length,g={};++u<l;){var v=u<a?r[u]:void 0;d(g,t[u],v)}return g}f.exports=b},74757:function(f){function b(t,r){return t.has(r)}f.exports=b},54290:function(f,b,t){var r=t(6557);function d(u){return typeof u=="function"?u:r}f.exports=d},71811:function(f,b,t){var r=t(1469),d=t(15403),u=t(55514),l=t(79833);function a(g,v){return r(g)?g:d(g,v)?[g]:u(l(g))}f.exports=a},74318:function(f,b,t){var r=t(11149);function d(u){var l=new u.constructor(u.byteLength);return new r(l).set(new r(u)),l}f.exports=d},64626:function(f,b,t){f=t.nmd(f);var r=t(55639),d=b&&!b.nodeType&&b,u=d&&!0&&f&&!f.nodeType&&f,l=u&&u.exports===d,a=l?r.Buffer:void 0,g=a?a.allocUnsafe:void 0;function v(c,o){if(o)return c.slice();var i=c.length,h=g?g(i):new c.constructor(i);return c.copy(h),h}f.exports=v},57157:function(f,b,t){var r=t(74318);function d(u,l){var a=l?r(u.buffer):u.buffer;return new u.constructor(a,u.byteOffset,u.byteLength)}f.exports=d},93147:function(f){var b=/\w*$/;function t(r){var d=new r.constructor(r.source,b.exec(r));return d.lastIndex=r.lastIndex,d}f.exports=t},40419:function(f,b,t){var r=t(62705),d=r?r.prototype:void 0,u=d?d.valueOf:void 0;function l(a){return u?Object(u.call(a)):{}}f.exports=l},77133:function(f,b,t){var r=t(74318);function d(u,l){var a=l?r(u.buffer):u.buffer;return new u.constructor(a,u.byteOffset,u.length)}f.exports=d},26393:function(f,b,t){var r=t(33448);function d(u,l){if(u!==l){var a=u!==void 0,g=u===null,v=u===u,c=r(u),o=l!==void 0,i=l===null,h=l===l,m=r(l);if(!i&&!m&&!c&&u>l||c&&o&&h&&!i&&!m||g&&o&&h||!a&&h||!v)return 1;if(!g&&!c&&!m&&u<l||m&&a&&v&&!g&&!c||i&&a&&v||!o&&v||!h)return-1}return 0}f.exports=d},85022:function(f,b,t){var r=t(26393);function d(u,l,a){for(var g=-1,v=u.criteria,c=l.criteria,o=v.length,i=a.length;++g<o;){var h=r(v[g],c[g]);if(h){if(g>=i)return h;var m=a[g];return h*(m=="desc"?-1:1)}}return u.index-l.index}f.exports=d},6450:function(f){function b(t,r){var d=-1,u=t.length;for(r||(r=Array(u));++d<u;)r[d]=t[d];return r}f.exports=b},98363:function(f,b,t){var r=t(34865),d=t(89465);function u(l,a,g,v){var c=!g;g||(g={});for(var o=-1,i=a.length;++o<i;){var h=a[o],m=v?v(g[h],l[h],h,g,l):void 0;m===void 0&&(m=l[h]),c?d(g,h,m):r(g,h,m)}return g}f.exports=u},18805:function(f,b,t){var r=t(98363),d=t(99551);function u(l,a){return r(l,d(l),a)}f.exports=u},1911:function(f,b,t){var r=t(98363),d=t(51442);function u(l,a){return r(l,d(l),a)}f.exports=u},14429:function(f,b,t){var r=t(55639),d=r["__core-js_shared__"];f.exports=d},21463:function(f,b,t){var r=t(5976),d=t(16612);function u(l){return r(function(a,g){var v=-1,c=g.length,o=c>1?g[c-1]:void 0,i=c>2?g[2]:void 0;for(o=l.length>3&&typeof o=="function"?(c--,o):void 0,i&&d(g[0],g[1],i)&&(o=c<3?void 0:o,c=1),a=Object(a);++v<c;){var h=g[v];h&&l(a,h,v,o)}return a})}f.exports=u},99291:function(f,b,t){var r=t(98612);function d(u,l){return function(a,g){if(a==null)return a;if(!r(a))return u(a,g);for(var v=a.length,c=l?v:-1,o=Object(a);(l?c--:++c<v)&&g(o[c],c,o)!==!1;);return a}}f.exports=d},25063:function(f){function b(t){return function(r,d,u){for(var l=-1,a=Object(r),g=u(r),v=g.length;v--;){var c=g[t?v:++l];if(d(a[c],c,a)===!1)break}return r}}f.exports=b},67740:function(f,b,t){var r=t(67206),d=t(98612),u=t(3674);function l(a){return function(g,v,c){var o=Object(g);if(!d(g)){var i=r(v,3);g=u(g),v=function(m){return i(o[m],m,o)}}var h=a(g,v,c);return h>-1?o[i?g[h]:h]:void 0}}f.exports=l},47445:function(f,b,t){var r=t(40098),d=t(16612),u=t(18601);function l(a){return function(g,v,c){return c&&typeof c!="number"&&d(g,v,c)&&(v=c=void 0),g=u(g),v===void 0?(v=g,g=0):v=u(v),c=c===void 0?g<v?1:-1:u(c),r(g,v,c,a)}}f.exports=l},23593:function(f,b,t){var r=t(58525),d=t(28117),u=t(21814),l=1/0,a=r&&1/u(new r([,-0]))[1]==l?function(g){return new r(g)}:d;f.exports=a},38777:function(f,b,t){var r=t(10852),d=function(){try{var u=r(Object,"defineProperty");return u({},"",{}),u}catch(l){}}();f.exports=d},67114:function(f,b,t){var r=t(88668),d=t(82908),u=t(74757),l=1,a=2;function g(v,c,o,i,h,m){var w=o&l,M=v.length,Y=c.length;if(M!=Y&&!(w&&Y>M))return!1;var K=m.get(v),F=m.get(c);if(K&&F)return K==c&&F==v;var Z=-1,J=!0,Q=o&a?new r:void 0;for(m.set(v,c),m.set(c,v);++Z<M;){var L=v[Z],B=c[Z];if(i)var T=w?i(B,L,Z,c,v,m):i(L,B,Z,v,c,m);if(T!==void 0){if(T)continue;J=!1;break}if(Q){if(!d(c,function(z,G){if(!u(Q,G)&&(L===z||h(L,z,o,i,m)))return Q.push(G)})){J=!1;break}}else if(!(L===B||h(L,B,o,i,m))){J=!1;break}}return m.delete(v),m.delete(c),J}f.exports=g},18351:function(f,b,t){var r=t(62705),d=t(11149),u=t(77813),l=t(67114),a=t(68776),g=t(21814),v=1,c=2,o="[object Boolean]",i="[object Date]",h="[object Error]",m="[object Map]",w="[object Number]",M="[object RegExp]",Y="[object Set]",K="[object String]",F="[object Symbol]",Z="[object ArrayBuffer]",J="[object DataView]",Q=r?r.prototype:void 0,L=Q?Q.valueOf:void 0;function B(T,z,G,U,S,P,X){switch(G){case J:if(T.byteLength!=z.byteLength||T.byteOffset!=z.byteOffset)return!1;T=T.buffer,z=z.buffer;case Z:return!(T.byteLength!=z.byteLength||!P(new d(T),new d(z)));case o:case i:case w:return u(+T,+z);case h:return T.name==z.name&&T.message==z.message;case M:case K:return T==z+"";case m:var W=a;case Y:var I=U&v;if(W||(W=g),T.size!=z.size&&!I)return!1;var V=X.get(T);if(V)return V==z;U|=c,X.set(T,z);var j=l(W(T),W(z),U,S,P,X);return X.delete(T),j;case F:if(L)return L.call(T)==L.call(z)}return!1}f.exports=B},16096:function(f,b,t){var r=t(58234),d=1,u=Object.prototype,l=u.hasOwnProperty;function a(g,v,c,o,i,h){var m=c&d,w=r(g),M=w.length,Y=r(v),K=Y.length;if(M!=K&&!m)return!1;for(var F=M;F--;){var Z=w[F];if(!(m?Z in v:l.call(v,Z)))return!1}var J=h.get(g),Q=h.get(v);if(J&&Q)return J==v&&Q==g;var L=!0;h.set(g,v),h.set(v,g);for(var B=m;++F<M;){Z=w[F];var T=g[Z],z=v[Z];if(o)var G=m?o(z,T,Z,v,g,h):o(T,z,Z,g,v,h);if(!(G===void 0?T===z||i(T,z,c,o,h):G)){L=!1;break}B||(B=Z=="constructor")}if(L&&!B){var U=g.constructor,S=v.constructor;U!=S&&"constructor"in g&&"constructor"in v&&!(typeof U=="function"&&U instanceof U&&typeof S=="function"&&S instanceof S)&&(L=!1)}return h.delete(g),h.delete(v),L}f.exports=a},99021:function(f,b,t){var r=t(85564),d=t(45357),u=t(30061);function l(a){return u(d(a,void 0,r),a+"")}f.exports=l},58234:function(f,b,t){var r=t(68866),d=t(99551),u=t(3674);function l(a){return r(a,u,d)}f.exports=l},46904:function(f,b,t){var r=t(68866),d=t(51442),u=t(81704);function l(a){return r(a,u,d)}f.exports=l},45050:function(f,b,t){var r=t(37019);function d(u,l){var a=u.__data__;return r(l)?a[typeof l=="string"?"string":"hash"]:a.map}f.exports=d},1499:function(f,b,t){var r=t(89162),d=t(3674);function u(l){for(var a=d(l),g=a.length;g--;){var v=a[g],c=l[v];a[g]=[v,c,r(c)]}return a}f.exports=u},10852:function(f,b,t){var r=t(28458),d=t(47801);function u(l,a){var g=d(l,a);return r(g)?g:void 0}f.exports=u},99551:function(f,b,t){var r=t(34963),d=t(70479),u=Object.prototype,l=u.propertyIsEnumerable,a=Object.getOwnPropertySymbols,g=a?function(v){return v==null?[]:(v=Object(v),r(a(v),function(c){return l.call(v,c)}))}:d;f.exports=g},51442:function(f,b,t){var r=t(62488),d=t(85924),u=t(99551),l=t(70479),a=Object.getOwnPropertySymbols,g=a?function(v){for(var c=[];v;)r(c,u(v)),v=d(v);return c}:l;f.exports=g},64160:function(f,b,t){var r=t(18552),d=t(57071),u=t(53818),l=t(58525),a=t(70577),g=t(44239),v=t(80346),c="[object Map]",o="[object Object]",i="[object Promise]",h="[object Set]",m="[object WeakMap]",w="[object DataView]",M=v(r),Y=v(d),K=v(u),F=v(l),Z=v(a),J=g;(r&&J(new r(new ArrayBuffer(1)))!=w||d&&J(new d)!=c||u&&J(u.resolve())!=i||l&&J(new l)!=h||a&&J(new a)!=m)&&(J=function(Q){var L=g(Q),B=L==o?Q.constructor:void 0,T=B?v(B):"";if(T)switch(T){case M:return w;case Y:return c;case K:return i;case F:return h;case Z:return m}return L}),f.exports=J},47801:function(f){function b(t,r){return t==null?void 0:t[r]}f.exports=b},222:function(f,b,t){var r=t(71811),d=t(35694),u=t(1469),l=t(65776),a=t(41780),g=t(40327);function v(c,o,i){o=r(o,c);for(var h=-1,m=o.length,w=!1;++h<m;){var M=g(o[h]);if(!(w=c!=null&&i(c,M)))break;c=c[M]}return w||++h!=m?w:(m=c==null?0:c.length,!!m&&a(m)&&l(M,m)&&(u(c)||d(c)))}f.exports=v},62689:function(f){var b="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",u=t+r+d,l="\\ufe0e\\ufe0f",a="\\u200d",g=RegExp("["+a+b+u+l+"]");function v(c){return g.test(c)}f.exports=v},51789:function(f,b,t){var r=t(94536);function d(){this.__data__=r?r(null):{},this.size=0}f.exports=d},80401:function(f){function b(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}f.exports=b},57667:function(f,b,t){var r=t(94536),d="__lodash_hash_undefined__",u=Object.prototype,l=u.hasOwnProperty;function a(g){var v=this.__data__;if(r){var c=v[g];return c===d?void 0:c}return l.call(v,g)?v[g]:void 0}f.exports=a},21327:function(f,b,t){var r=t(94536),d=Object.prototype,u=d.hasOwnProperty;function l(a){var g=this.__data__;return r?g[a]!==void 0:u.call(g,a)}f.exports=l},81866:function(f,b,t){var r=t(94536),d="__lodash_hash_undefined__";function u(l,a){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=r&&a===void 0?d:a,this}f.exports=u},43824:function(f){var b=Object.prototype,t=b.hasOwnProperty;function r(d){var u=d.length,l=new d.constructor(u);return u&&typeof d[0]=="string"&&t.call(d,"index")&&(l.index=d.index,l.input=d.input),l}f.exports=r},29148:function(f,b,t){var r=t(74318),d=t(57157),u=t(93147),l=t(40419),a=t(77133),g="[object Boolean]",v="[object Date]",c="[object Map]",o="[object Number]",i="[object RegExp]",h="[object Set]",m="[object String]",w="[object Symbol]",M="[object ArrayBuffer]",Y="[object DataView]",K="[object Float32Array]",F="[object Float64Array]",Z="[object Int8Array]",J="[object Int16Array]",Q="[object Int32Array]",L="[object Uint8Array]",B="[object Uint8ClampedArray]",T="[object Uint16Array]",z="[object Uint32Array]";function G(U,S,P){var X=U.constructor;switch(S){case M:return r(U);case g:case v:return new X(+U);case Y:return d(U,P);case K:case F:case Z:case J:case Q:case L:case B:case T:case z:return a(U,P);case c:return new X;case o:case m:return new X(U);case i:return u(U);case h:return new X;case w:return l(U)}}f.exports=G},38517:function(f,b,t){var r=t(3118),d=t(85924),u=t(27360);function l(a){return typeof a.constructor=="function"&&!u(a)?r(d(a)):{}}f.exports=l},37285:function(f,b,t){var r=t(62705),d=t(35694),u=t(1469),l=r?r.isConcatSpreadable:void 0;function a(g){return u(g)||d(g)||!!(l&&g&&g[l])}f.exports=a},65776:function(f){var b=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(d,u){var l=typeof d;return u=u==null?b:u,!!u&&(l=="number"||l!="symbol"&&t.test(d))&&d>-1&&d%1==0&&d<u}f.exports=r},16612:function(f,b,t){var r=t(77813),d=t(98612),u=t(65776),l=t(13218);function a(g,v,c){if(!l(c))return!1;var o=typeof v;return(o=="number"?d(c)&&u(v,c.length):o=="string"&&v in c)?r(c[v],g):!1}f.exports=a},15403:function(f,b,t){var r=t(1469),d=t(33448),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;function a(g,v){if(r(g))return!1;var c=typeof g;return c=="number"||c=="symbol"||c=="boolean"||g==null||d(g)?!0:l.test(g)||!u.test(g)||v!=null&&g in Object(v)}f.exports=a},37019:function(f){function b(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}f.exports=b},15346:function(f,b,t){var r=t(14429),d=function(){var l=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function u(l){return!!d&&d in l}f.exports=u},27360:function(f){var b=Object.prototype;function t(r){var d=r&&r.constructor,u=typeof d=="function"&&d.prototype||b;return r===u}f.exports=t},89162:function(f,b,t){var r=t(13218);function d(u){return u===u&&!r(u)}f.exports=d},27040:function(f){function b(){this.__data__=[],this.size=0}f.exports=b},14125:function(f,b,t){var r=t(18470),d=Array.prototype,u=d.splice;function l(a){var g=this.__data__,v=r(g,a);if(v<0)return!1;var c=g.length-1;return v==c?g.pop():u.call(g,v,1),--this.size,!0}f.exports=l},82117:function(f,b,t){var r=t(18470);function d(u){var l=this.__data__,a=r(l,u);return a<0?void 0:l[a][1]}f.exports=d},67518:function(f,b,t){var r=t(18470);function d(u){return r(this.__data__,u)>-1}f.exports=d},54705:function(f,b,t){var r=t(18470);function d(u,l){var a=this.__data__,g=r(a,u);return g<0?(++this.size,a.push([u,l])):a[g][1]=l,this}f.exports=d},24785:function(f,b,t){var r=t(1989),d=t(38407),u=t(57071);function l(){this.size=0,this.__data__={hash:new r,map:new(u||d),string:new r}}f.exports=l},11285:function(f,b,t){var r=t(45050);function d(u){var l=r(this,u).delete(u);return this.size-=l?1:0,l}f.exports=d},96e3:function(f,b,t){var r=t(45050);function d(u){return r(this,u).get(u)}f.exports=d},49916:function(f,b,t){var r=t(45050);function d(u){return r(this,u).has(u)}f.exports=d},95265:function(f,b,t){var r=t(45050);function d(u,l){var a=r(this,u),g=a.size;return a.set(u,l),this.size+=a.size==g?0:1,this}f.exports=d},68776:function(f){function b(t){var r=-1,d=Array(t.size);return t.forEach(function(u,l){d[++r]=[l,u]}),d}f.exports=b},42634:function(f){function b(t,r){return function(d){return d==null?!1:d[t]===r&&(r!==void 0||t in Object(d))}}f.exports=b},24523:function(f,b,t){var r=t(15644),d=500;function u(l){var a=r(l,function(v){return g.size===d&&g.clear(),v}),g=a.cache;return a}f.exports=u},94536:function(f,b,t){var r=t(10852),d=r(Object,"create");f.exports=d},86916:function(f,b,t){var r=t(5569),d=r(Object.keys,Object);f.exports=d},33498:function(f){function b(t){var r=[];if(t!=null)for(var d in Object(t))r.push(d);return r}f.exports=b},31167:function(f,b,t){f=t.nmd(f);var r=t(31957),d=b&&!b.nodeType&&b,u=d&&!0&&f&&!f.nodeType&&f,l=u&&u.exports===d,a=l&&r.process,g=function(){try{var v=u&&u.require&&u.require("util").types;return v||a&&a.binding&&a.binding("util")}catch(c){}}();f.exports=g},45357:function(f,b,t){var r=t(96874),d=Math.max;function u(l,a,g){return a=d(a===void 0?l.length-1:a,0),function(){for(var v=arguments,c=-1,o=d(v.length-a,0),i=Array(o);++c<o;)i[c]=v[a+c];c=-1;for(var h=Array(a+1);++c<a;)h[c]=v[c];return h[a]=g(i),r(l,this,h)}}f.exports=u},36390:function(f){function b(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}f.exports=b},90619:function(f){var b="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,b),this}f.exports=t},72385:function(f){function b(t){return this.__data__.has(t)}f.exports=b},21814:function(f){function b(t){var r=-1,d=Array(t.size);return t.forEach(function(u){d[++r]=u}),d}f.exports=b},30061:function(f,b,t){var r=t(56560),d=t(21275),u=d(r);f.exports=u},21275:function(f){var b=800,t=16,r=Date.now;function d(u){var l=0,a=0;return function(){var g=r(),v=t-(g-a);if(a=g,v>0){if(++l>=b)return arguments[0]}else l=0;return u.apply(void 0,arguments)}}f.exports=d},37465:function(f,b,t){var r=t(38407);function d(){this.__data__=new r,this.size=0}f.exports=d},63779:function(f){function b(t){var r=this.__data__,d=r.delete(t);return this.size=r.size,d}f.exports=b},67599:function(f){function b(t){return this.__data__.get(t)}f.exports=b},44758:function(f){function b(t){return this.__data__.has(t)}f.exports=b},34309:function(f,b,t){var r=t(38407),d=t(57071),u=t(83369),l=200;function a(g,v){var c=this.__data__;if(c instanceof r){var o=c.__data__;if(!d||o.length<l-1)return o.push([g,v]),this.size=++c.size,this;c=this.__data__=new u(o)}return c.set(g,v),this.size=c.size,this}f.exports=a},39375:function(f){function b(t,r,d){for(var u=d-1,l=t.length;++u<l;)if(t[u]===r)return u;return-1}f.exports=b},88016:function(f,b,t){var r=t(48983),d=t(62689),u=t(21903);function l(a){return d(a)?u(a):r(a)}f.exports=l},55514:function(f,b,t){var r=t(24523),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,l=r(function(a){var g=[];return a.charCodeAt(0)===46&&g.push(""),a.replace(d,function(v,c,o,i){g.push(o?i.replace(u,"$1"):c||v)}),g});f.exports=l},40327:function(f,b,t){var r=t(33448),d=1/0;function u(l){if(typeof l=="string"||r(l))return l;var a=l+"";return a=="0"&&1/l==-d?"-0":a}f.exports=u},80346:function(f){var b=Function.prototype,t=b.toString;function r(d){if(d!=null){try{return t.call(d)}catch(u){}try{return d+""}catch(u){}}return""}f.exports=r},21903:function(f){var b="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",u=t+r+d,l="\\ufe0e\\ufe0f",a="["+b+"]",g="["+u+"]",v="\\ud83c[\\udffb-\\udfff]",c="(?:"+g+"|"+v+")",o="[^"+b+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",w=c+"?",M="["+l+"]?",Y="(?:"+m+"(?:"+[o,i,h].join("|")+")"+M+w+")*",K=M+w+Y,F="(?:"+[o+g+"?",g,i,h,a].join("|")+")",Z=RegExp(v+"(?="+v+")|"+F+K,"g");function J(Q){for(var L=Z.lastIndex=0;Z.test(Q);)++L;return L}f.exports=J},66678:function(f,b,t){var r=t(85990),d=4;function u(l){return r(l,d)}f.exports=u},50361:function(f,b,t){var r=t(85990),d=1,u=4;function l(a){return r(a,d|u)}f.exports=l},75703:function(f){function b(t){return function(){return t}}f.exports=b},91747:function(f,b,t){var r=t(5976),d=t(77813),u=t(16612),l=t(81704),a=Object.prototype,g=a.hasOwnProperty,v=r(function(c,o){c=Object(c);var i=-1,h=o.length,m=h>2?o[2]:void 0;for(m&&u(o[0],o[1],m)&&(h=1);++i<h;)for(var w=o[i],M=l(w),Y=-1,K=M.length;++Y<K;){var F=M[Y],Z=c[F];(Z===void 0||d(Z,a[F])&&!g.call(c,F))&&(c[F]=w[F])}return c});f.exports=v},66073:function(f,b,t){f.exports=t(84486)},77813:function(f){function b(t,r){return t===r||t!==t&&r!==r}f.exports=b},63105:function(f,b,t){var r=t(34963),d=t(80760),u=t(67206),l=t(1469);function a(g,v){var c=l(g)?r:d;return c(g,u(v,3))}f.exports=a},13311:function(f,b,t){var r=t(67740),d=t(30998),u=r(d);f.exports=u},30998:function(f,b,t){var r=t(41848),d=t(67206),u=t(40554),l=Math.max;function a(g,v,c){var o=g==null?0:g.length;if(!o)return-1;var i=c==null?0:u(c);return i<0&&(i=l(o+i,0)),r(g,d(v,3),i)}f.exports=a},85564:function(f,b,t){var r=t(21078);function d(u){var l=u==null?0:u.length;return l?r(u,1):[]}f.exports=d},84486:function(f,b,t){var r=t(77412),d=t(89881),u=t(54290),l=t(1469);function a(g,v){var c=l(g)?r:d;return c(g,u(v))}f.exports=a},62620:function(f,b,t){var r=t(28483),d=t(54290),u=t(81704);function l(a,g){return a==null?a:r(a,d(g),u)}f.exports=l},27361:function(f,b,t){var r=t(97786);function d(u,l,a){var g=u==null?void 0:r(u,l);return g===void 0?a:g}f.exports=d},18721:function(f,b,t){var r=t(78565),d=t(222);function u(l,a){return l!=null&&d(l,a,r)}f.exports=u},79095:function(f,b,t){var r=t(13),d=t(222);function u(l,a){return l!=null&&d(l,a,r)}f.exports=u},6557:function(f){function b(t){return t}f.exports=b},35694:function(f,b,t){var r=t(9454),d=t(37005),u=Object.prototype,l=u.hasOwnProperty,a=u.propertyIsEnumerable,g=r(function(){return arguments}())?r:function(v){return d(v)&&l.call(v,"callee")&&!a.call(v,"callee")};f.exports=g},1469:function(f){var b=Array.isArray;f.exports=b},98612:function(f,b,t){var r=t(23560),d=t(41780);function u(l){return l!=null&&d(l.length)&&!r(l)}f.exports=u},29246:function(f,b,t){var r=t(98612),d=t(37005);function u(l){return d(l)&&r(l)}f.exports=u},44144:function(f,b,t){f=t.nmd(f);var r=t(55639),d=t(95062),u=b&&!b.nodeType&&b,l=u&&!0&&f&&!f.nodeType&&f,a=l&&l.exports===u,g=a?r.Buffer:void 0,v=g?g.isBuffer:void 0,c=v||d;f.exports=c},41609:function(f,b,t){var r=t(280),d=t(64160),u=t(35694),l=t(1469),a=t(98612),g=t(44144),v=t(27360),c=t(36719),o="[object Map]",i="[object Set]",h=Object.prototype,m=h.hasOwnProperty;function w(M){if(M==null)return!0;if(a(M)&&(l(M)||typeof M=="string"||typeof M.splice=="function"||g(M)||c(M)||u(M)))return!M.length;var Y=d(M);if(Y==o||Y==i)return!M.size;if(v(M))return!r(M).length;for(var K in M)if(m.call(M,K))return!1;return!0}f.exports=w},23560:function(f,b,t){var r=t(44239),d=t(13218),u="[object AsyncFunction]",l="[object Function]",a="[object GeneratorFunction]",g="[object Proxy]";function v(c){if(!d(c))return!1;var o=r(c);return o==l||o==a||o==u||o==g}f.exports=v},41780:function(f){var b=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=b}f.exports=t},56688:function(f,b,t){var r=t(25588),d=t(51717),u=t(31167),l=u&&u.isMap,a=l?d(l):r;f.exports=a},72928:function(f,b,t){var r=t(29221),d=t(51717),u=t(31167),l=u&&u.isSet,a=l?d(l):r;f.exports=a},47037:function(f,b,t){var r=t(44239),d=t(1469),u=t(37005),l="[object String]";function a(g){return typeof g=="string"||!d(g)&&u(g)&&r(g)==l}f.exports=a},36719:function(f,b,t){var r=t(38749),d=t(51717),u=t(31167),l=u&&u.isTypedArray,a=l?d(l):r;f.exports=a},52353:function(f){function b(t){return t===void 0}f.exports=b},3674:function(f,b,t){var r=t(14636),d=t(280),u=t(98612);function l(a){return u(a)?r(a):d(a)}f.exports=l},81704:function(f,b,t){var r=t(14636),d=t(10313),u=t(98612);function l(a){return u(a)?r(a,!0):d(a)}f.exports=l},10928:function(f){function b(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}f.exports=b},35161:function(f,b,t){var r=t(29932),d=t(67206),u=t(69199),l=t(1469);function a(g,v){var c=l(g)?r:u;return c(g,d(v,3))}f.exports=a},66604:function(f,b,t){var r=t(89465),d=t(47816),u=t(67206);function l(a,g){var v={};return g=u(g,3),d(a,function(c,o,i){r(v,o,g(c,o,i))}),v}f.exports=l},6162:function(f,b,t){var r=t(56029),d=t(53325),u=t(6557);function l(a){return a&&a.length?r(a,u,d):void 0}f.exports=l},15644:function(f,b,t){var r=t(83369),d="Expected a function";function u(l,a){if(typeof l!="function"||a!=null&&typeof a!="function")throw new TypeError(d);var g=function(){var v=arguments,c=a?a.apply(this,v):v[0],o=g.cache;if(o.has(c))return o.get(c);var i=l.apply(this,v);return g.cache=o.set(c,i)||o,i};return g.cache=new(u.Cache||r),g}u.Cache=r,f.exports=u},82492:function(f,b,t){var r=t(42980),d=t(21463),u=d(function(l,a,g){r(l,a,g)});f.exports=u},53632:function(f,b,t){var r=t(56029),d=t(70433),u=t(6557);function l(a){return a&&a.length?r(a,u,d):void 0}f.exports=l},22762:function(f,b,t){var r=t(56029),d=t(67206),u=t(70433);function l(a,g){return a&&a.length?r(a,d(g,2),u):void 0}f.exports=l},28117:function(f){function b(){}f.exports=b},78718:function(f,b,t){var r=t(25970),d=t(99021),u=d(function(l,a){return l==null?{}:r(l,a)});f.exports=u},39601:function(f,b,t){var r=t(40371),d=t(79152),u=t(15403),l=t(40327);function a(g){return u(g)?r(l(g)):d(g)}f.exports=a},96026:function(f,b,t){var r=t(47445),d=r();f.exports=d},54061:function(f,b,t){var r=t(62663),d=t(89881),u=t(67206),l=t(10107),a=t(1469);function g(v,c,o){var i=a(v)?r:l,h=arguments.length<3;return i(v,u(c,4),o,h,d)}f.exports=g},84238:function(f,b,t){var r=t(280),d=t(64160),u=t(98612),l=t(47037),a=t(88016),g="[object Map]",v="[object Set]";function c(o){if(o==null)return 0;if(u(o))return l(o)?a(o):o.length;var i=d(o);return i==g||i==v?o.size:r(o).length}f.exports=c},89734:function(f,b,t){var r=t(21078),d=t(82689),u=t(5976),l=t(16612),a=u(function(g,v){if(g==null)return[];var c=v.length;return c>1&&l(g,v[0],v[1])?v=[]:c>2&&l(v[0],v[1],v[2])&&(v=[v[0]]),d(g,r(v,1),[])});f.exports=a},70479:function(f){function b(){return[]}f.exports=b},95062:function(f){function b(){return!1}f.exports=b},18601:function(f,b,t){var r=t(14841),d=1/0,u=17976931348623157e292;function l(a){if(!a)return a===0?a:0;if(a=r(a),a===d||a===-d){var g=a<0?-1:1;return g*u}return a===a?a:0}f.exports=l},40554:function(f,b,t){var r=t(18601);function d(u){var l=r(u),a=l%1;return l===l?a?l-a:l:0}f.exports=d},59881:function(f,b,t){var r=t(98363),d=t(81704);function u(l){return r(l,d(l))}f.exports=u},79833:function(f,b,t){var r=t(80531);function d(u){return u==null?"":r(u)}f.exports=d},68718:function(f,b,t){var r=t(77412),d=t(3118),u=t(47816),l=t(67206),a=t(85924),g=t(1469),v=t(44144),c=t(23560),o=t(13218),i=t(36719);function h(m,w,M){var Y=g(m),K=Y||v(m)||i(m);if(w=l(w,4),M==null){var F=m&&m.constructor;K?M=Y?new F:[]:o(m)?M=c(F)?d(a(m)):{}:M={}}return(K?r:u)(m,function(Z,J,Q){return w(M,Z,J,Q)}),M}f.exports=h},93386:function(f,b,t){var r=t(21078),d=t(5976),u=t(45652),l=t(29246),a=d(function(g){return u(r(g,1,l,!0))});f.exports=a},73955:function(f,b,t){var r=t(79833),d=0;function u(l){var a=++d;return r(l)+a}f.exports=u},52628:function(f,b,t){var r=t(47415),d=t(3674);function u(l){return l==null?[]:r(l,d(l))}f.exports=u},7287:function(f,b,t){var r=t(34865),d=t(1757);function u(l,a){return d(l||[],a||[],r)}f.exports=u},75823:function(f,b,t){"use strict";t.r(b),t.d(b,{default:function(){return l}});var r=t(44091);function d(a){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,r.isAnyArray)(a))throw new TypeError("input must be an array");if(a.length===0)throw new TypeError("input must not be empty");var v=g.fromIndex,c=v===void 0?0:v,o=g.toIndex,i=o===void 0?a.length:o;if(c<0||c>=a.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=c||i>a.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var h=a[c],m=c+1;m<i;m++)a[m]>h&&(h=a[m]);return h}function u(a){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,r.isAnyArray)(a))throw new TypeError("input must be an array");if(a.length===0)throw new TypeError("input must not be empty");var v=g.fromIndex,c=v===void 0?0:v,o=g.toIndex,i=o===void 0?a.length:o;if(c<0||c>=a.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=c||i>a.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var h=a[c],m=c+1;m<i;m++)a[m]<h&&(h=a[m]);return h}function l(a){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,r.isAnyArray)(a)){if(a.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var v;if(g.output!==void 0){if(!(0,r.isAnyArray)(g.output))throw new TypeError("output option must be an array if specified");v=g.output}else v=new Array(a.length);var c=u(a),o=d(a);if(c===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=g.min,h=i===void 0?g.autoMinMax?c:0:i,m=g.max,w=m===void 0?g.autoMinMax?o:1:m;if(h>=w)throw new RangeError("min option must be smaller than max option");for(var M=(w-h)/(o-c),Y=0;Y<a.length;Y++)v[Y]=(a[Y]-c)*M+h;return v}},25098:function(f){function b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},97235:function(f){function b(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},28771:function(f){function b(t,r){return r.get?r.get.call(t):r.value}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},40008:function(f){function b(t,r,d){if(r.set)r.set.call(t,d);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=d}}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},56194:function(f){function b(t,r,d){if(!r.has(t))throw new TypeError("attempted to "+d+" private field on non-instance");return r.get(t)}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},33862:function(f,b,t){var r=t(28771),d=t(56194);function u(l,a){var g=d(l,a,"get");return r(l,g)}f.exports=u,f.exports.__esModule=!0,f.exports.default=f.exports},29777:function(f,b,t){var r=t(97235);function d(u,l,a){r(u,l),l.set(u,a)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},25457:function(f,b,t){var r=t(40008),d=t(56194);function u(l,a,g){var v=d(l,a,"set");return r(l,v,g),g}f.exports=u,f.exports.__esModule=!0,f.exports.default=f.exports},74978:function(f){function b(t,r,d){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return d}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},80363:function(f,b,t){var r=t(97235);function d(u,l){r(u,l),l.add(u)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},26037:function(f,b,t){var r=t(48374),d=t(21771),u=t(73408);function l(a){var g=d();return function(){var c=r(a),o;if(g){var i=r(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return u(this,o)}}f.exports=l,f.exports.__esModule=!0,f.exports.default=f.exports},28785:function(f,b,t){var r=t(70426);function d(){return typeof Reflect!="undefined"&&Reflect.get?(f.exports=d=Reflect.get.bind(),f.exports.__esModule=!0,f.exports.default=f.exports):(f.exports=d=function(l,a,g){var v=r(l,a);if(v){var c=Object.getOwnPropertyDescriptor(v,a);return c.get?c.get.call(arguments.length<3?l:g):c.value}},f.exports.__esModule=!0,f.exports.default=f.exports),d.apply(this,arguments)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},48374:function(f){function b(t){return f.exports=b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},f.exports.__esModule=!0,f.exports.default=f.exports,b(t)}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},31996:function(f,b,t){var r=t(21314);function d(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&r(u,l)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},21771:function(f){function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},73408:function(f,b,t){var r=t(52677).default,d=t(25098);function u(l,a){if(a&&(r(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(l)}f.exports=u,f.exports.__esModule=!0,f.exports.default=f.exports},21314:function(f){function b(t,r){return f.exports=b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,l){return u.__proto__=l,u},f.exports.__esModule=!0,f.exports.default=f.exports,b(t,r)}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},70426:function(f,b,t){var r=t(48374);function d(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=r(u),u!==null););return u}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},17049:function(f,b){"use strict";var t={value:function(){}};function r(){for(var g=0,v=arguments.length,c={},o;g<v;++g){if(!(o=arguments[g]+"")||o in c||/[\s.]/.test(o))throw new Error("illegal type: "+o);c[o]=[]}return new d(c)}function d(g){this._=g}function u(g,v){return g.trim().split(/^|\s+/).map(function(c){var o="",i=c.indexOf(".");if(i>=0&&(o=c.slice(i+1),c=c.slice(0,i)),c&&!v.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:o}})}d.prototype=r.prototype={constructor:d,on:function(v,c){var o=this._,i=u(v+"",o),h,m=-1,w=i.length;if(arguments.length<2){for(;++m<w;)if((h=(v=i[m]).type)&&(h=l(o[h],v.name)))return h;return}if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++m<w;)if(h=(v=i[m]).type)o[h]=a(o[h],v.name,c);else if(c==null)for(h in o)o[h]=a(o[h],v.name,null);return this},copy:function(){var v={},c=this._;for(var o in c)v[o]=c[o].slice();return new d(v)},call:function(v,c){if((h=arguments.length-2)>0)for(var o=new Array(h),i=0,h,m;i<h;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(v))throw new Error("unknown type: "+v);for(m=this._[v],i=0,h=m.length;i<h;++i)m[i].value.apply(c,o)},apply:function(v,c,o){if(!this._.hasOwnProperty(v))throw new Error("unknown type: "+v);for(var i=this._[v],h=0,m=i.length;h<m;++h)i[h].value.apply(c,o)}};function l(g,v){for(var c=0,o=g.length,i;c<o;++c)if((i=g[c]).name===v)return i.value}function a(g,v,c){for(var o=0,i=g.length;o<i;++o)if(g[o].name===v){g[o]=t,g=g.slice(0,o).concat(g.slice(o+1));break}return c!=null&&g.push({name:v,value:c}),g}b.Z=r},32014:function(f,b,t){"use strict";t.d(b,{Sc:function(){return G},y3:function(){return i}});var r=t(49612),d=r.XA,u=r.a_,l=r.yQ,a=r.Hs,g=r.Ec,v=r.dx,c=r.LU,o=r.Rm,i=r.y3,h=r.qK,m=r.pb,w=r.j,M=r.sO,Y=r.BZ,K=r.EK,F=r.Db,Z=r.Fx,J=r.tU,Q=r.Ym,L=r.rs,B=r.QR,T=r.TB,z=r.oH,G=r.Sc,U=r.BN,S=r.it,P=r.$r,X=r.QM,W=r.AV,I=(r.y3,r.y3),V=r.GH,j=r.SO,q=r.uZ,tt=r.yU,ot=r.F1,ct=r.re},30423:function(f,b,t){"use strict";t.d(b,{Z:function(){return T}});function r(S){const P=+this._x.call(null,S),X=+this._y.call(null,S),W=+this._z.call(null,S);return d(this.cover(P,X,W),P,X,W,S)}function d(S,P,X,W,I){if(isNaN(P)||isNaN(X)||isNaN(W))return S;var V,j=S._root,q={data:I},tt=S._x0,ot=S._y0,ct=S._z0,nt=S._x1,gt=S._y1,it=S._z1,_,ht,lt,at,Nt,vt,mt,xt,St,Tt,It;if(!j)return S._root=q,S;for(;j.length;)if((mt=P>=(_=(tt+nt)/2))?tt=_:nt=_,(xt=X>=(ht=(ot+gt)/2))?ot=ht:gt=ht,(St=W>=(lt=(ct+it)/2))?ct=lt:it=lt,V=j,!(j=j[Tt=St<<2|xt<<1|mt]))return V[Tt]=q,S;if(at=+S._x.call(null,j.data),Nt=+S._y.call(null,j.data),vt=+S._z.call(null,j.data),P===at&&X===Nt&&W===vt)return q.next=j,V?V[Tt]=q:S._root=q,S;do V=V?V[Tt]=new Array(8):S._root=new Array(8),(mt=P>=(_=(tt+nt)/2))?tt=_:nt=_,(xt=X>=(ht=(ot+gt)/2))?ot=ht:gt=ht,(St=W>=(lt=(ct+it)/2))?ct=lt:it=lt;while((Tt=St<<2|xt<<1|mt)===(It=(vt>=lt)<<2|(Nt>=ht)<<1|at>=_));return V[It]=j,V[Tt]=q,S}function u(S){Array.isArray(S)||(S=Array.from(S));const P=S.length,X=new Float64Array(P),W=new Float64Array(P),I=new Float64Array(P);let V=1/0,j=1/0,q=1/0,tt=-1/0,ot=-1/0,ct=-1/0;for(let nt=0,gt,it,_,ht;nt<P;++nt)isNaN(it=+this._x.call(null,gt=S[nt]))||isNaN(_=+this._y.call(null,gt))||isNaN(ht=+this._z.call(null,gt))||(X[nt]=it,W[nt]=_,I[nt]=ht,it<V&&(V=it),it>tt&&(tt=it),_<j&&(j=_),_>ot&&(ot=_),ht<q&&(q=ht),ht>ct&&(ct=ht));if(V>tt||j>ot||q>ct)return this;this.cover(V,j,q).cover(tt,ot,ct);for(let nt=0;nt<P;++nt)d(this,X[nt],W[nt],I[nt],S[nt]);return this}function l(S,P,X){if(isNaN(S=+S)||isNaN(P=+P)||isNaN(X=+X))return this;var W=this._x0,I=this._y0,V=this._z0,j=this._x1,q=this._y1,tt=this._z1;if(isNaN(W))j=(W=Math.floor(S))+1,q=(I=Math.floor(P))+1,tt=(V=Math.floor(X))+1;else{for(var ot=j-W||1,ct=this._root,nt,gt;W>S||S>=j||I>P||P>=q||V>X||X>=tt;)switch(gt=(X<V)<<2|(P<I)<<1|S<W,nt=new Array(8),nt[gt]=ct,ct=nt,ot*=2,gt){case 0:j=W+ot,q=I+ot,tt=V+ot;break;case 1:W=j-ot,q=I+ot,tt=V+ot;break;case 2:j=W+ot,I=q-ot,tt=V+ot;break;case 3:W=j-ot,I=q-ot,tt=V+ot;break;case 4:j=W+ot,q=I+ot,V=tt-ot;break;case 5:W=j-ot,q=I+ot,V=tt-ot;break;case 6:j=W+ot,I=q-ot,V=tt-ot;break;case 7:W=j-ot,I=q-ot,V=tt-ot;break}this._root&&this._root.length&&(this._root=ct)}return this._x0=W,this._y0=I,this._z0=V,this._x1=j,this._y1=q,this._z1=tt,this}function a(){var S=[];return this.visit(function(P){if(!P.length)do S.push(P.data);while(P=P.next)}),S}function g(S){return arguments.length?this.cover(+S[0][0],+S[0][1],+S[0][2]).cover(+S[1][0],+S[1][1],+S[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function v(S,P,X,W,I,V,j){this.node=S,this.x0=P,this.y0=X,this.z0=W,this.x1=I,this.y1=V,this.z1=j}function c(S,P,X,W){var I,V=this._x0,j=this._y0,q=this._z0,tt,ot,ct,nt,gt,it,_=this._x1,ht=this._y1,lt=this._z1,at=[],Nt=this._root,vt,mt;for(Nt&&at.push(new v(Nt,V,j,q,_,ht,lt)),W==null?W=1/0:(V=S-W,j=P-W,q=X-W,_=S+W,ht=P+W,lt=X+W,W*=W);vt=at.pop();)if(!(!(Nt=vt.node)||(tt=vt.x0)>_||(ot=vt.y0)>ht||(ct=vt.z0)>lt||(nt=vt.x1)<V||(gt=vt.y1)<j||(it=vt.z1)<q))if(Nt.length){var xt=(tt+nt)/2,St=(ot+gt)/2,Tt=(ct+it)/2;at.push(new v(Nt[7],xt,St,Tt,nt,gt,it),new v(Nt[6],tt,St,Tt,xt,gt,it),new v(Nt[5],xt,ot,Tt,nt,St,it),new v(Nt[4],tt,ot,Tt,xt,St,it),new v(Nt[3],xt,St,ct,nt,gt,Tt),new v(Nt[2],tt,St,ct,xt,gt,Tt),new v(Nt[1],xt,ot,ct,nt,St,Tt),new v(Nt[0],tt,ot,ct,xt,St,Tt)),(mt=(X>=Tt)<<2|(P>=St)<<1|S>=xt)&&(vt=at[at.length-1],at[at.length-1]=at[at.length-1-mt],at[at.length-1-mt]=vt)}else{var It=S-+this._x.call(null,Nt.data),Bt=P-+this._y.call(null,Nt.data),Ht=X-+this._z.call(null,Nt.data),Ut=It*It+Bt*Bt+Ht*Ht;if(Ut<W){var Kt=Math.sqrt(W=Ut);V=S-Kt,j=P-Kt,q=X-Kt,_=S+Kt,ht=P+Kt,lt=X+Kt,I=Nt.data}}return I}const o=(S,P,X,W,I,V)=>Math.sqrt(Fn(S-W,2)+Fn(P-I,2)+Fn(X-V,2));function i(S,P,X,W){const I=[],V=S-W,j=P-W,q=X-W,tt=S+W,ot=P+W,ct=X+W;return this.visit((nt,gt,it,_,ht,lt,at)=>{if(!nt.length)do{const Nt=nt.data;o(S,P,X,this._x(Nt),this._y(Nt),this._z(Nt))<=W&&I.push(Nt)}while(nt=nt.next);return gt>tt||it>ot||_>ct||ht<V||lt<j||at<q}),I}function h(S){if(isNaN(gt=+this._x.call(null,S))||isNaN(it=+this._y.call(null,S))||isNaN(_=+this._z.call(null,S)))return this;var P,X=this._root,W,I,V,j=this._x0,q=this._y0,tt=this._z0,ot=this._x1,ct=this._y1,nt=this._z1,gt,it,_,ht,lt,at,Nt,vt,mt,xt,St;if(!X)return this;if(X.length)for(;;){if((Nt=gt>=(ht=(j+ot)/2))?j=ht:ot=ht,(vt=it>=(lt=(q+ct)/2))?q=lt:ct=lt,(mt=_>=(at=(tt+nt)/2))?tt=at:nt=at,P=X,!(X=X[xt=mt<<2|vt<<1|Nt]))return this;if(!X.length)break;(P[xt+1&7]||P[xt+2&7]||P[xt+3&7]||P[xt+4&7]||P[xt+5&7]||P[xt+6&7]||P[xt+7&7])&&(W=P,St=xt)}for(;X.data!==S;)if(I=X,!(X=X.next))return this;return(V=X.next)&&delete X.next,I?(V?I.next=V:delete I.next,this):P?(V?P[xt]=V:delete P[xt],(X=P[0]||P[1]||P[2]||P[3]||P[4]||P[5]||P[6]||P[7])&&X===(P[7]||P[6]||P[5]||P[4]||P[3]||P[2]||P[1]||P[0])&&!X.length&&(W?W[St]=X:this._root=X),this):(this._root=V,this)}function m(S){for(var P=0,X=S.length;P<X;++P)this.remove(S[P]);return this}function w(){return this._root}function M(){var S=0;return this.visit(function(P){if(!P.length)do++S;while(P=P.next)}),S}function Y(S){var P=[],X,W=this._root,I,V,j,q,tt,ot,ct;for(W&&P.push(new v(W,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));X=P.pop();)if(!S(W=X.node,V=X.x0,j=X.y0,q=X.z0,tt=X.x1,ot=X.y1,ct=X.z1)&&W.length){var nt=(V+tt)/2,gt=(j+ot)/2,it=(q+ct)/2;(I=W[7])&&P.push(new v(I,nt,gt,it,tt,ot,ct)),(I=W[6])&&P.push(new v(I,V,gt,it,nt,ot,ct)),(I=W[5])&&P.push(new v(I,nt,j,it,tt,gt,ct)),(I=W[4])&&P.push(new v(I,V,j,it,nt,gt,ct)),(I=W[3])&&P.push(new v(I,nt,gt,q,tt,ot,it)),(I=W[2])&&P.push(new v(I,V,gt,q,nt,ot,it)),(I=W[1])&&P.push(new v(I,nt,j,q,tt,gt,it)),(I=W[0])&&P.push(new v(I,V,j,q,nt,gt,it))}return this}function K(S){var P=[],X=[],W;for(this._root&&P.push(new v(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));W=P.pop();){var I=W.node;if(I.length){var V,j=W.x0,q=W.y0,tt=W.z0,ot=W.x1,ct=W.y1,nt=W.z1,gt=(j+ot)/2,it=(q+ct)/2,_=(tt+nt)/2;(V=I[0])&&P.push(new v(V,j,q,tt,gt,it,_)),(V=I[1])&&P.push(new v(V,gt,q,tt,ot,it,_)),(V=I[2])&&P.push(new v(V,j,it,tt,gt,ct,_)),(V=I[3])&&P.push(new v(V,gt,it,tt,ot,ct,_)),(V=I[4])&&P.push(new v(V,j,q,_,gt,it,nt)),(V=I[5])&&P.push(new v(V,gt,q,_,ot,it,nt)),(V=I[6])&&P.push(new v(V,j,it,_,gt,ct,nt)),(V=I[7])&&P.push(new v(V,gt,it,_,ot,ct,nt))}X.push(W)}for(;W=X.pop();)S(W.node,W.x0,W.y0,W.z0,W.x1,W.y1,W.z1);return this}function F(S){return S[0]}function Z(S){return arguments.length?(this._x=S,this):this._x}function J(S){return S[1]}function Q(S){return arguments.length?(this._y=S,this):this._y}function L(S){return S[2]}function B(S){return arguments.length?(this._z=S,this):this._z}function T(S,P,X,W){var I=new z(P==null?F:P,X==null?J:X,W==null?L:W,NaN,NaN,NaN,NaN,NaN,NaN);return S==null?I:I.addAll(S)}function z(S,P,X,W,I,V,j,q,tt){this._x=S,this._y=P,this._z=X,this._x0=W,this._y0=I,this._z0=V,this._x1=j,this._y1=q,this._z1=tt,this._root=void 0}function G(S){for(var P={data:S.data},X=P;S=S.next;)X=X.next={data:S.data};return P}var U=T.prototype=z.prototype;U.copy=function(){var S=new z(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),P=this._root,X,W;if(!P)return S;if(!P.length)return S._root=G(P),S;for(X=[{source:P,target:S._root=new Array(8)}];P=X.pop();)for(var I=0;I<8;++I)(W=P.source[I])&&(W.length?X.push({source:W,target:P.target[I]=new Array(8)}):P.target[I]=G(W));return S},U.add=r,U.addAll=u,U.cover=l,U.data=a,U.extent=g,U.find=c,U.findAllWithinRadius=i,U.remove=h,U.removeAll=m,U.root=w,U.size=M,U.visit=Y,U.visitAfter=K,U.x=Z,U.y=Q,U.z=B},81269:function(f,b,t){"use strict";t.d(b,{Z:function(){return J}});function r(T){const z=+this._x.call(null,T),G=+this._y.call(null,T);return d(this.cover(z,G),z,G,T)}function d(T,z,G,U){if(isNaN(z)||isNaN(G))return T;var S,P=T._root,X={data:U},W=T._x0,I=T._y0,V=T._x1,j=T._y1,q,tt,ot,ct,nt,gt,it,_;if(!P)return T._root=X,T;for(;P.length;)if((nt=z>=(q=(W+V)/2))?W=q:V=q,(gt=G>=(tt=(I+j)/2))?I=tt:j=tt,S=P,!(P=P[it=gt<<1|nt]))return S[it]=X,T;if(ot=+T._x.call(null,P.data),ct=+T._y.call(null,P.data),z===ot&&G===ct)return X.next=P,S?S[it]=X:T._root=X,T;do S=S?S[it]=new Array(4):T._root=new Array(4),(nt=z>=(q=(W+V)/2))?W=q:V=q,(gt=G>=(tt=(I+j)/2))?I=tt:j=tt;while((it=gt<<1|nt)===(_=(ct>=tt)<<1|ot>=q));return S[_]=P,S[it]=X,T}function u(T){var z,G,U=T.length,S,P,X=new Array(U),W=new Array(U),I=1/0,V=1/0,j=-1/0,q=-1/0;for(G=0;G<U;++G)isNaN(S=+this._x.call(null,z=T[G]))||isNaN(P=+this._y.call(null,z))||(X[G]=S,W[G]=P,S<I&&(I=S),S>j&&(j=S),P<V&&(V=P),P>q&&(q=P));if(I>j||V>q)return this;for(this.cover(I,V).cover(j,q),G=0;G<U;++G)d(this,X[G],W[G],T[G]);return this}function l(T,z){if(isNaN(T=+T)||isNaN(z=+z))return this;var G=this._x0,U=this._y0,S=this._x1,P=this._y1;if(isNaN(G))S=(G=Math.floor(T))+1,P=(U=Math.floor(z))+1;else{for(var X=S-G||1,W=this._root,I,V;G>T||T>=S||U>z||z>=P;)switch(V=(z<U)<<1|T<G,I=new Array(4),I[V]=W,W=I,X*=2,V){case 0:S=G+X,P=U+X;break;case 1:G=S-X,P=U+X;break;case 2:S=G+X,U=P-X;break;case 3:G=S-X,U=P-X;break}this._root&&this._root.length&&(this._root=W)}return this._x0=G,this._y0=U,this._x1=S,this._y1=P,this}function a(){var T=[];return this.visit(function(z){if(!z.length)do T.push(z.data);while(z=z.next)}),T}function g(T){return arguments.length?this.cover(+T[0][0],+T[0][1]).cover(+T[1][0],+T[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function v(T,z,G,U,S){this.node=T,this.x0=z,this.y0=G,this.x1=U,this.y1=S}function c(T,z,G){var U,S=this._x0,P=this._y0,X,W,I,V,j=this._x1,q=this._y1,tt=[],ot=this._root,ct,nt;for(ot&&tt.push(new v(ot,S,P,j,q)),G==null?G=1/0:(S=T-G,P=z-G,j=T+G,q=z+G,G*=G);ct=tt.pop();)if(!(!(ot=ct.node)||(X=ct.x0)>j||(W=ct.y0)>q||(I=ct.x1)<S||(V=ct.y1)<P))if(ot.length){var gt=(X+I)/2,it=(W+V)/2;tt.push(new v(ot[3],gt,it,I,V),new v(ot[2],X,it,gt,V),new v(ot[1],gt,W,I,it),new v(ot[0],X,W,gt,it)),(nt=(z>=it)<<1|T>=gt)&&(ct=tt[tt.length-1],tt[tt.length-1]=tt[tt.length-1-nt],tt[tt.length-1-nt]=ct)}else{var _=T-+this._x.call(null,ot.data),ht=z-+this._y.call(null,ot.data),lt=_*_+ht*ht;if(lt<G){var at=Math.sqrt(G=lt);S=T-at,P=z-at,j=T+at,q=z+at,U=ot.data}}return U}function o(T){if(isNaN(j=+this._x.call(null,T))||isNaN(q=+this._y.call(null,T)))return this;var z,G=this._root,U,S,P,X=this._x0,W=this._y0,I=this._x1,V=this._y1,j,q,tt,ot,ct,nt,gt,it;if(!G)return this;if(G.length)for(;;){if((ct=j>=(tt=(X+I)/2))?X=tt:I=tt,(nt=q>=(ot=(W+V)/2))?W=ot:V=ot,z=G,!(G=G[gt=nt<<1|ct]))return this;if(!G.length)break;(z[gt+1&3]||z[gt+2&3]||z[gt+3&3])&&(U=z,it=gt)}for(;G.data!==T;)if(S=G,!(G=G.next))return this;return(P=G.next)&&delete G.next,S?(P?S.next=P:delete S.next,this):z?(P?z[gt]=P:delete z[gt],(G=z[0]||z[1]||z[2]||z[3])&&G===(z[3]||z[2]||z[1]||z[0])&&!G.length&&(U?U[it]=G:this._root=G),this):(this._root=P,this)}function i(T){for(var z=0,G=T.length;z<G;++z)this.remove(T[z]);return this}function h(){return this._root}function m(){var T=0;return this.visit(function(z){if(!z.length)do++T;while(z=z.next)}),T}function w(T){var z=[],G,U=this._root,S,P,X,W,I;for(U&&z.push(new v(U,this._x0,this._y0,this._x1,this._y1));G=z.pop();)if(!T(U=G.node,P=G.x0,X=G.y0,W=G.x1,I=G.y1)&&U.length){var V=(P+W)/2,j=(X+I)/2;(S=U[3])&&z.push(new v(S,V,j,W,I)),(S=U[2])&&z.push(new v(S,P,j,V,I)),(S=U[1])&&z.push(new v(S,V,X,W,j)),(S=U[0])&&z.push(new v(S,P,X,V,j))}return this}function M(T){var z=[],G=[],U;for(this._root&&z.push(new v(this._root,this._x0,this._y0,this._x1,this._y1));U=z.pop();){var S=U.node;if(S.length){var P,X=U.x0,W=U.y0,I=U.x1,V=U.y1,j=(X+I)/2,q=(W+V)/2;(P=S[0])&&z.push(new v(P,X,W,j,q)),(P=S[1])&&z.push(new v(P,j,W,I,q)),(P=S[2])&&z.push(new v(P,X,q,j,V)),(P=S[3])&&z.push(new v(P,j,q,I,V))}G.push(U)}for(;U=G.pop();)T(U.node,U.x0,U.y0,U.x1,U.y1);return this}function Y(T){return T[0]}function K(T){return arguments.length?(this._x=T,this):this._x}function F(T){return T[1]}function Z(T){return arguments.length?(this._y=T,this):this._y}function J(T,z,G){var U=new Q(z==null?Y:z,G==null?F:G,NaN,NaN,NaN,NaN);return T==null?U:U.addAll(T)}function Q(T,z,G,U,S,P){this._x=T,this._y=z,this._x0=G,this._y0=U,this._x1=S,this._y1=P,this._root=void 0}function L(T){for(var z={data:T.data},G=z;T=T.next;)G=G.next={data:T.data};return z}var B=J.prototype=Q.prototype;B.copy=function(){var T=new Q(this._x,this._y,this._x0,this._y0,this._x1,this._y1),z=this._root,G,U;if(!z)return T;if(!z.length)return T._root=L(z),T;for(G=[{source:z,target:T._root=new Array(4)}];z=G.pop();)for(var S=0;S<4;++S)(U=z.source[S])&&(U.length?G.push({source:U,target:z.target[S]=new Array(4)}):z.target[S]=L(U));return T},B.add=r,B.addAll=u,B.cover=l,B.data=a,B.extent=g,B.find=c,B.remove=o,B.removeAll=i,B.root=h,B.size=m,B.visit=w,B.visitAfter=M,B.x=K,B.y=Z}}]);
}());