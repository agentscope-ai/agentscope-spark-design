---
order: 1
title: Usage with Vite
group:
  title: How to use
  order: 1
---

# Usage with Vite

<a href="https://cn.vitejs.dev/" target="_blank" rel="noopener noreferrer">Vite</a> is one of the industry's best React application development tools. This article will demonstrate how to use Alibaba Cloud Spark Chat in a project created with Vite.

## Installation and Initialization

```bash
$ npm create vite spark-chat-demo
```

After selecting React, the tool will automatically initialize a scaffold and install various necessary dependencies for the React project. If you encounter network issues during the process, try configuring a proxy or using other npm registries. Then we enter the project to install dependencies and start it.

```bash
$ cd spark-chat-demo
$ npm install
$ npm run dev
```

Now, visit http://localhost:5173/ in your browser. If you see the Vite + React interface, you've succeeded.

<img src="https://gw.alicdn.com/imgextra/i2/O1CN013SGv2B1wOzu6obfxI_!!6000000006299-2-tps-2452-1654.png" style="max-width: 50%;" alt="Vite + React interface" />

## Install @agentscope-ai/chat

This is the default directory structure generated by Vite. Please first remove `App.css` and `index.css`, then install the dependencies.

<Tree>
  <ul>
    <li>public
      <ul>
        <li>vite.svg</li>
      </ul>
    </li>
    <li>src
      <ul>
        <li>assets
          <ul>
            <li>react.svg</li>
          </ul>
        </li>
        <li>App.css</li>
        <li>App.tsx</li>
        <li>index.css</li>
        <li>main.tsx</li>
        <li>logo.svg</li>
      </ul>
    </li>
    <li>index.html</li>
    <li>package.json</li>
    <li>vite.config.ts</li>
  </ul>
</Tree>

```bash
$ cd spark-chat-demo
$ rm src/App.css
$ rm src/index.css
$ npm install antd @agentscope-ai/design @agentscope-ai/chat --save
```

### Modify `src/App.tsx`

```tsx | pure
import { ConfigProvider, carbonTheme } from '@agentscope-ai/design';
import { Bubble, ChatInput, type TMessage } from '@agentscope-ai/chat';
import { useState } from 'react';

function App() {
  const [messages, setMessages] = useState<TMessage[]>([]);
  const [input, setInput] = useState('');

  const handleSend = (input: string) => {
    setMessages([
      ...messages,
      {
        role: 'user',
        content: input,
        id: Date.now().toString(),
      },
    ]);
    setInput('');
  };

  return (
    <ConfigProvider {...carbonTheme} prefix="spark-chat" prefixCls="spark-chat">
      <div>
        <Bubble.List items={messages} />
        <ChatInput value={input} onChange={setInput} onSubmit={handleSend} />
      </div>
    </ConfigProvider>
  );
}

export default App;
```

### Modify `src/main.tsx`

```tsx | pure
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import App from './App.tsx';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);
```

Perfect! Now you should see a basic conversation UI rendered on the page. You can continue to choose other components to develop your application. For other engineering configurations, you can refer to the official <a href="https://cn.vitejs.dev/" target="_blank" rel="noopener noreferrer">Vite</a> documentation.

<img src="https://gw.alicdn.com/imgextra/i3/O1CN01T2DkJE1KIczqXgh8l_!!6000000001141-2-tps-2452-1654.png" style="max-width: 50%;" alt="Basic conversation UI" />


## FAQ

- Why can't I see the chat list rendering?
  - `Bubble.List` and `ChatInput` require their parent element to have a specified height and `flex-direction: column`.